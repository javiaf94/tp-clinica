import{$ as Fh,$a as re,A as kh,Aa as fy,Ab as Ms,B as Kt,Ba as Bh,Bb as xy,C as Oh,Ca as py,Cb as Dy,D as ty,Da as ha,Db as xt,E as Nh,Ea as j,Eb as Wh,F as ny,Fa as Y,Fb as Ml,G as jr,Ga as jh,Gb as Vl,H as xs,Ha as my,Hb as ky,I as Di,Ia as xl,Ib as Oy,J as Mh,Ja as zr,Jb as Zt,K as Ds,Ka as gy,Kb as Lt,L as ry,La as $h,Lb as Ny,M as ks,Ma as fa,Mb as Fl,N as $r,Na as Yt,Nb as Ll,O as Vh,Oa as _y,P as iy,Pa as yy,Q as sy,Qa as vy,R as oy,Ra as K,S as Qt,Sa as Dl,T as ay,Ta as B,U as at,Ua as qh,V as Ne,Va as A,W as Jn,Wa as b,X as _e,Xa as te,Y as ki,Ya as pa,Z as cy,Za as ma,_ as me,_a as Xt,a as H,aa as Ce,ab as ne,b as ke,ba as Z,bb as wy,ca as ct,cb as by,d as mT,da,db as Ey,e as la,ea as Ye,eb as O,f as Lr,fa as Oi,fb as ga,g as E,ga as He,gb as Iy,h as Q_,ha as Ct,hb as Ty,i as J_,ia as ly,ib as Cy,j as Ur,ja as Os,jb as Ay,k as Sh,ka as un,kb as er,l as Rh,la as Yn,lb as Ze,m as Pn,ma as Ae,mb as zh,n as Wt,na as Se,nb as _a,o as Y_,oa as Xn,ob as Sy,p as X_,pa as uy,pb as kl,q as Br,qa as dn,qb as Ol,r as Ph,ra as Pl,rb as Gh,s as xh,sa as Jt,sb as Nl,t as Dh,ta as Xe,tb as Hh,u as gt,ua as Lh,ub as Ry,v as ae,va as qr,vb as Ns,w as ua,wa as dy,wb as Py,x as Z_,xa as Uh,xb as Ni,y as ey,ya as hy,yb as ya,z as he,za as Zn,zb as Gr}from"./chunk-ARXV77UD.js";var Mo=mT((Hn,F_)=>{"use strict";(function(n,e){typeof Hn=="object"&&typeof F_<"u"?F_.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Hn,function(){"use strict";function n(u,d,m){if(typeof u=="function"?u===d:u.has(d))return arguments.length<3?d:m;throw new TypeError("Private element is not present on this object")}function e(u,d){if(d.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(u,d){return u.get(n(u,d))}function r(u,d,m){e(u,d),d.set(u,m)}function i(u,d,m){return u.set(n(u,d),m),m}let s=100,o={},c=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},l=u=>new Promise(d=>{if(!u)return d();let m=window.scrollX,v=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{c(),d()},s),window.scrollTo(m,v)}),f="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((u,d)=>(u[d]=f+d,u),{}),k=["success","warning","info","question","error"].reduce((u,d)=>(u[d]=f+d,u),{}),F="SweetAlert2:",U=u=>u.charAt(0).toUpperCase()+u.slice(1),M=u=>{console.warn(`${F} ${typeof u=="object"?u.join(" "):u}`)},J=u=>{console.error(`${F} ${u}`)},ee=[],W=u=>{ee.includes(u)||(ee.push(u),M(u))},oe=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;W(`"${u}" is deprecated and will be removed in the next major release.${d?` Use "${d}" instead.`:""}`)},Ie=u=>typeof u=="function"?u():u,ue=u=>u&&typeof u.toPromise=="function",P=u=>ue(u)?u.toPromise():Promise.resolve(u),w=u=>u&&Promise.resolve(u)===u,I=()=>document.body.querySelector(`.${g.container}`),S=u=>{let d=I();return d?d.querySelector(u):null},R=u=>S(`.${u}`),x=()=>R(g.popup),T=()=>R(g.icon),nn=()=>R(g["icon-content"]),wr=()=>R(g.title),Vo=()=>R(g["html-container"]),br=()=>R(g.image),Kn=()=>R(g["progress-steps"]),Er=()=>R(g["validation-message"]),Nt=()=>S(`.${g.actions} .${g.confirm}`),Ir=()=>S(`.${g.actions} .${g.cancel}`),wt=()=>S(`.${g.actions} .${g.deny}`),lt=()=>R(g["input-label"]),Tr=()=>S(`.${g.loader}`),rn=()=>R(g.actions),Fc=()=>R(g.footer),wn=()=>R(g["timer-progress-bar"]),Fo=()=>R(g.close),ch=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Cr=()=>{let u=x();if(!u)return[];let d=u.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),m=Array.from(d).sort((G,pe)=>{let be=parseInt(G.getAttribute("tabindex")||"0"),Be=parseInt(pe.getAttribute("tabindex")||"0");return be>Be?1:be<Be?-1:0}),v=u.querySelectorAll(ch),N=Array.from(v).filter(G=>G.getAttribute("tabindex")!=="-1");return[...new Set(m.concat(N))].filter(G=>mt(G))},Ar=()=>Mt(document.body,g.shown)&&!Mt(document.body,g["toast-shown"])&&!Mt(document.body,g["no-backdrop"]),Sr=()=>{let u=x();return u?Mt(u,g.toast):!1},Lo=()=>{let u=x();return u?u.hasAttribute("data-loading"):!1},pt=(u,d)=>{if(u.textContent="",d){let v=new DOMParser().parseFromString(d,"text/html"),N=v.querySelector("head");N&&Array.from(N.childNodes).forEach(pe=>{u.appendChild(pe)});let G=v.querySelector("body");G&&Array.from(G.childNodes).forEach(pe=>{pe instanceof HTMLVideoElement||pe instanceof HTMLAudioElement?u.appendChild(pe.cloneNode(!0)):u.appendChild(pe)})}},Mt=(u,d)=>{if(!d)return!1;let m=d.split(/\s+/);for(let v=0;v<m.length;v++)if(!u.classList.contains(m[v]))return!1;return!0},Lc=(u,d)=>{Array.from(u.classList).forEach(m=>{!Object.values(g).includes(m)&&!Object.values(k).includes(m)&&!Object.values(d.showClass||{}).includes(m)&&u.classList.remove(m)})},bt=(u,d,m)=>{if(Lc(u,d),!d.customClass)return;let v=d.customClass[m];if(v){if(typeof v!="string"&&!v.forEach){M(`Invalid type of customClass.${m}! Expected string or iterable object, got "${typeof v}"`);return}ge(u,v)}},gs=(u,d)=>{if(!d)return null;switch(d){case"select":case"textarea":case"file":return u.querySelector(`.${g.popup} > .${g[d]}`);case"checkbox":return u.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return u.querySelector(`.${g.popup} > .${g.radio} input:checked`)||u.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return u.querySelector(`.${g.popup} > .${g.range} input`);default:return u.querySelector(`.${g.popup} > .${g.input}`)}},Uo=u=>{if(u.focus(),u.type!=="file"){let d=u.value;u.value="",u.value=d}},Bo=(u,d,m)=>{!u||!d||(typeof d=="string"&&(d=d.split(/\s+/).filter(Boolean)),d.forEach(v=>{Array.isArray(u)?u.forEach(N=>{m?N.classList.add(v):N.classList.remove(v)}):m?u.classList.add(v):u.classList.remove(v)}))},ge=(u,d)=>{Bo(u,d,!0)},Vt=(u,d)=>{Bo(u,d,!1)},bn=(u,d)=>{let m=Array.from(u.children);for(let v=0;v<m.length;v++){let N=m[v];if(N instanceof HTMLElement&&Mt(N,d))return N}},sn=(u,d,m)=>{m===`${parseInt(m)}`&&(m=parseInt(m)),m||parseInt(m)===0?u.style.setProperty(d,typeof m=="number"?`${m}px`:m):u.style.removeProperty(d)},$e=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";u&&(u.style.display=d)},Ke=u=>{u&&(u.style.display="none")},Qe=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";u&&new MutationObserver(()=>{En(u,u.innerHTML,d)}).observe(u,{childList:!0,subtree:!0})},ut=(u,d,m,v)=>{let N=u.querySelector(d);N&&N.style.setProperty(m,v)},En=function(u,d){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";d?$e(u,m):Ke(u)},mt=u=>!!(u&&(u.offsetWidth||u.offsetHeight||u.getClientRects().length)),Uc=()=>!mt(Nt())&&!mt(wt())&&!mt(Ir()),Bc=u=>u.scrollHeight>u.clientHeight,Rr=u=>{let d=window.getComputedStyle(u),m=parseFloat(d.getPropertyValue("animation-duration")||"0"),v=parseFloat(d.getPropertyValue("transition-duration")||"0");return m>0||v>0},_s=function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=wn();m&&mt(m)&&(d&&(m.style.transition="none",m.style.width="100%"),setTimeout(()=>{m.style.transition=`width ${u/1e3}s linear`,m.style.width="0%"},10))},jc=()=>{let u=wn();if(!u)return;let d=parseInt(window.getComputedStyle(u).width);u.style.removeProperty("transition"),u.style.width="100%";let m=parseInt(window.getComputedStyle(u).width),v=d/m*100;u.style.width=`${v}%`},jo=()=>typeof window>"u"||typeof document>"u",lh=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),uh=()=>{let u=I();return u?(u.remove(),Vt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},on=()=>{o.currentInstance.resetValidationMessage()},$c=()=>{let u=x(),d=bn(u,g.input),m=bn(u,g.file),v=u.querySelector(`.${g.range} input`),N=u.querySelector(`.${g.range} output`),G=bn(u,g.select),pe=u.querySelector(`.${g.checkbox} input`),be=bn(u,g.textarea);d.oninput=on,m.onchange=on,G.onchange=on,pe.onchange=on,be.oninput=on,v.oninput=()=>{on(),N.value=v.value},v.onchange=()=>{on(),N.value=v.value}},qc=u=>typeof u=="string"?document.querySelector(u):u,mi=u=>{let d=x();d.setAttribute("role",u.toast?"alert":"dialog"),d.setAttribute("aria-live",u.toast?"polite":"assertive"),u.toast||d.setAttribute("aria-modal","true")},$o=u=>{window.getComputedStyle(u).direction==="rtl"&&ge(I(),g.rtl)},qo=u=>{let d=uh();if(jo()){J("SweetAlert2 requires document to initialize");return}let m=document.createElement("div");m.className=g.container,d&&ge(m,g["no-transition"]),pt(m,lh);let v=qc(u.target);v.appendChild(m),mi(u),$o(v),$c()},an=(u,d)=>{u instanceof HTMLElement?d.appendChild(u):typeof u=="object"?zc(u,d):u&&pt(d,u)},zc=(u,d)=>{u.jquery?ys(d,u):pt(d,u.toString())},ys=(u,d)=>{if(u.textContent="",0 in d)for(let m=0;m in d;m++)u.appendChild(d[m].cloneNode(!0));else u.appendChild(d.cloneNode(!0))},Gc=(u,d)=>{let m=rn(),v=Tr();!m||!v||(!d.showConfirmButton&&!d.showDenyButton&&!d.showCancelButton?Ke(m):$e(m),bt(m,d,"actions"),gi(m,v,d),pt(v,d.loaderHtml||""),bt(v,d,"loader"))};function gi(u,d,m){let v=Nt(),N=wt(),G=Ir();!v||!N||!G||(it(v,"confirm",m),it(N,"deny",m),it(G,"cancel",m),Hc(v,N,G,m),m.reverseButtons&&(m.toast?(u.insertBefore(G,v),u.insertBefore(N,v)):(u.insertBefore(G,d),u.insertBefore(N,d),u.insertBefore(v,d))))}function Hc(u,d,m,v){if(!v.buttonsStyling){Vt([u,d,m],g.styled);return}ge([u,d,m],g.styled),v.confirmButtonColor&&(u.style.backgroundColor=v.confirmButtonColor,ge(u,g["default-outline"])),v.denyButtonColor&&(d.style.backgroundColor=v.denyButtonColor,ge(d,g["default-outline"])),v.cancelButtonColor&&(m.style.backgroundColor=v.cancelButtonColor,ge(m,g["default-outline"]))}function it(u,d,m){let v=U(d);En(u,m[`show${v}Button`],"inline-block"),pt(u,m[`${d}ButtonText`]||""),u.setAttribute("aria-label",m[`${d}ButtonAriaLabel`]||""),u.className=g[d],bt(u,m,`${d}Button`)}let Wc=(u,d)=>{let m=Fo();m&&(pt(m,d.closeButtonHtml||""),bt(m,d,"closeButton"),En(m,d.showCloseButton),m.setAttribute("aria-label",d.closeButtonAriaLabel||""))},_i=(u,d)=>{let m=I();m&&(yi(m,d.backdrop),dh(m,d.position),hh(m,d.grow),bt(m,d,"container"))};function yi(u,d){typeof d=="string"?u.style.background=d:d||ge([document.documentElement,document.body],g["no-backdrop"])}function dh(u,d){d&&(d in g?ge(u,g[d]):(M('The "position" parameter is not valid, defaulting to "center"'),ge(u,g.center)))}function hh(u,d){d&&ge(u,g[`grow-${d}`])}var Te={innerParams:new WeakMap,domCache:new WeakMap};let fh=["input","file","range","select","radio","checkbox","textarea"],ph=(u,d)=>{let m=x();if(!m)return;let v=Te.innerParams.get(u),N=!v||d.input!==v.input;fh.forEach(G=>{let pe=bn(m,g[G]);pe&&(zo(G,d.inputAttributes),pe.className=g[G],N&&Ke(pe))}),d.input&&(N&&vs(d),ws(d))},vs=u=>{if(!u.input)return;if(!Ve[u.input]){J(`Unexpected type of input! Expected ${Object.keys(Ve).join(" | ")}, got "${u.input}"`);return}let d=Go(u.input);if(!d)return;let m=Ve[u.input](d,u);$e(d),u.inputAutoFocus&&setTimeout(()=>{Uo(m)})},Kc=u=>{for(let d=0;d<u.attributes.length;d++){let m=u.attributes[d].name;["id","type","value","style"].includes(m)||u.removeAttribute(m)}},zo=(u,d)=>{let m=x();if(!m)return;let v=gs(m,u);if(v){Kc(v);for(let N in d)v.setAttribute(N,d[N])}},ws=u=>{if(!u.input)return;let d=Go(u.input);d&&bt(d,u,"input")},Gt=(u,d)=>{!u.placeholder&&d.inputPlaceholder&&(u.placeholder=d.inputPlaceholder)},Pr=(u,d,m)=>{if(m.inputLabel){let v=document.createElement("label"),N=g["input-label"];v.setAttribute("for",u.id),v.className=N,typeof m.customClass=="object"&&ge(v,m.customClass.inputLabel),v.innerText=m.inputLabel,d.insertAdjacentElement("beforebegin",v)}},Go=u=>{let d=x();if(d)return bn(d,g[u]||g.input)},xr=(u,d)=>{["string","number"].includes(typeof d)?u.value=`${d}`:w(d)||M(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof d}"`)},Ve={};Ve.text=Ve.email=Ve.password=Ve.number=Ve.tel=Ve.url=Ve.search=Ve.date=Ve["datetime-local"]=Ve.time=Ve.week=Ve.month=(u,d)=>(xr(u,d.inputValue),Pr(u,u,d),Gt(u,d),u.type=d.input,u),Ve.file=(u,d)=>(Pr(u,u,d),Gt(u,d),u),Ve.range=(u,d)=>{let m=u.querySelector("input"),v=u.querySelector("output");return xr(m,d.inputValue),m.type=d.input,xr(v,d.inputValue),Pr(m,u,d),u},Ve.select=(u,d)=>{if(u.textContent="",d.inputPlaceholder){let m=document.createElement("option");pt(m,d.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,u.appendChild(m)}return Pr(u,u,d),u},Ve.radio=u=>(u.textContent="",u),Ve.checkbox=(u,d)=>{let m=gs(x(),"checkbox");m.value="1",m.checked=!!d.inputValue;let v=u.querySelector("span");return pt(v,d.inputPlaceholder||d.inputLabel),m},Ve.textarea=(u,d)=>{xr(u,d.inputValue),Gt(u,d),Pr(u,u,d);let m=v=>parseInt(window.getComputedStyle(v).marginLeft)+parseInt(window.getComputedStyle(v).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let v=parseInt(window.getComputedStyle(x()).width),N=()=>{if(!document.body.contains(u))return;let G=u.offsetWidth+m(u);G>v?x().style.width=`${G}px`:sn(x(),"width",d.width)};new MutationObserver(N).observe(u,{attributes:!0,attributeFilter:["style"]})}}),u};let Qc=(u,d)=>{let m=Vo();m&&(Qe(m),bt(m,d,"htmlContainer"),d.html?(an(d.html,m),$e(m,"block")):d.text?(m.textContent=d.text,$e(m,"block")):Ke(m),ph(u,d))},Jc=(u,d)=>{let m=Fc();m&&(Qe(m),En(m,d.footer,"block"),d.footer&&an(d.footer,m),bt(m,d,"footer"))},mh=(u,d)=>{let m=Te.innerParams.get(u),v=T();if(v){if(m&&d.icon===m.icon){In(v,d),vi(v,d);return}if(!d.icon&&!d.iconHtml){Ke(v);return}if(d.icon&&Object.keys(k).indexOf(d.icon)===-1){J(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${d.icon}"`),Ke(v);return}$e(v),In(v,d),vi(v,d),ge(v,d.showClass&&d.showClass.icon)}},vi=(u,d)=>{for(let[m,v]of Object.entries(k))d.icon!==m&&Vt(u,v);ge(u,d.icon&&k[d.icon]),Wo(u,d),Yc(),bt(u,d,"icon")},Yc=()=>{let u=x();if(!u)return;let d=window.getComputedStyle(u).getPropertyValue("background-color"),m=u.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let v=0;v<m.length;v++)m[v].style.backgroundColor=d},Ho=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,wi=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,In=(u,d)=>{if(!d.icon&&!d.iconHtml)return;let m=u.innerHTML,v="";d.iconHtml?v=Xc(d.iconHtml):d.icon==="success"?(v=Ho,m=m.replace(/ style=".*?"/g,"")):d.icon==="error"?v=wi:d.icon&&(v=Xc({question:"?",warning:"!",info:"i"}[d.icon])),m.trim()!==v.trim()&&pt(u,v)},Wo=(u,d)=>{if(d.iconColor){u.style.color=d.iconColor,u.style.borderColor=d.iconColor;for(let m of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ut(u,m,"background-color",d.iconColor);ut(u,".swal2-success-ring","border-color",d.iconColor)}},Xc=u=>`<div class="${g["icon-content"]}">${u}</div>`,Zc=(u,d)=>{let m=br();if(m){if(!d.imageUrl){Ke(m);return}$e(m,""),m.setAttribute("src",d.imageUrl),m.setAttribute("alt",d.imageAlt||""),sn(m,"width",d.imageWidth),sn(m,"height",d.imageHeight),m.className=g.image,bt(m,d,"image")}},el=(u,d)=>{let m=I(),v=x();if(!(!m||!v)){if(d.toast){sn(m,"width",d.width),v.style.width="100%";let N=Tr();N&&v.insertBefore(N,T())}else sn(v,"width",d.width);sn(v,"padding",d.padding),d.color&&(v.style.color=d.color),d.background&&(v.style.background=d.background),Ke(Er()),tl(v,d)}},tl=(u,d)=>{let m=d.showClass||{};u.className=`${g.popup} ${mt(u)?m.popup:""}`,d.toast?(ge([document.documentElement,document.body],g["toast-shown"]),ge(u,g.toast)):ge(u,g.modal),bt(u,d,"popup"),typeof d.customClass=="string"&&ge(u,d.customClass),d.icon&&ge(u,g[`icon-${d.icon}`])},Ko=(u,d)=>{let m=Kn();if(!m)return;let{progressSteps:v,currentProgressStep:N}=d;if(!v||v.length===0||N===void 0){Ke(m);return}$e(m),m.textContent="",N>=v.length&&M("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),v.forEach((G,pe)=>{let be=Qo(G);if(m.appendChild(be),pe===N&&ge(be,g["active-progress-step"]),pe!==v.length-1){let Be=nl(d);m.appendChild(Be)}})},Qo=u=>{let d=document.createElement("li");return ge(d,g["progress-step"]),pt(d,u),d},nl=u=>{let d=document.createElement("li");return ge(d,g["progress-step-line"]),u.progressStepsDistance&&sn(d,"width",u.progressStepsDistance),d},rl=(u,d)=>{let m=wr();m&&(Qe(m),En(m,d.title||d.titleText,"block"),d.title&&an(d.title,m),d.titleText&&(m.innerText=d.titleText),bt(m,d,"title"))},il=(u,d)=>{el(u,d),_i(u,d),Ko(u,d),mh(u,d),Zc(u,d),rl(u,d),Wc(u,d),Qc(u,d),Gc(u,d),Jc(u,d);let m=x();typeof d.didRender=="function"&&m&&d.didRender(m),o.eventEmitter.emit("didRender",m)},gh=()=>mt(x()),Jo=()=>{var u;return(u=Nt())===null||u===void 0?void 0:u.click()},sl=()=>{var u;return(u=wt())===null||u===void 0?void 0:u.click()},_h=()=>{var u;return(u=Ir())===null||u===void 0?void 0:u.click()},Rt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ht=u=>{u.keydownTarget&&u.keydownHandlerAdded&&(u.keydownTarget.removeEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!1)},bs=(u,d,m)=>{Ht(u),d.toast||(u.keydownHandler=v=>Es(d,v,m),u.keydownTarget=d.keydownListenerCapture?window:x(),u.keydownListenerCapture=d.keydownListenerCapture,u.keydownTarget.addEventListener("keydown",u.keydownHandler,{capture:u.keydownListenerCapture}),u.keydownHandlerAdded=!0)},Dr=(u,d)=>{var m;let v=Cr();if(v.length){u=u+d,u===v.length?u=0:u===-1&&(u=v.length-1),v[u].focus();return}(m=x())===null||m===void 0||m.focus()},Yo=["ArrowRight","ArrowDown"],Oe=["ArrowLeft","ArrowUp"],Es=(u,d,m)=>{u&&(d.isComposing||d.keyCode===229||(u.stopKeydownPropagation&&d.stopPropagation(),d.key==="Enter"?bi(d,u):d.key==="Tab"?Ei(d):[...Yo,...Oe].includes(d.key)?yh(d.key):d.key==="Escape"&&ol(d,u,m)))},bi=(u,d)=>{if(!Ie(d.allowEnterKey))return;let m=gs(x(),d.input);if(u.target&&m&&u.target instanceof HTMLElement&&u.target.outerHTML===m.outerHTML){if(["textarea","file"].includes(d.input))return;Jo(),u.preventDefault()}},Ei=u=>{let d=u.target,m=Cr(),v=-1;for(let N=0;N<m.length;N++)if(d===m[N]){v=N;break}u.shiftKey?Dr(v,-1):Dr(v,1),u.stopPropagation(),u.preventDefault()},yh=u=>{let d=rn(),m=Nt(),v=wt(),N=Ir();if(!d||!m||!v||!N)return;let G=[m,v,N];if(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))return;let pe=Yo.includes(u)?"nextElementSibling":"previousElementSibling",be=document.activeElement;if(be){for(let Be=0;Be<d.children.length;Be++){if(be=be[pe],!be)return;if(be instanceof HTMLButtonElement&&mt(be))break}be instanceof HTMLButtonElement&&be.focus()}},ol=(u,d,m)=>{Ie(d.allowEscapeKey)&&(u.preventDefault(),m(Rt.esc))};var kr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let vh=()=>{let u=I();Array.from(document.body.children).forEach(m=>{m.contains(u)||(m.hasAttribute("aria-hidden")&&m.setAttribute("data-previous-aria-hidden",m.getAttribute("aria-hidden")||""),m.setAttribute("aria-hidden","true"))})},al=()=>{Array.from(document.body.children).forEach(d=>{d.hasAttribute("data-previous-aria-hidden")?(d.setAttribute("aria-hidden",d.getAttribute("data-previous-aria-hidden")||""),d.removeAttribute("data-previous-aria-hidden")):d.removeAttribute("aria-hidden")})},cl=typeof window<"u"&&!!window.GestureEvent,Ii=()=>{if(cl&&!Mt(document.body,g.iosfix)){let u=document.body.scrollTop;document.body.style.top=`${u*-1}px`,ge(document.body,g.iosfix),Tn()}},Tn=()=>{let u=I();if(!u)return;let d;u.ontouchstart=m=>{d=ll(m)},u.ontouchmove=m=>{d&&(m.preventDefault(),m.stopPropagation())}},ll=u=>{let d=u.target,m=I(),v=Vo();return!m||!v||ul(u)||dl(u)?!1:d===m||!Bc(m)&&d instanceof HTMLElement&&d.tagName!=="INPUT"&&d.tagName!=="TEXTAREA"&&!(Bc(v)&&v.contains(d))},ul=u=>u.touches&&u.touches.length&&u.touches[0].touchType==="stylus",dl=u=>u.touches&&u.touches.length>1,Or=()=>{if(Mt(document.body,g.iosfix)){let u=parseInt(document.body.style.top,10);Vt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=u*-1}},wh=()=>{let u=document.createElement("div");u.className=g["scrollbar-measure"],document.body.appendChild(u);let d=u.getBoundingClientRect().width-u.clientWidth;return document.body.removeChild(u),d},Nr=null,bh=u=>{Nr===null&&(document.body.scrollHeight>window.innerHeight||u==="scroll")&&(Nr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Nr+wh()}px`)},Cn=()=>{Nr!==null&&(document.body.style.paddingRight=`${Nr}px`,Nr=null)};function hl(u,d,m,v){Sr()?Fe(u,v):(l(m).then(()=>Fe(u,v)),Ht(o)),cl?(d.setAttribute("style","display:none !important"),d.removeAttribute("class"),d.innerHTML=""):d.remove(),Ar()&&(Cn(),Or(),al()),Eh()}function Eh(){Vt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Pt(u){u=Ti(u);let d=kr.swalPromiseResolve.get(this),m=Is(this);this.isAwaitingPromise?u.isDismissed||(cn(this),d(u)):m&&d(u)}let Is=u=>{let d=x();if(!d)return!1;let m=Te.innerParams.get(u);if(!m||Mt(d,m.hideClass.popup))return!1;Vt(d,m.showClass.popup),ge(d,m.hideClass.popup);let v=I();return Vt(v,m.showClass.backdrop),ge(v,m.hideClass.backdrop),fl(u,d,m),!0};function Xo(u){let d=kr.swalPromiseReject.get(this);cn(this),d&&d(u)}let cn=u=>{u.isAwaitingPromise&&(delete u.isAwaitingPromise,Te.innerParams.get(u)||u._destroy())},Ti=u=>typeof u>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},u),fl=(u,d,m)=>{var v;let N=I(),G=Rr(d);typeof m.willClose=="function"&&m.willClose(d),(v=o.eventEmitter)===null||v===void 0||v.emit("willClose",d),G?Zo(u,d,N,m.returnFocus,m.didClose):hl(u,N,m.returnFocus,m.didClose)},Zo=(u,d,m,v,N)=>{o.swalCloseEventFinishedCallback=hl.bind(null,u,m,v,N);let G=function(pe){if(pe.target===d){var be;(be=o.swalCloseEventFinishedCallback)===null||be===void 0||be.call(o),delete o.swalCloseEventFinishedCallback,d.removeEventListener("animationend",G),d.removeEventListener("transitionend",G)}};d.addEventListener("animationend",G),d.addEventListener("transitionend",G)},Fe=(u,d)=>{setTimeout(()=>{var m;typeof d=="function"&&d.bind(u.params)(),(m=o.eventEmitter)===null||m===void 0||m.emit("didClose"),u._destroy&&u._destroy()})},Mr=u=>{let d=x();if(d||new Rl,d=x(),!d)return;let m=Tr();Sr()?Ke(T()):Ih(d,u),$e(m),d.setAttribute("data-loading","true"),d.setAttribute("aria-busy","true"),d.focus()},Ih=(u,d)=>{let m=rn(),v=Tr();!m||!v||(!d&&mt(Nt())&&(d=Nt()),$e(m),d&&(Ke(d),v.setAttribute("data-button-to-replace",d.className),m.insertBefore(v,d)),ge([u,m],g.loading))},pl=(u,d)=>{d.input==="select"||d.input==="radio"?ln(u,d):["text","email","number","tel","textarea"].some(m=>m===d.input)&&(ue(d.inputValue)||w(d.inputValue))&&(Mr(Nt()),yl(u,d))},ml=(u,d)=>{let m=u.getInput();if(!m)return null;switch(d.input){case"checkbox":return gl(m);case"radio":return Ts(m);case"file":return _l(m);default:return d.inputAutoTrim?m.value.trim():m.value}},gl=u=>u.checked?1:0,Ts=u=>u.checked?u.value:null,_l=u=>u.files&&u.files.length?u.getAttribute("multiple")!==null?u.files:u.files[0]:null,ln=(u,d)=>{let m=x();if(!m)return;let v=N=>{d.input==="select"?Th(m,Ai(N),d):d.input==="radio"&&Ci(m,Ai(N),d)};ue(d.inputOptions)||w(d.inputOptions)?(Mr(Nt()),P(d.inputOptions).then(N=>{u.hideLoading(),v(N)})):typeof d.inputOptions=="object"?v(d.inputOptions):J(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof d.inputOptions}`)},yl=(u,d)=>{let m=u.getInput();m&&(Ke(m),P(d.inputValue).then(v=>{m.value=d.input==="number"?`${parseFloat(v)||0}`:`${v}`,$e(m),m.focus(),u.hideLoading()}).catch(v=>{J(`Error in inputValue promise: ${v}`),m.value="",$e(m),m.focus(),u.hideLoading()}))};function Th(u,d,m){let v=bn(u,g.select);if(!v)return;let N=(G,pe,be)=>{let Be=document.createElement("option");Be.value=be,pt(Be,pe),Be.selected=Cs(be,m.inputValue),G.appendChild(Be)};d.forEach(G=>{let pe=G[0],be=G[1];if(Array.isArray(be)){let Be=document.createElement("optgroup");Be.label=pe,Be.disabled=!1,v.appendChild(Be),be.forEach(Ps=>N(Be,Ps[1],Ps[0]))}else N(v,be,pe)}),v.focus()}function Ci(u,d,m){let v=bn(u,g.radio);if(!v)return;d.forEach(G=>{let pe=G[0],be=G[1],Be=document.createElement("input"),Ps=document.createElement("label");Be.type="radio",Be.name=g.radio,Be.value=pe,Cs(pe,m.inputValue)&&(Be.checked=!0);let Ah=document.createElement("span");pt(Ah,be),Ah.className=g.label,Ps.appendChild(Be),Ps.appendChild(Ah),v.appendChild(Ps)});let N=v.querySelectorAll("input");N.length&&N[0].focus()}let Ai=u=>{let d=[];return u instanceof Map?u.forEach((m,v)=>{let N=m;typeof N=="object"&&(N=Ai(N)),d.push([v,N])}):Object.keys(u).forEach(m=>{let v=u[m];typeof v=="object"&&(v=Ai(v)),d.push([m,v])}),d},Cs=(u,d)=>!!d&&d.toString()===u.toString(),As=u=>{let d=Te.innerParams.get(u);u.disableButtons(),d.input?wl(u,"confirm"):Si(u,!0)},vl=u=>{let d=Te.innerParams.get(u);u.disableButtons(),d.returnInputValueOnDeny?wl(u,"deny"):Qn(u,!1)},Ss=(u,d)=>{u.disableButtons(),d(Rt.cancel)},wl=(u,d)=>{let m=Te.innerParams.get(u);if(!m.input){J(`The "input" parameter is needed to be set when using returnInputValueOn${U(d)}`);return}let v=u.getInput(),N=ml(u,m);m.inputValidator?bl(u,N,d):v&&!v.checkValidity()?(u.enableButtons(),u.showValidationMessage(m.validationMessage||v.validationMessage)):d==="deny"?Qn(u,N):Si(u,N)},bl=(u,d,m)=>{let v=Te.innerParams.get(u);u.disableInput(),Promise.resolve().then(()=>P(v.inputValidator(d,v.validationMessage))).then(G=>{u.enableButtons(),u.enableInput(),G?u.showValidationMessage(G):m==="deny"?Qn(u,d):Si(u,d)})},Qn=(u,d)=>{let m=Te.innerParams.get(u||void 0);m.showLoaderOnDeny&&Mr(wt()),m.preDeny?(u.isAwaitingPromise=!0,Promise.resolve().then(()=>P(m.preDeny(d,m.validationMessage))).then(N=>{N===!1?(u.hideLoading(),cn(u)):u.close({isDenied:!0,value:typeof N>"u"?d:N})}).catch(N=>ta(u||void 0,N))):u.close({isDenied:!0,value:d})},ea=(u,d)=>{u.close({isConfirmed:!0,value:d})},ta=(u,d)=>{u.rejectPromise(d)},Si=(u,d)=>{let m=Te.innerParams.get(u||void 0);m.showLoaderOnConfirm&&Mr(),m.preConfirm?(u.resetValidationMessage(),u.isAwaitingPromise=!0,Promise.resolve().then(()=>P(m.preConfirm(d,m.validationMessage))).then(N=>{mt(Er())||N===!1?(u.hideLoading(),cn(u)):ea(u,typeof N>"u"?d:N)}).catch(N=>ta(u||void 0,N))):ea(u,d)};function Vr(){let u=Te.innerParams.get(this);if(!u)return;let d=Te.domCache.get(this);Ke(d.loader),Sr()?u.icon&&$e(T()):El(d),Vt([d.popup,d.actions],g.loading),d.popup.removeAttribute("aria-busy"),d.popup.removeAttribute("data-loading"),d.confirmButton.disabled=!1,d.denyButton.disabled=!1,d.cancelButton.disabled=!1}let El=u=>{let d=u.popup.getElementsByClassName(u.loader.getAttribute("data-button-to-replace"));d.length?$e(d[0],"inline-block"):Uc()&&Ke(u.actions)};function Ri(){let u=Te.innerParams.get(this),d=Te.domCache.get(this);return d?gs(d.popup,u.input):null}function na(u,d,m){let v=Te.domCache.get(u);d.forEach(N=>{v[N].disabled=m})}function ra(u,d){let m=x();if(!(!m||!u))if(u.type==="radio"){let v=m.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<v.length;N++)v[N].disabled=d}else u.disabled=d}function An(){na(this,["confirmButton","denyButton","cancelButton"],!1)}function ia(){na(this,["confirmButton","denyButton","cancelButton"],!0)}function sa(){ra(this.getInput(),!1)}function oa(){ra(this.getInput(),!0)}function aa(u){let d=Te.domCache.get(this),m=Te.innerParams.get(this);pt(d.validationMessage,u),d.validationMessage.className=g["validation-message"],m.customClass&&m.customClass.validationMessage&&ge(d.validationMessage,m.customClass.validationMessage),$e(d.validationMessage);let v=this.getInput();v&&(v.setAttribute("aria-invalid","true"),v.setAttribute("aria-describedby",g["validation-message"]),Uo(v),ge(v,g.inputerror))}function Pi(){let u=Te.domCache.get(this);u.validationMessage&&Ke(u.validationMessage);let d=this.getInput();d&&(d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby"),Vt(d,g.inputerror))}let Je={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Il=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Tl={allowEnterKey:void 0},Fr=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],a=u=>Object.prototype.hasOwnProperty.call(Je,u),h=u=>Il.indexOf(u)!==-1,p=u=>Tl[u],y=u=>{a(u)||M(`Unknown parameter "${u}"`)},D=u=>{Fr.includes(u)&&M(`The parameter "${u}" is incompatible with toasts`)},V=u=>{let d=p(u);d&&oe(u,d)},z=u=>{u.backdrop===!1&&u.allowOutsideClick&&M('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let d in u)y(d),u.toast&&D(d),V(d)};function Pe(u){let d=x(),m=Te.innerParams.get(this);if(!d||Mt(d,m.hideClass.popup)){M("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let v=st(u),N=Object.assign({},m,v);il(this,N),Te.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,u),writable:!1,enumerable:!0}})}let st=u=>{let d={};return Object.keys(u).forEach(m=>{h(m)?d[m]=u[m]:M(`Invalid parameter to update: ${m}`)}),d};function we(){let u=Te.domCache.get(this),d=Te.innerParams.get(this);if(!d){ot(this);return}u.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof d.didDestroy=="function"&&d.didDestroy(),o.eventEmitter.emit("didDestroy"),dt(this)}let dt=u=>{ot(u),delete u.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},ot=u=>{u.isAwaitingPromise?(Sn(Te,u),u.isAwaitingPromise=!0):(Sn(kr,u),Sn(Te,u),delete u.isAwaitingPromise,delete u.disableButtons,delete u.enableButtons,delete u.getInput,delete u.disableInput,delete u.enableInput,delete u.hideLoading,delete u.disableLoading,delete u.showValidationMessage,delete u.resetValidationMessage,delete u.close,delete u.closePopup,delete u.closeModal,delete u.closeToast,delete u.rejectPromise,delete u.update,delete u._destroy)},Sn=(u,d)=>{for(let m in u)u[m].delete(d)};var Ft=Object.freeze({__proto__:null,_destroy:we,close:Pt,closeModal:Pt,closePopup:Pt,closeToast:Pt,disableButtons:ia,disableInput:oa,disableLoading:Vr,enableButtons:An,enableInput:sa,getInput:Ri,handleAwaitingPromise:cn,hideLoading:Vr,rejectPromise:Xo,resetValidationMessage:Pi,showValidationMessage:aa,update:Pe});let Rs=(u,d,m)=>{u.toast?ca(u,d,m):(PI(d),xI(d),DI(u,d,m))},ca=(u,d,m)=>{d.popup.onclick=()=>{u&&(RI(u)||u.timer||u.input)||m(Rt.close)}},RI=u=>!!(u.showConfirmButton||u.showDenyButton||u.showCancelButton||u.showCloseButton),Cl=!1,PI=u=>{u.popup.onmousedown=()=>{u.container.onmouseup=function(d){u.container.onmouseup=()=>{},d.target===u.container&&(Cl=!0)}}},xI=u=>{u.container.onmousedown=d=>{d.target===u.container&&d.preventDefault(),u.popup.onmouseup=function(m){u.popup.onmouseup=()=>{},(m.target===u.popup||m.target instanceof HTMLElement&&u.popup.contains(m.target))&&(Cl=!0)}}},DI=(u,d,m)=>{d.container.onclick=v=>{if(Cl){Cl=!1;return}v.target===d.container&&Ie(u.allowOutsideClick)&&m(Rt.backdrop)}},kI=u=>typeof u=="object"&&u.jquery,$_=u=>u instanceof Element||kI(u),OI=u=>{let d={};return typeof u[0]=="object"&&!$_(u[0])?Object.assign(d,u[0]):["title","html","icon"].forEach((m,v)=>{let N=u[v];typeof N=="string"||$_(N)?d[m]=N:N!==void 0&&J(`Unexpected type of ${m}! Expected "string" or "Element", got ${typeof N}`)}),d};function NI(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];return new this(...d)}function MI(u){class d extends this{_main(v,N){return super._main(v,Object.assign({},u,N))}}return d}let VI=()=>o.timeout&&o.timeout.getTimerLeft(),q_=()=>{if(o.timeout)return jc(),o.timeout.stop()},z_=()=>{if(o.timeout){let u=o.timeout.start();return _s(u),u}},FI=()=>{let u=o.timeout;return u&&(u.running?q_():z_())},LI=u=>{if(o.timeout){let d=o.timeout.increase(u);return _s(d,!0),d}},UI=()=>!!(o.timeout&&o.timeout.isRunning()),G_=!1,Ch={};function BI(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Ch[u]=this,G_||(document.body.addEventListener("click",jI),G_=!0)}let jI=u=>{for(let d=u.target;d&&d!==document;d=d.parentNode)for(let m in Ch){let v=d.getAttribute(m);if(v){Ch[m].fire({template:v});return}}};class $I{constructor(){this.events={}}_getHandlersByEventName(d){return typeof this.events[d]>"u"&&(this.events[d]=[]),this.events[d]}on(d,m){let v=this._getHandlersByEventName(d);v.includes(m)||v.push(m)}once(d,m){var v=this;let N=function(){v.removeListener(d,N);for(var G=arguments.length,pe=new Array(G),be=0;be<G;be++)pe[be]=arguments[be];m.apply(v,pe)};this.on(d,N)}emit(d){for(var m=arguments.length,v=new Array(m>1?m-1:0),N=1;N<m;N++)v[N-1]=arguments[N];this._getHandlersByEventName(d).forEach(G=>{try{G.apply(this,v)}catch(pe){console.error(pe)}})}removeListener(d,m){let v=this._getHandlersByEventName(d),N=v.indexOf(m);N>-1&&v.splice(N,1)}removeAllListeners(d){this.events[d]!==void 0&&(this.events[d].length=0)}reset(){this.events={}}}o.eventEmitter=new $I;var qI=Object.freeze({__proto__:null,argsToParams:OI,bindClickHandler:BI,clickCancel:_h,clickConfirm:Jo,clickDeny:sl,enableLoading:Mr,fire:NI,getActions:rn,getCancelButton:Ir,getCloseButton:Fo,getConfirmButton:Nt,getContainer:I,getDenyButton:wt,getFocusableElements:Cr,getFooter:Fc,getHtmlContainer:Vo,getIcon:T,getIconContent:nn,getImage:br,getInputLabel:lt,getLoader:Tr,getPopup:x,getProgressSteps:Kn,getTimerLeft:VI,getTimerProgressBar:wn,getTitle:wr,getValidationMessage:Er,increaseTimer:LI,isDeprecatedParameter:p,isLoading:Lo,isTimerRunning:UI,isUpdatableParameter:h,isValidParameter:a,isVisible:gh,mixin:MI,off:(u,d)=>{if(!u){o.eventEmitter.reset();return}d?o.eventEmitter.removeListener(u,d):o.eventEmitter.removeAllListeners(u)},on:(u,d)=>{o.eventEmitter.on(u,d)},once:(u,d)=>{o.eventEmitter.once(u,d)},resumeTimer:z_,showLoading:Mr,stopTimer:q_,toggleTimer:FI});class zI{constructor(d,m){this.callback=d,this.remaining=m,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(d){let m=this.running;return m&&this.stop(),this.remaining+=d,m&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let H_=["swal-title","swal-html","swal-footer"],GI=u=>{let d=typeof u.template=="string"?document.querySelector(u.template):u.template;if(!d)return{};let m=d.content;return ZI(m),Object.assign(HI(m),WI(m),KI(m),QI(m),JI(m),YI(m),XI(m,H_))},HI=u=>{let d={};return Array.from(u.querySelectorAll("swal-param")).forEach(v=>{xi(v,["name","value"]);let N=v.getAttribute("name"),G=v.getAttribute("value");!N||!G||(typeof Je[N]=="boolean"?d[N]=G!=="false":typeof Je[N]=="object"?d[N]=JSON.parse(G):d[N]=G)}),d},WI=u=>{let d={};return Array.from(u.querySelectorAll("swal-function-param")).forEach(v=>{let N=v.getAttribute("name"),G=v.getAttribute("value");!N||!G||(d[N]=new Function(`return ${G}`)())}),d},KI=u=>{let d={};return Array.from(u.querySelectorAll("swal-button")).forEach(v=>{xi(v,["type","color","aria-label"]);let N=v.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(d[`${N}ButtonText`]=v.innerHTML,d[`show${U(N)}Button`]=!0,v.hasAttribute("color")&&(d[`${N}ButtonColor`]=v.getAttribute("color")),v.hasAttribute("aria-label")&&(d[`${N}ButtonAriaLabel`]=v.getAttribute("aria-label")))}),d},QI=u=>{let d={},m=u.querySelector("swal-image");return m&&(xi(m,["src","width","height","alt"]),m.hasAttribute("src")&&(d.imageUrl=m.getAttribute("src")||void 0),m.hasAttribute("width")&&(d.imageWidth=m.getAttribute("width")||void 0),m.hasAttribute("height")&&(d.imageHeight=m.getAttribute("height")||void 0),m.hasAttribute("alt")&&(d.imageAlt=m.getAttribute("alt")||void 0)),d},JI=u=>{let d={},m=u.querySelector("swal-icon");return m&&(xi(m,["type","color"]),m.hasAttribute("type")&&(d.icon=m.getAttribute("type")),m.hasAttribute("color")&&(d.iconColor=m.getAttribute("color")),d.iconHtml=m.innerHTML),d},YI=u=>{let d={},m=u.querySelector("swal-input");m&&(xi(m,["type","label","placeholder","value"]),d.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(d.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(d.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(d.inputValue=m.getAttribute("value")));let v=Array.from(u.querySelectorAll("swal-input-option"));return v.length&&(d.inputOptions={},v.forEach(N=>{xi(N,["value"]);let G=N.getAttribute("value");if(!G)return;let pe=N.innerHTML;d.inputOptions[G]=pe})),d},XI=(u,d)=>{let m={};for(let v in d){let N=d[v],G=u.querySelector(N);G&&(xi(G,[]),m[N.replace(/^swal-/,"")]=G.innerHTML.trim())}return m},ZI=u=>{let d=H_.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(u.children).forEach(m=>{let v=m.tagName.toLowerCase();d.includes(v)||M(`Unrecognized element <${v}>`)})},xi=(u,d)=>{Array.from(u.attributes).forEach(m=>{d.indexOf(m.name)===-1&&M([`Unrecognized attribute "${m.name}" on <${u.tagName.toLowerCase()}>.`,`${d.length?`Allowed attributes are: ${d.join(", ")}`:"To set the value, use HTML within the element."}`])})},W_=10,eT=u=>{let d=I(),m=x();typeof u.willOpen=="function"&&u.willOpen(m),o.eventEmitter.emit("willOpen",m);let N=window.getComputedStyle(document.body).overflowY;rT(d,m,u),setTimeout(()=>{tT(d,m)},W_),Ar()&&(nT(d,u.scrollbarPadding,N),vh()),!Sr()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof u.didOpen=="function"&&setTimeout(()=>u.didOpen(m)),o.eventEmitter.emit("didOpen",m),Vt(d,g["no-transition"])},Al=u=>{let d=x();if(u.target!==d)return;let m=I();d.removeEventListener("animationend",Al),d.removeEventListener("transitionend",Al),m.style.overflowY="auto"},tT=(u,d)=>{Rr(d)?(u.style.overflowY="hidden",d.addEventListener("animationend",Al),d.addEventListener("transitionend",Al)):u.style.overflowY="auto"},nT=(u,d,m)=>{Ii(),d&&m!=="hidden"&&bh(m),setTimeout(()=>{u.scrollTop=0})},rT=(u,d,m)=>{ge(u,m.showClass.backdrop),m.animation?(d.style.setProperty("opacity","0","important"),$e(d,"grid"),setTimeout(()=>{ge(d,m.showClass.popup),d.style.removeProperty("opacity")},W_)):$e(d,"grid"),ge([document.documentElement,document.body],g.shown),m.heightAuto&&m.backdrop&&!m.toast&&ge([document.documentElement,document.body],g["height-auto"])};var K_={email:(u,d)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(u)?Promise.resolve():Promise.resolve(d||"Invalid email address"),url:(u,d)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(u)?Promise.resolve():Promise.resolve(d||"Invalid URL")};function iT(u){u.inputValidator||(u.input==="email"&&(u.inputValidator=K_.email),u.input==="url"&&(u.inputValidator=K_.url))}function sT(u){(!u.target||typeof u.target=="string"&&!document.querySelector(u.target)||typeof u.target!="string"&&!u.target.appendChild)&&(M('Target parameter is not valid, defaulting to "body"'),u.target="body")}function oT(u){iT(u),u.showLoaderOnConfirm&&!u.preConfirm&&M(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),sT(u),typeof u.title=="string"&&(u.title=u.title.split(`
`).join("<br />")),qo(u)}let Rn;var Sl=new WeakMap;class Ge{constructor(){if(r(this,Sl,void 0),typeof window>"u")return;Rn=this;for(var d=arguments.length,m=new Array(d),v=0;v<d;v++)m[v]=arguments[v];let N=Object.freeze(this.constructor.argsToParams(m));this.params=N,this.isAwaitingPromise=!1,i(Sl,this,this._main(Rn.params))}_main(d){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(z(Object.assign({},m,d)),o.currentInstance){let G=kr.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:pe}=o.currentInstance;o.currentInstance._destroy(),pe||G({isDismissed:!0}),Ar()&&al()}o.currentInstance=Rn;let v=cT(d,m);oT(v),Object.freeze(v),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let N=lT(Rn);return il(Rn,v),Te.innerParams.set(Rn,v),aT(Rn,N,v)}then(d){return t(Sl,this).then(d)}finally(d){return t(Sl,this).finally(d)}}let aT=(u,d,m)=>new Promise((v,N)=>{let G=pe=>{u.close({isDismissed:!0,dismiss:pe})};kr.swalPromiseResolve.set(u,v),kr.swalPromiseReject.set(u,N),d.confirmButton.onclick=()=>{As(u)},d.denyButton.onclick=()=>{vl(u)},d.cancelButton.onclick=()=>{Ss(u,G)},d.closeButton.onclick=()=>{G(Rt.close)},Rs(m,d,G),bs(o,m,G),pl(u,m),eT(m),uT(o,m,G),dT(d,m),setTimeout(()=>{d.container.scrollTop=0})}),cT=(u,d)=>{let m=GI(u),v=Object.assign({},Je,d,m,u);return v.showClass=Object.assign({},Je.showClass,v.showClass),v.hideClass=Object.assign({},Je.hideClass,v.hideClass),v.animation===!1&&(v.showClass={backdrop:"swal2-noanimation"},v.hideClass={}),v},lT=u=>{let d={popup:x(),container:I(),actions:rn(),confirmButton:Nt(),denyButton:wt(),cancelButton:Ir(),loader:Tr(),closeButton:Fo(),validationMessage:Er(),progressSteps:Kn()};return Te.domCache.set(u,d),d},uT=(u,d,m)=>{let v=wn();Ke(v),d.timer&&(u.timeout=new zI(()=>{m("timer"),delete u.timeout},d.timer),d.timerProgressBar&&($e(v),bt(v,d,"timerProgressBar"),setTimeout(()=>{u.timeout&&u.timeout.running&&_s(d.timer)})))},dT=(u,d)=>{if(!d.toast){if(!Ie(d.allowEnterKey)){oe("allowEnterKey"),pT();return}hT(u)||fT(u,d)||Dr(-1,1)}},hT=u=>{let d=Array.from(u.popup.querySelectorAll("[autofocus]"));for(let m of d)if(m instanceof HTMLElement&&mt(m))return m.focus(),!0;return!1},fT=(u,d)=>d.focusDeny&&mt(u.denyButton)?(u.denyButton.focus(),!0):d.focusCancel&&mt(u.cancelButton)?(u.cancelButton.focus(),!0):d.focusConfirm&&mt(u.confirmButton)?(u.confirmButton.focus(),!0):!1,pT=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let u=new Date,d=localStorage.getItem("swal-initiation");d?(u.getTime()-Date.parse(d))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(()=>{m.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${u}`)}Ge.prototype.disableButtons=ia,Ge.prototype.enableButtons=An,Ge.prototype.getInput=Ri,Ge.prototype.disableInput=oa,Ge.prototype.enableInput=sa,Ge.prototype.hideLoading=Vr,Ge.prototype.disableLoading=Vr,Ge.prototype.showValidationMessage=aa,Ge.prototype.resetValidationMessage=Pi,Ge.prototype.close=Pt,Ge.prototype.closePopup=Pt,Ge.prototype.closeModal=Pt,Ge.prototype.closeToast=Pt,Ge.prototype.rejectPromise=Xo,Ge.prototype.update=Pe,Ge.prototype._destroy=we,Object.assign(Ge,qI),Object.keys(Ft).forEach(u=>{Ge[u]=function(){return Rn&&Rn[u]?Rn[u](...arguments):null}}),Ge.DismissReason=Rt,Ge.version="11.14.5";let Rl=Ge;return Rl.default=Rl,Rl});typeof Hn<"u"&&Hn.Sweetalert2&&(Hn.swal=Hn.sweetAlert=Hn.Swal=Hn.SweetAlert=Hn.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var wa=class{},Bl=class{},tr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Qh=class{encodeKey(e){return My(e)}encodeValue(e){return My(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function _T(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(c),t.set(o,l)}),t}var yT=/%(\d[a-f0-9])/gi,vT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function My(n){return encodeURIComponent(n).replace(yT,(e,t)=>vT[t]??e)}function Ul(n){return`${n}`}var Wr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=_T(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Ul):[Ul(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ul(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Ul(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Jh=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function wT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Fy(n){return typeof Blob<"u"&&n instanceof Blob}function Ly(n){return typeof FormData<"u"&&n instanceof FormData}function bT(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var va=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(wT(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new tr,this.context??=new Jh,!this.params)this.params=new Wr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Vy(this.body)||Fy(this.body)||Ly(this.body)||bT(this.body)?this.body:this.body instanceof Wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ly(this.body)?null:Fy(this.body)?this.body.type||null:Vy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,f=e.headers||this.headers,_=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(f=Object.keys(e.setHeaders).reduce((C,k)=>C.set(k,e.setHeaders[k]),f)),e.setParams&&(_=Object.keys(e.setParams).reduce((C,k)=>C.set(k,e.setParams[k]),_)),new n(t,r,o,{params:_,headers:f,context:g,reportProgress:l,responseType:i,withCredentials:c,transferCache:s})}},Kr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Kr||{}),ba=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new tr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jl=class n extends ba{constructor(e={}){super(e),this.type=Kr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ea=class n extends ba{constructor(e={}){super(e),this.type=Kr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hr=class extends ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},$y=200,ET=204;function Kh(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var IT=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof va)s=t;else{let l;i.headers instanceof tr?l=i.headers:l=new tr(i.headers);let f;i.params&&(i.params instanceof Wr?f=i.params:f=new Wr({fromObject:i.params})),s=new va(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ae(s).pipe(Di(l=>this.handler.handle(l)));if(t instanceof va||i.observe==="events")return o;let c=o.pipe(jr(l=>l instanceof Ea));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(he(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(he(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(he(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Wr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Kh(i,r))}post(t,r,i={}){return this.request("POST",t,Kh(i,r))}put(t,r,i={}){return this.request("PUT",t,Kh(i,r))}static{this.\u0275fac=function(r){return new(r||n)(Ce(wa))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),TT=/^\)\]\}',?\n/,CT="X-Request-URL";function Uy(n){if(n.url)return n.url;let e=CT.toLocaleLowerCase();return n.headers.get(e)}var AT=(()=>{class n{constructor(){this.fetchImpl=Z(Yh,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=Z(Xe)}handle(t){return new Ur(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Xh,s=>r.error(new Hr({error:s}))),()=>i.abort()})}doRequest(t,r,i){return E(this,null,function*(){let s=this.createRequestInit(t),o;try{let k=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,H({signal:r},s)));ST(k),i.next({type:Kr.Sent}),o=yield k}catch(k){i.error(new Hr({error:k,status:k.status??0,statusText:k.statusText,url:t.urlWithParams,headers:k.headers}));return}let c=new tr(o.headers),l=o.statusText,f=Uy(o)??t.urlWithParams,_=o.status,g=null;if(t.reportProgress&&i.next(new jl({headers:c,status:_,statusText:l,url:f})),o.body){let k=o.headers.get("content-length"),F=[],U=o.body.getReader(),M=0,J,ee,W=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>E(this,null,function*(){for(;;){let{done:Ie,value:ue}=yield U.read();if(Ie)break;if(F.push(ue),M+=ue.length,t.reportProgress){ee=t.responseType==="text"?(ee??"")+(J??=new TextDecoder).decode(ue,{stream:!0}):void 0;let P=()=>i.next({type:Kr.DownloadProgress,total:k?+k:void 0,loaded:M,partialText:ee});W?W.run(P):P()}}}));let oe=this.concatChunks(F,M);try{let Ie=o.headers.get("Content-Type")??"";g=this.parseBody(t,oe,Ie)}catch(Ie){i.error(new Hr({error:Ie,headers:new tr(o.headers),status:o.status,statusText:o.statusText,url:Uy(o)??t.urlWithParams}));return}}_===0&&(_=g?$y:0),_>=200&&_<300?(i.next(new Ea({body:g,headers:c,status:_,statusText:l,url:f})),i.complete()):i.error(new Hr({error:g,headers:c,status:_,statusText:l,url:f}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(TT,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),Yh=class{};function Xh(){}function ST(n){n.then(Xh,Xh)}function RT(n,e){return e(n)}function PT(n,e,t){return(r,i)=>un(t,()=>e(r,s=>n(s,i)))}var qy=new me(""),xT=new me(""),DT=new me("",{providedIn:"root",factory:()=>!0});var By=(()=>{class n extends wa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Z(Pl),this.contributeToStability=Z(DT)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qy),...this.injector.get(xT,[])]));this.chain=r.reduceRight((i,s)=>PT(i,s,this.injector),RT)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ks(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(Ce(Bl),Ce(Os))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})();var kT=/^\)\]\}',?\n/;function OT(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var jy=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?gt(r.\u0275loadImpl()):ae(null)).pipe(Qt(()=>new Ur(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((U,M)=>o.setRequestHeader(U,M.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let U=t.detectContentTypeHeader();U!==null&&o.setRequestHeader("Content-Type",U)}if(t.responseType){let U=t.responseType.toLowerCase();o.responseType=U!=="json"?U:"text"}let c=t.serializeBody(),l=null,f=()=>{if(l!==null)return l;let U=o.statusText||"OK",M=new tr(o.getAllResponseHeaders()),J=OT(o)||t.url;return l=new jl({headers:M,status:o.status,statusText:U,url:J}),l},_=()=>{let{headers:U,status:M,statusText:J,url:ee}=f(),W=null;M!==ET&&(W=typeof o.response>"u"?o.responseText:o.response),M===0&&(M=W?$y:0);let oe=M>=200&&M<300;if(t.responseType==="json"&&typeof W=="string"){let Ie=W;W=W.replace(kT,"");try{W=W!==""?JSON.parse(W):null}catch(ue){W=Ie,oe&&(oe=!1,W={error:ue,text:W})}}oe?(s.next(new Ea({body:W,headers:U,status:M,statusText:J,url:ee||void 0})),s.complete()):s.error(new Hr({error:W,headers:U,status:M,statusText:J,url:ee||void 0}))},g=U=>{let{url:M}=f(),J=new Hr({error:U,status:o.status||0,statusText:o.statusText||"Unknown Error",url:M||void 0});s.error(J)},C=!1,k=U=>{C||(s.next(f()),C=!0);let M={type:Kr.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(M.total=U.total),t.responseType==="text"&&o.responseText&&(M.partialText=o.responseText),s.next(M)},F=U=>{let M={type:Kr.UploadProgress,loaded:U.loaded};U.lengthComputable&&(M.total=U.total),s.next(M)};return o.addEventListener("load",_),o.addEventListener("error",g),o.addEventListener("timeout",g),o.addEventListener("abort",g),t.reportProgress&&(o.addEventListener("progress",k),c!==null&&o.upload&&o.upload.addEventListener("progress",F)),o.send(c),s.next({type:Kr.Sent}),()=>{o.removeEventListener("error",g),o.removeEventListener("abort",g),o.removeEventListener("load",_),o.removeEventListener("timeout",g),t.reportProgress&&(o.removeEventListener("progress",k),c!==null&&o.upload&&o.upload.removeEventListener("progress",F)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(Ce(Ll))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),zy=new me(""),NT="XSRF-TOKEN",MT=new me("",{providedIn:"root",factory:()=>NT}),VT="X-XSRF-TOKEN",FT=new me("",{providedIn:"root",factory:()=>VT}),$l=class{},LT=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(Ce(xt),Ce(Zn),Ce(MT))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})();function UT(n,e){let t=n.url.toLowerCase();if(!Z(zy)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=Z($l).getToken(),i=Z(FT);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Gy(...n){let e=[IT,jy,By,{provide:wa,useExisting:By},{provide:Bl,useFactory:()=>Z(AT,{optional:!0})??Z(jy)},{provide:qy,useValue:UT,multi:!0},{provide:zy,useValue:!0},{provide:$l,useClass:LT}];for(let t of n)e.push(...t.\u0275providers);return Ct(e)}var tf=class extends Dy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},nf=class n extends tf{static makeCurrent(){xy(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=jT();return t==null?null:$T(t)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Vl(document.cookie,e)}},Ia=null;function jT(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function $T(n){return new URL(n,document.baseURI).pathname}var qT=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),rf=new me(""),Ky=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Ce(rf),Ce(Xe))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),ql=class{constructor(e){this._doc=e}},Zh="ng-app-id",Qy=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fl(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Zh}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Zh),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Zh,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Ce(xt),Ce(Uh),Ce(Bh,8),Ce(Zn))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),ef={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},of=/%COMP%/g,Jy="%COMP%",zT=`_nghost-${Jy}`,GT=`_ngcontent-${Jy}`,HT=!0,WT=new me("",{providedIn:"root",factory:()=>HT});function KT(n){return GT.replace(of,n)}function QT(n){return zT.replace(of,n)}function Yy(n,e){return e.map(t=>t.replace(of,n))}var zl=(()=>{class n{constructor(t,r,i,s,o,c,l,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Fl(c),this.defaultRenderer=new Ta(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===da.ShadowDom&&(r=ke(H({},r),{encapsulation:da.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Gl?i.applyToHost(t):i instanceof Ca&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case da.Emulated:s=new Gl(l,f,r,this.appId,_,o,c,g);break;case da.ShadowDom:return new sf(l,f,t,r,o,c,this.nonce,g);default:s=new Ca(l,f,r,_,o,c,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Ce(Ky),Ce(Qy),Ce(Uh),Ce(WT),Ce(xt),Ce(Zn),Ce(Xe),Ce(Bh))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),Ta=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ef[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Hy(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Hy(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Ne(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=ef[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ef[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ha.DashCase|ha.Important)?e.style.setProperty(t,r,i&ha.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ha.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ms().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Hy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var sf=class extends Ta{constructor(e,t,r,i,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=Yy(i.id,i.styles);for(let _ of f){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=_,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ca=class extends Ta{constructor(e,t,r,i,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Yy(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gl=class extends Ca{constructor(e,t,r,i,s,o,c,l){let f=i+"-"+r.id;super(e,t,r,s,o,c,l,f),this.contentAttr=KT(f),this.hostAttr=QT(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},JT=(()=>{class n extends ql{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Ce(xt))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),Wy=["alt","control","meta","shift"],YT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XT={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ZT=(()=>{class n extends ql{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ms().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Wy.forEach(f=>{let _=r.indexOf(f);_>-1&&(r.splice(_,1),o+=f+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=YT[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Wy.forEach(o=>{if(o!==i){let c=XT[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Ce(xt))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})();function Xy(n,e){return Py(H({rootComponent:n},eC(e)))}function eC(n){return{appProviders:[...sC,...n?.providers??[]],platformProviders:iC}}function tC(){nf.makeCurrent()}function nC(){return new Lh}function rC(){return dy(document),document}var iC=[{provide:Zn,useValue:Ny},{provide:hy,useValue:tC,multi:!0},{provide:xt,useFactory:rC,deps:[]}];var sC=[{provide:ly,useValue:"root"},{provide:Lh,useFactory:nC,deps:[]},{provide:rf,useClass:JT,multi:!0,deps:[xt,Xe,Zn]},{provide:rf,useClass:ZT,multi:!0,deps:[xt]},zl,Qy,Ky,{provide:xl,useExisting:zl},{provide:Ll,useClass:qT,deps:[]},[]];var Zy=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Ce(xt))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var fe="primary",ja=Symbol("RouteTitle"),df=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function js(n){return new df(n)}function aC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function cC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xn(n[t],e[t]))return!1;return!0}function xn(n,e){let t=n?hf(n):void 0,r=e?hf(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!av(n[i],e[i]))return!1;return!0}function hf(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function av(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function cv(n){return n.length>0?n[n.length-1]:null}function Qr(n){return Z_(n)?n:Ol(n)?gt(Promise.resolve(n)):ae(n)}var lC={exact:uv,subset:dv},lv={exact:uC,subset:dC,ignored:()=>!0};function ev(n,e,t){return lC[t.paths](n.root,e.root,t.matrixParams)&&lv[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function uC(n,e){return xn(n,e)}function uv(n,e,t){if(!Fi(n.segments,e.segments)||!Kl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!uv(n.children[r],e.children[r],t))return!1;return!0}function dC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>av(n[t],e[t]))}function dv(n,e,t){return hv(n,e,e.segments,t)}function hv(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Fi(i,t)||e.hasChildren()||!Kl(i,t,r))}else if(n.segments.length===t.length){if(!Fi(n.segments,t)||!Kl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dv(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Fi(n.segments,i)||!Kl(n.segments,i,r)||!n.children[fe]?!1:hv(n.children[fe],e,s,r)}}function Kl(n,e,t){return e.every((r,i)=>lv[t](n[i].parameters,r.parameters))}var rr=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){return pC.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ql(this)}},Vi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=js(this.parameters),this._parameterMap}toString(){return pv(this)}};function hC(n,e){return Fi(n,e)&&n.every((t,r)=>xn(t.parameters,e[r].parameters))}function Fi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fC(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===fe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==fe&&(t=t.concat(e(i,r)))}),t}var Lf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:()=>new ka,providedIn:"root"})}}return n})(),ka=class{parse(e){let t=new pf(e);return new rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Aa(e.root,!0)}`,r=_C(e.queryParams),i=typeof e.fragment=="string"?`#${mC(e.fragment)}`:"";return`${t}${r}${i}`}},pC=new ka;function Ql(n){return n.segments.map(e=>pv(e)).join("/")}function Aa(n,e){if(!n.hasChildren())return Ql(n);if(e){let t=n.children[fe]?Aa(n.children[fe],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==fe&&r.push(`${i}:${Aa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fC(n,(r,i)=>i===fe?[Aa(n.children[fe],!1)]:[`${i}:${Aa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Ql(n)}/${t[0]}`:`${Ql(n)}/(${t.join("//")})`}}function fv(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hl(n){return fv(n).replace(/%3B/gi,";")}function mC(n){return encodeURI(n)}function ff(n){return fv(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jl(n){return decodeURIComponent(n)}function tv(n){return Jl(n.replace(/\+/g,"%20"))}function pv(n){return`${ff(n.path)}${gC(n.parameters)}`}function gC(n){return Object.entries(n).map(([e,t])=>`;${ff(e)}=${ff(t)}`).join("")}function _C(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Hl(t)}=${Hl(i)}`).join("&"):`${Hl(t)}=${Hl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var yC=/^[^\/()?;#]+/;function af(n){let e=n.match(yC);return e?e[0]:""}var vC=/^[^\/()?;=#]+/;function wC(n){let e=n.match(vC);return e?e[0]:""}var bC=/^[^=?&#]+/;function EC(n){let e=n.match(bC);return e?e[0]:""}var IC=/^[^&#]+/;function TC(n){let e=n.match(IC);return e?e[0]:""}var pf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new xe(e,t)),r}parseSegment(){let e=af(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ne(4009,!1);return this.capture(e),new Vi(Jl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=af(this.remaining);i&&(r=i,this.capture(r))}e[Jl(t)]=Jl(r)}parseQueryParam(e){let t=EC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=TC(this.remaining);o&&(r=o,this.capture(r))}let i=tv(t),s=tv(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=af(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Ne(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[fe]:new xe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ne(4011,!1)}};function mv(n){return n.segments.length>0?new xe([],{[fe]:n}):n}function gv(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=gv(i);if(r===fe&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new xe(n.segments,e);return CC(t)}function CC(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new xe(n.segments.concat(e.segments),e.children)}return n}function Li(n){return n instanceof rr}function AC(n,e,t=null,r=null){let i=_v(n);return yv(i,e,t,r)}function _v(n){let e;function t(s){let o={};for(let l of s.children){let f=t(l);o[l.outlet]=f}let c=new xe(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=mv(r);return e??i}function yv(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cf(i,i,i,t,r);let s=SC(e);if(s.toRoot())return cf(i,i,new xe([],{}),t,r);let o=RC(s,i,n),c=o.processChildren?Pa(o.segmentGroup,o.index,s.commands):wv(o.segmentGroup,o.index,s.commands);return cf(i,o.segmentGroup,c,t,r)}function Yl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Oa(n){return typeof n=="object"&&n!=null&&n.outlets}function cf(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,f])=>{s[l]=Array.isArray(f)?f.map(_=>`${_}`):`${f}`});let o;n===e?o=t:o=vv(n,e,t);let c=mv(gv(o));return new rr(c,s,i)}function vv(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=vv(s,e,t)}),new xe(n.segments,r)}var Xl=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Yl(r[0]))throw new Ne(4003,!1);let i=r.find(Oa);if(i&&i!==cv(r))throw new Ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SC(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xl(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,f])=>{c[l]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Xl(t,e,r)}var Ls=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function RC(n,e,t){if(n.isAbsolute)return new Ls(e,!0,0);if(!t)return new Ls(e,!1,NaN);if(t.parent===null)return new Ls(t,!0,0);let r=Yl(n.commands[0])?0:1,i=t.segments.length-1+r;return PC(t,i,n.numberOfDoubleDots)}function PC(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ne(4005,!1);i=r.segments.length}return new Ls(r,!1,i-s)}function xC(n){return Oa(n[0])?n[0].outlets:{[fe]:n}}function wv(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Pa(n,e,t);let r=DC(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new xe(n.segments.slice(0,r.pathIndex),{});return s.children[fe]=new xe(n.segments.slice(r.pathIndex),n.children),Pa(s,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?mf(n,e,t):r.match?Pa(n,0,i):mf(n,e,t)}function Pa(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=xC(t),i={};if(Object.keys(r).some(s=>s!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let s=Pa(n.children[fe],e,t);return new xe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=wv(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new xe(n.segments,i)}}function DC(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(Oa(c))break;let l=`${c}`,f=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&f&&typeof f=="object"&&f.outlets===void 0){if(!rv(l,f,o))return s;r+=2}else{if(!rv(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mf(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Oa(s)){let l=kC(s.outlets);return new xe(r,l)}if(i===0&&Yl(t[0])){let l=n.segments[e];r.push(new Vi(l.path,nv(t[0]))),i++;continue}let o=Oa(s)?s.outlets[fe]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Yl(c)?(r.push(new Vi(o,nv(c))),i+=2):(r.push(new Vi(o,{})),i++)}return new xe(r,{})}function kC(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mf(new xe([],{}),0,r))}),e}function nv(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function rv(n,e,t){return n==t.path&&xn(e,t.parameters)}var xa="imperative",_t=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(_t||{}),en=class{constructor(e,t){this.id=e,this.url=t}},Na=class extends en{constructor(e,t,r="imperative",i=null){super(e,t),this.type=_t.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ir=class extends en{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bt||{}),gf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(gf||{}),nr=class extends en{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ui=class extends en{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=_t.NavigationSkipped}},Ma=class extends en{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zl=class extends en{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_f=class extends en{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends en{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vf=class extends en{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends en{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bf=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ef=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},If=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tf=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Va=class{},$s=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function OC(n,e){return n.providers&&!n._injector&&(n._injector=vy(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hn(n){return n.outlet||fe}function NC(n,e){let t=n.filter(r=>hn(r)===e);return t.push(...n.filter(r=>hn(r)!==e)),t}function $a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sf=class{get injector(){return $a(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new au(this.rootInjector),this.attachRef=null}},au=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Ce(Os))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Rf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Pf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pf(e,this._root).map(t=>t.value)}};function Rf(n,e){if(n===e.value)return e;for(let t of e.children){let r=Rf(n,t);if(r)return r}return null}function Pf(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Pf(n,t);if(r.length)return r.unshift(e),r}return[]}var Ut=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var tu=class extends eu{constructor(e,t){super(e),this.snapshot=t,Uf(this,e)}toString(){return this.snapshot.toString()}};function bv(n){let e=MC(n),t=new Wt([new Vi("",{})]),r=new Wt({}),i=new Wt({}),s=new Wt({}),o=new Wt(""),c=new Bi(t,r,s,o,i,fe,n,e.root);return c.snapshot=e.root,new tu(new Ut(c,[]),e)}function MC(n){let e={},t={},r={},i="",s=new Us([],e,r,i,t,fe,n,null,{});return new ru("",new Ut(s,[]))}var Bi=class{constructor(e,t,r,i,s,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(f=>f[ja]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(he(e=>js(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(he(e=>js(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nu(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:H(H({},e.params),n.params),data:H(H({},e.data),n.data),resolve:H(H(H(H({},n.data),e.data),i?.data),n._resolvedData)}:r={params:H({},n.params),data:H({},n.data),resolve:H(H({},n.data),n._resolvedData??{})},i&&Iv(i)&&(r.resolve[ja]=i.title),r}var Us=class{get title(){return this.data?.[ja]}constructor(e,t,r,i,s,o,c,l,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=js(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=js(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ru=class extends eu{constructor(e,t){super(t),this.url=e,Uf(this,t)}toString(){return Ev(this._root)}};function Uf(n,e){e.value._routerState=n,e.children.forEach(t=>Uf(n,t))}function Ev(n){let e=n.children.length>0?` { ${n.children.map(Ev).join(", ")} } `:"";return`${n.value}${e}`}function lf(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xn(e.params,t.params)||n.paramsSubject.next(t.params),cC(e.url,t.url)||n.urlSubject.next(t.url),xn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xf(n,e){let t=xn(n.params,e.params)&&hC(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xf(n.parent,e.parent))}function Iv(n){return typeof n.title=="string"||n.title===null}var Bf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Jt,this.deactivateEvents=new Jt,this.attachEvents=new Jt,this.detachEvents=new Jt,this.parentContexts=Z(au),this.location=Z(gy),this.changeDetector=Z(Ns),this.inputBinder=Z(jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ne(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Df(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yn]})}}return n})(),Df=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bi?this.route:e===au?this.childContexts:this.parent.get(e,t)}},jf=new me("");function VC(n,e,t){let r=Fa(n,e._root,t?t._root:void 0);return new tu(r,e)}function Fa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=FC(n,e,t);return new Ut(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Fa(n,c)),o}}let r=LC(e.value),i=e.children.map(s=>Fa(n,s));return new Ut(r,i)}}function FC(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fa(n,r,i);return Fa(n,r)})}function LC(n){return new Bi(new Wt(n.url),new Wt(n.params),new Wt(n.queryParams),new Wt(n.fragment),new Wt(n.data),n.outlet,n.component,n)}var La=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Tv="ngNavigationCancelingError";function iu(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Li(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Cv(!1,Bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Cv(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Tv]=!0,t.cancellationCode=e,t}function UC(n){return Av(n)&&Li(n.url)}function Av(n){return!!n&&n[Tv]}var BC=(n,e,t,r)=>he(i=>(new kf(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),kf=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Fs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Fs(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Af(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(lf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),lf(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},su=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bs=class{constructor(e,t){this.component=e,this.route=t}};function jC(n,e,t){let r=n._root,i=e?e._root:null;return Sa(r,i,t,[r.value])}function $C(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function zs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!cy(n)?n:e.get(n):r}function Sa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fs(e);return n.children.forEach(o=>{qC(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Da(c,t.getContext(o),i)),i}function qC(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=zC(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new su(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Sa(n,e,c?c.children:null,r,i):Sa(n,e,t,r,i),l&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Bs(c.outlet.component,o))}else o&&Da(e,c,i),i.canActivateChecks.push(new su(r)),s.component?Sa(n,null,c?c.children:null,r,i):Sa(n,null,t,r,i);return i}function zC(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Fi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fi(n.url,e.url)||!xn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xf(n,e)||!xn(n.queryParams,e.queryParams);case"paramsChange":default:return!xf(n,e)}}function Da(n,e,t){let r=Fs(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Da(o,e.children.getContext(s),t):Da(o,null,t):Da(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Bs(e.outlet.component,i)):t.canDeactivateChecks.push(new Bs(null,i)):t.canDeactivateChecks.push(new Bs(null,i))}function qa(n){return typeof n=="function"}function GC(n){return typeof n=="boolean"}function HC(n){return n&&qa(n.canLoad)}function WC(n){return n&&qa(n.canActivate)}function KC(n){return n&&qa(n.canActivateChild)}function QC(n){return n&&qa(n.canDeactivate)}function JC(n){return n&&qa(n.canMatch)}function Sv(n){return n instanceof ey||n?.name==="EmptyError"}var Wl=Symbol("INITIAL_VALUE");function qs(){return Qt(n=>kh(n.map(e=>e.pipe(Ds(1),oy(Wl)))).pipe(he(e=>{for(let t of e)if(t!==!0){if(t===Wl)return Wl;if(t===!1||YC(t))return t}return!0}),jr(e=>e!==Wl),Ds(1)))}function YC(n){return Li(n)||n instanceof La}function XC(n,e){return Kt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ae(ke(H({},t),{guardsResult:!0})):ZC(o,r,i,n).pipe(Kt(c=>c&&GC(c)?eA(r,s,n,e):ae(c)),he(c=>ke(H({},t),{guardsResult:c})))})}function ZC(n,e,t,r){return gt(n).pipe(Kt(i=>sA(i.component,i.route,t,e,r)),$r(i=>i!==!0,!0))}function eA(n,e,t,r){return gt(e).pipe(Di(i=>ty(nA(i.route.parent,r),tA(i.route,r),iA(n,i.path,t),rA(n,i.route,t))),$r(i=>i!==!0,!0))}function tA(n,e){return n!==null&&e&&e(new Cf(n)),ae(!0)}function nA(n,e){return n!==null&&e&&e(new If(n)),ae(!0)}function rA(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(s=>Nh(()=>{let o=$a(e)??t,c=zs(s,o),l=WC(c)?c.canActivate(e,n):un(o,()=>c(e,n));return Qr(l).pipe($r())}));return ae(i).pipe(qs())}function iA(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>$C(o)).filter(o=>o!==null).map(o=>Nh(()=>{let c=o.guards.map(l=>{let f=$a(o.node)??t,_=zs(l,f),g=KC(_)?_.canActivateChild(r,n):un(f,()=>_(r,n));return Qr(g).pipe($r())});return ae(c).pipe(qs())}));return ae(s).pipe(qs())}function sA(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ae(!0);let o=s.map(c=>{let l=$a(e)??i,f=zs(c,l),_=QC(f)?f.canDeactivate(n,e,t,r):un(l,()=>f(n,e,t,r));return Qr(_).pipe($r())});return ae(o).pipe(qs())}function oA(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let s=i.map(o=>{let c=zs(o,n),l=HC(c)?c.canLoad(e,t):un(n,()=>c(e,t));return Qr(l)});return ae(s).pipe(qs(),Rv(r))}function Rv(n){return J_(at(e=>{if(typeof e!="boolean")throw iu(n,e)}),he(e=>e===!0))}function aA(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let s=i.map(o=>{let c=zs(o,n),l=JC(c)?c.canMatch(e,t):un(n,()=>c(e,t));return Qr(l)});return ae(s).pipe(qs(),Rv(r))}var Ua=class{constructor(e){this.segmentGroup=e||null}},Ba=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(n){return ua(new Ua(n))}function cA(n){return ua(new Ne(4e3,!1))}function lA(n){return ua(Cv(!1,Bt.GuardRejected))}var Of=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[fe])return cA(`${e.redirectTo}`);i=i.children[fe]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:l,fragment:f,routeConfig:_,url:g,outlet:C,params:k,data:F,title:U}=i,M=un(s,()=>c({params:k,data:F,queryParams:l,fragment:f,routeConfig:_,url:g,outlet:C,title:U}));if(M instanceof rr)throw new Ba(M);t=M}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ba(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new rr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,r,i)}),new xe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Ne(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Nf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uA(n,e,t,r,i){let s=Pv(n,e,t);return s.matched?(r=OC(e,r),aA(r,e,t,i).pipe(he(o=>o===!0?s:H({},Nf)))):ae(s)}function Pv(n,e,t){if(e.path==="**")return dA(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?H({},Nf):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||aC)(t,n,e);if(!i)return H({},Nf);let s={};Object.entries(i.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=i.consumed.length>0?H(H({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dA(n){return{matched:!0,parameters:n.length>0?cv(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function iv(n,e,t,r){return t.length>0&&pA(n,t,r)?{segmentGroup:new xe(e,fA(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&mA(n,t,r)?{segmentGroup:new xe(n.segments,hA(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function hA(n,e,t,r){let i={};for(let s of t)if(cu(n,e,s)&&!r[hn(s)]){let o=new xe([],{});i[hn(s)]=o}return H(H({},r),i)}function fA(n,e){let t={};t[fe]=e;for(let r of n)if(r.path===""&&hn(r)!==fe){let i=new xe([],{});t[hn(r)]=i}return t}function pA(n,e,t){return t.some(r=>cu(n,e,r)&&hn(r)!==fe)}function mA(n,e,t){return t.some(r=>cu(n,e,r))}function cu(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function gA(n,e,t){return e.length===0&&!n.children[t]}var Mf=class{};function _A(n,e,t,r,i,s,o="emptyOnly"){return new Vf(n,e,t,r,i,o,s).recognize()}var yA=31,Vf=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Of(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=iv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(he(({children:t,rootSnapshot:r})=>{let i=new Ut(r,t),s=new ru("",i),o=AC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Us([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,t).pipe(he(r=>({children:r,rootSnapshot:t})),xs(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ua?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(he(o=>o instanceof Ut?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return gt(s).pipe(Di(o=>{let c=r.children[o],l=NC(t,o);return this.processSegmentGroup(e,l,c,o,i)}),sy((o,c)=>(o.push(...c),o)),Mh(null),iy(),Kt(o=>{if(o===null)return Vs(r);let c=xv(o);return vA(c),ae(c)}))}processSegment(e,t,r,i,s,o,c){return gt(t).pipe(Di(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,c).pipe(xs(f=>{if(f instanceof Ua)return ae(null);throw f}))),$r(l=>!!l),xs(l=>{if(Sv(l))return gA(r,i,s)?ae(new Mf):Vs(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,l){return hn(r)!==o&&(o===fe||!cu(i,s,r))?Vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:l,parameters:f,consumedSegments:_,positionalParamSegments:g,remainingSegments:C}=Pv(t,i,s);if(!l)return Vs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yA&&(this.allowRedirects=!1));let k=new Us(s,f,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,sv(i),hn(i),i.component??i._loadedComponent??null,i,ov(i)),F=nu(k,c,this.paramsInheritanceStrategy);k.params=Object.freeze(F.params),k.data=Object.freeze(F.data);let U=this.applyRedirects.applyRedirectCommands(_,i.redirectTo,g,k,e);return this.applyRedirects.lineralizeSegments(i,U).pipe(Kt(M=>this.processSegment(e,r,t,M.concat(C),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=uA(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Qt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Qt(({routes:f})=>{let _=r._loadedInjector??e,{parameters:g,consumedSegments:C,remainingSegments:k}=l,F=new Us(C,g,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,sv(r),hn(r),r.component??r._loadedComponent??null,r,ov(r)),U=nu(F,o,this.paramsInheritanceStrategy);F.params=Object.freeze(U.params),F.data=Object.freeze(U.data);let{segmentGroup:M,slicedSegments:J}=iv(t,C,k,f);if(J.length===0&&M.hasChildren())return this.processChildren(_,f,M,F).pipe(he(W=>new Ut(F,W)));if(f.length===0&&J.length===0)return ae(new Ut(F,[]));let ee=hn(r)===s;return this.processSegment(_,f,M,J,ee?fe:s,!0,F).pipe(he(W=>new Ut(F,W instanceof Ut?[W]:[])))}))):Vs(t)))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):oA(e,t,r,this.urlSerializer).pipe(Kt(i=>i?this.configLoader.loadChildren(e,t).pipe(at(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):lA(t))):ae({routes:[],injector:e})}};function vA(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}function wA(n){let e=n.value.routeConfig;return e&&e.path===""}function xv(n){let e=[],t=new Set;for(let r of n){if(!wA(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=xv(r.children);e.push(new Ut(r.value,i))}return e.filter(r=>!t.has(r))}function sv(n){return n.data||{}}function ov(n){return n.resolve||{}}function bA(n,e,t,r,i,s){return Kt(o=>_A(n,e,t,r,o.extractedUrl,i,s).pipe(he(({state:c,tree:l})=>ke(H({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function EA(n,e){return Kt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let f of Dv(l))o.add(f);let c=0;return gt(o).pipe(Di(l=>s.has(l)?IA(l,r,n,e):(l.data=nu(l,l.parent,n).resolve,ae(void 0))),at(()=>c++),Vh(1),Kt(l=>c===o.size?ae(t):Br))})}function Dv(n){let e=n.children.map(t=>Dv(t)).flat();return[n,...e]}function IA(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Iv(i)&&(s[ja]=i.title),TA(s,n,e,r).pipe(he(o=>(n._resolvedData=o,n.data=nu(n,n.parent,t).resolve,null)))}function TA(n,e,t,r){let i=hf(n);if(i.length===0)return ae({});let s={};return gt(i).pipe(Kt(o=>CA(n[o],e,t,r).pipe($r(),at(c=>{if(c instanceof La)throw iu(new ka,c);s[o]=c}))),Vh(1),ry(s),xs(o=>Sv(o)?Br:ua(o)))}function CA(n,e,t,r){let i=$a(e)??r,s=zs(n,i),o=s.resolve?s.resolve(e,t):un(i,()=>s(e,t));return Qr(o)}function uf(n){return Qt(e=>{let t=n(e);return t?gt(t).pipe(he(()=>e)):ae(e)})}var kv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[ja]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:()=>Z(AA),providedIn:"root"})}}return n})(),AA=(()=>{class n extends kv{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Ce(Zy))}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$f=new me("",{providedIn:"root",factory:()=>({})}),SA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Ye({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[Bf],encapsulation:2})}}return n})();function qf(n){let e=n.children&&n.children.map(qf),t=e?ke(H({},n),{children:e}):H({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=SA),t}var zf=new me(""),RA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(Hh)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Qr(t.loadComponent()).pipe(he(Ov),at(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ks(()=>{this.componentLoaders.delete(t)})),i=new Rh(r,()=>new Pn).pipe(Sh());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=PA(r,this.compiler,t,this.onLoadEndListener).pipe(ks(()=>{this.childrenLoaders.delete(r)})),o=new Rh(s,()=>new Pn).pipe(Sh());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function PA(n,e,t,r){return Qr(n.loadChildren()).pipe(he(Ov),Kt(i=>i instanceof yy||Array.isArray(i)?ae(i):gt(e.compileModuleAsync(i))),he(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(zf,[],{optional:!0,self:!0}).flat()),{routes:o.map(qf),injector:s}}))}function xA(n){return n&&typeof n=="object"&&"default"in n}function Ov(n){return xA(n)?n.default:n}var Gf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:()=>Z(DA),providedIn:"root"})}}return n})(),DA=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kA=new me("");var OA=new me(""),NA=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pn,this.transitionAbortSubject=new Pn,this.configLoader=Z(RA),this.environmentInjector=Z(Os),this.urlSerializer=Z(Lf),this.rootContexts=Z(au),this.location=Z(Ml),this.inputBindingEnabled=Z(jf,{optional:!0})!==null,this.titleStrategy=Z(kv),this.options=Z($f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Z(Gf),this.createViewTransition=Z(kA,{optional:!0}),this.navigationErrorHandler=Z(OA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null;let t=i=>this.events.next(new bf(i)),r=i=>this.events.next(new Ef(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ke(H(H({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jr(s=>s.id!==0),he(s=>ke(H({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qt(s=>{let o=!1,c=!1;return ae(s).pipe(Qt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Bt.SupersededByNewNavigation),Br;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ke(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),_=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!f&&_!=="reload"){let g="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.rawUrl),g,gf.IgnoredSameUrlNavigation)),l.resolve(!1),Br}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ae(l).pipe(Qt(g=>{let C=this.transitions?.getValue();return this.events.next(new Na(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),C!==this.transitions?.getValue()?Br:Promise.resolve(g)}),bA(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),at(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ke(H({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let C=new Zl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(C)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:C,source:k,restoredState:F,extras:U}=l,M=new Na(g,this.urlSerializer.serialize(C),k,F);this.events.next(M);let J=bv(this.rootComponentType).snapshot;return this.currentTransition=s=ke(H({},l),{targetSnapshot:J,urlAfterRedirects:C,extras:ke(H({},U),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,ae(s)}else{let g="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),g,gf.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Br}}),at(l=>{let f=new _f(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),he(l=>(this.currentTransition=s=ke(H({},l),{guards:jC(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),XC(this.environmentInjector,l=>this.events.next(l)),at(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw iu(this.urlSerializer,l.guardsResult);let f=new yf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),jr(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Bt.GuardRejected),!1)),uf(l=>{if(l.guards.canActivateChecks.length)return ae(l).pipe(at(f=>{let _=new vf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Qt(f=>{let _=!1;return ae(f).pipe(EA(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>_=!0,complete:()=>{_||this.cancelNavigationTransition(f,"",Bt.NoDataFromResolver)}}))}),at(f=>{let _=new wf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),uf(l=>{let f=_=>{let g=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(_.routeConfig).pipe(at(C=>{_.component=C}),he(()=>{})));for(let C of _.children)g.push(...f(C));return g};return kh(f(l.targetSnapshot.root)).pipe(Mh(null),Ds(1))}),uf(()=>this.afterPreactivation()),Qt(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,_=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return _?gt(_).pipe(he(()=>s)):ae(s)}),he(l=>{let f=VC(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ke(H({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),at(()=>{this.events.next(new Va)}),BC(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ds(1),at({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ir(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),ay(this.transitionAbortSubject.pipe(at(l=>{throw l}))),ks(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",Bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),xs(l=>{if(c=!0,Av(l))this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),UC(l)?this.events.next(new $s(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let f=new Ma(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let _=un(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(_ instanceof La){let{message:g,cancellationCode:C}=iu(this.urlSerializer,_);this.events.next(new nr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,C)),this.events.next(new $s(_.redirectTo,_.navigationBehaviorOptions))}else{this.events.next(f);let g=t.errorHandler(l);s.resolve(!!g)}}catch(_){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(_)}}return Br}))}))}cancelNavigationTransition(t,r,i){let s=new nr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function MA(n){return n!==xa}var VA=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:()=>Z(FA),providedIn:"root"})}}return n})(),Ff=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},FA=(()=>{class n extends Ff{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Nv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:()=>Z(LA),providedIn:"root"})}}return n})(),LA=(()=>{class n extends Nv{constructor(){super(...arguments),this.location=Z(Ml),this.urlSerializer=Z(Lf),this.options=Z($f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Z(Gf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=bv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Na)this.stateMemento=this.createStateMemento();else if(t instanceof Ui)this.rawUrlTree=r.initialUrl;else if(t instanceof Zl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Va?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof nr&&(t.code===Bt.GuardRejected||t.code===Bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ma?this.restoreHistory(r,!0):t instanceof ir&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof rr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=H(H({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=H(H({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ra=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ra||{});function UA(n,e){n.events.pipe(jr(t=>t instanceof ir||t instanceof nr||t instanceof Ma||t instanceof Ui),he(t=>t instanceof ir||t instanceof Ui?Ra.COMPLETE:(t instanceof nr?t.code===Bt.Redirect||t.code===Bt.SupersededByNewNavigation:!1)?Ra.REDIRECTING:Ra.FAILED),jr(t=>t!==Ra.REDIRECTING),Ds(1)).subscribe(()=>{e()})}function BA(n){throw n}var jA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Z(kl),this.stateManager=Z(Nv),this.options=Z($f,{optional:!0})||{},this.pendingTasks=Z(Pl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Z(NA),this.urlSerializer=Z(Lf),this.location=Z(Ml),this.urlHandlingStrategy=Z(Gf),this._events=new Pn,this.errorHandler=this.options.errorHandler||BA,this.navigated=!1,this.routeReuseStrategy=Z(VA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Z(zf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Z(jf,{optional:!0}),this.eventsSubscription=new Q_,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof nr&&r.code!==Bt.Redirect&&r.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ir)this.navigated=!0;else if(r instanceof $s){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=H({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||MA(i.source)},o);this.scheduleNavigation(c,xa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}zA(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=H({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=r,f=l?this.currentUrlTree.fragment:o,_=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":_=H(H({},this.currentUrlTree.queryParams),s);break;case"preserve":_=this.currentUrlTree.queryParams;break;default:_=s||null}_!==null&&(_=this.removeEmptyProps(_));let g;try{let C=i?i.snapshot:this.routerState.snapshot.root;g=_v(C)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return yv(g,t,_,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Li(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,xa,null,r)}navigate(t,r={skipLocationChange:!1}){return qA(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=H({},jA):r===!1?i=H({},$A):i=r,Li(t))return ev(this.currentUrlTree,t,i);let s=this.parseUrl(t);return ev(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,f;o?(c=o.resolve,l=o.reject,f=o.promise):f=new Promise((g,C)=>{c=g,l=C});let _=this.pendingTasks.add();return UA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(_))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function qA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ne(4008,!1)}function zA(n){return!(n instanceof Va)&&!(n instanceof $s)}var ou=(()=>{class n{constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new Pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(f=>{f instanceof ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Li(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:py(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Li(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Y(Dt),Y(Bi),uy("tabindex"),Y(zr),Y(qr),Y(Wh))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&re("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Dl("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ni],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ni],replaceUrl:[2,"replaceUrl","replaceUrl",Ni],routerLink:"routerLink"},standalone:!0,features:[_y,Yn]})}}return n})(),Mv=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Jt,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof ir&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(Oh()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=gt(t).pipe(Oh()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=GA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(Dt),Y(qr),Y(zr),Y(Ns),Y(ou,8))}}static{this.\u0275dir=He({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&wy(s,ou,5),r&2){let o;by(o=Ey())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Yn]})}}return n})();function GA(n){return!!n.paths}var HA=new me("");function Vv(n,...e){return Ct([{provide:zf,multi:!0,useValue:n},[],{provide:Bi,useFactory:WA,deps:[Dt]},{provide:Gh,multi:!0,useFactory:KA},e.map(t=>t.\u0275providers)])}function WA(n){return n.routerState.root}function KA(){let n=Z(dn);return e=>{let t=n.get(Nl);if(e!==t.components[0])return;let r=n.get(Dt),i=n.get(QA);n.get(JA)===1&&r.initialNavigation(),n.get(YA,null,Fh.Optional)?.setUpPreloading(),n.get(HA,null,Fh.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var QA=new me("",{factory:()=>new Pn}),JA=new me("",{providedIn:"root",factory:()=>1});var YA=new me("");var uu=class n{constructor(e){this.router=e}registrarse(){this.router.navigate(["registro"])}iniciarSesion(){this.router.navigate(["login"])}static \u0275fac=function(t){return new(t||n)(Y(Dt))};static \u0275cmp=Ye({type:n,selectors:[["app-bienvenida"]],standalone:!0,features:[Ze],decls:13,vars:0,consts:[[1,"wrapper"],[1,"welcome-section"],[1,"buttons"],[1,"register-btn",3,"click"],[1,"login-btn",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),O(3,"Bienvenido a Nuestro Centro M\xE9dico"),b(),A(4,"p"),O(5," Nos complace tenerte aqu\xED. "),te(6,"br"),O(7," Reg\xEDstrate para acceder a nuestros servicios o inicia sesi\xF3n si ya tienes una cuenta. "),b(),A(8,"div",2)(9,"button",3),re("click",function(){return r.registrarse()}),O(10,"Registrarse"),b(),A(11,"button",4),re("click",function(){return r.iniciarSesion()}),O(12,"Iniciar Sesi\xF3n"),b()()()())},styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:92.3vh;width:100vw;background-color:#292952;background-image:url("./media/background-O36KHK4D.jpg");background-size:cover;background-position:center;background-repeat:no-repeat;overflow:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;overflow:hidden}.welcome-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:40px;text-align:left;margin-top:-120px;margin-left:20px}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2em;color:#333;margin-bottom:20px;max-width:45%}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.9em;color:#666;margin-bottom:30px;max-width:40%}.buttons[_ngcontent-%COMP%]{margin-top:7px;display:flex;gap:50px}.register-btn[_ngcontent-%COMP%], .login-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:2.1em;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s}.register-btn[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#134aff}.login-btn[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#134aff}']})};var Hv=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Y(zr),Y(qr))}}static{this.\u0275dir=He({type:n})}}return n})(),wu=(()=>{class n extends Hv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,features:[Yt]})}}return n})(),Ks=new me("");var XA={provide:Ks,useExisting:Jn(()=>Zr),multi:!0};function ZA(){let n=Ms()?Ms().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var eS=new me(""),Zr=(()=>{class n extends Hv{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ZA())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(zr),Y(qr),Y(eS,8))}}static{this.\u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[er([XA]),Yt]})}}return n})();function Yr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Wv(n){return n!=null&&typeof n.length=="number"}var bu=new me(""),Xf=new me(""),tS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$=class{static min(e){return nS(e)}static max(e){return rS(e)}static required(e){return Kv(e)}static requiredTrue(e){return iS(e)}static email(e){return sS(e)}static minLength(e){return oS(e)}static maxLength(e){return aS(e)}static pattern(e){return cS(e)}static nullValidator(e){return hu(e)}static compose(e){return ew(e)}static composeAsync(e){return nw(e)}};function nS(n){return e=>{if(Yr(e.value)||Yr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function rS(n){return e=>{if(Yr(e.value)||Yr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Kv(n){return Yr(n.value)?{required:!0}:null}function iS(n){return n.value===!0?null:{required:!0}}function sS(n){return Yr(n.value)||tS.test(n.value)?null:{email:!0}}function oS(n){return e=>Yr(e.value)||!Wv(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function aS(n){return e=>Wv(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function cS(n){if(!n)return hu;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Yr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function hu(n){return null}function Qv(n){return n!=null}function Jv(n){return Ol(n)?gt(n):n}function Yv(n){let e={};return n.forEach(t=>{e=t!=null?H(H({},e),t):e}),Object.keys(e).length===0?null:e}function Xv(n,e){return e.map(t=>t(n))}function lS(n){return!n.validate}function Zv(n){return n.map(e=>lS(e)?e:t=>e.validate(t))}function ew(n){if(!n)return null;let e=n.filter(Qv);return e.length==0?null:function(t){return Yv(Xv(t,e))}}function tw(n){return n!=null?ew(Zv(n)):null}function nw(n){if(!n)return null;let e=n.filter(Qv);return e.length==0?null:function(t){let r=Xv(t,e).map(Jv);return ny(r).pipe(he(Yv))}}function rw(n){return n!=null?nw(Zv(n)):null}function Fv(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iw(n){return n._rawValidators}function sw(n){return n._rawAsyncValidators}function Hf(n){return n?Array.isArray(n)?n:[n]:[]}function fu(n,e){return Array.isArray(n)?n.includes(e):n===e}function Lv(n,e){let t=Hf(e);return Hf(n).forEach(i=>{fu(t,i)||t.push(i)}),t}function Uv(n,e){return Hf(e).filter(t=>!fu(n,t))}var pu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ji=class extends pu{get formDirective(){return null}get path(){return null}},$i=class extends pu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uS={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Z2=ke(H({},uS),{"[class.ng-submitted]":"isSubmitted"}),ei=(()=>{class n extends mu{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y($i,2))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Yt]})}}return n})(),Qs=(()=>{class n extends mu{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Y(ji,10))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Yt]})}}return n})();var za="VALID",du="INVALID",Gs="PENDING",Ga="DISABLED",Xr=class{},gu=class extends Xr{constructor(e,t){super(),this.value=e,this.source=t}},Ha=class extends Xr{constructor(e,t){super(),this.pristine=e,this.source=t}},Wa=class extends Xr{constructor(e,t){super(),this.touched=e,this.source=t}},Hs=class extends Xr{constructor(e,t){super(),this.status=e,this.source=t}},Wf=class extends Xr{constructor(e){super(),this.source=e}},Kf=class extends Xr{constructor(e){super(),this.source=e}};function Zf(n){return(Eu(n)?n.validators:n)||null}function dS(n){return Array.isArray(n)?tw(n):n||null}function ep(n,e){return(Eu(e)?e.asyncValidators:n)||null}function hS(n){return Array.isArray(n)?rw(n):n||null}function Eu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ow(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ne(1e3,"");if(!r[t])throw new Ne(1001,"")}function aw(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ne(1002,"")})}var Ws=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ya(()=>this.statusReactive()),this.statusReactive=fa(void 0),this._pristine=ya(()=>this.pristineReactive()),this.pristineReactive=fa(!0),this._touched=ya(()=>this.touchedReactive()),this.touchedReactive=fa(!1),this._events=new Pn,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gr(this.statusReactive)}set status(e){Gr(()=>this.statusReactive.set(e))}get valid(){return this.status===za}get invalid(){return this.status===du}get pending(){return this.status==Gs}get disabled(){return this.status===Ga}get enabled(){return this.status!==Ga}get pristine(){return Gr(this.pristineReactive)}set pristine(e){Gr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Gr(this.touchedReactive)}set touched(e){Gr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Lv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Lv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Uv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Uv(e,this._rawAsyncValidators))}hasValidator(e){return fu(this._rawValidators,e)}hasAsyncValidator(e){return fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ke(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wa(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ke(H({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ha(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ha(!0,r))}markAsPending(e={}){this.status=Gs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ke(H({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ga,this.errors=null,this._forEachChild(i=>{i.disable(ke(H({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gu(this.value,r)),this._events.next(new Hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ke(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=za,this._forEachChild(r=>{r.enable(ke(H({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ke(H({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===za||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gu(this.value,t)),this._events.next(new Hs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ke(H({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ga:za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Jv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Hs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Jt,this.statusChanges=new Jt}_calculateStatus(){return this._allControlsDisabled()?Ga:this.errors?du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(du)?du:za}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ha(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Wa(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Eu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dS(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hS(this._rawAsyncValidators)}},_u=class extends Ws{constructor(e,t,r){super(Zf(t),ep(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){aw(this,!0,e),Object.keys(e).forEach(r=>{ow(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qf=class extends _u{};var Iu=new me("CallSetDisabledState",{providedIn:"root",factory:()=>Tu}),Tu="always";function cw(n,e){return[...e.path,n]}function Jf(n,e,t=Tu){tp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),pS(n,e),gS(n,e),mS(n,e),fS(n,e)}function Bv(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),vu(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fS(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tp(n,e){let t=iw(n);e.validator!==null?n.setValidators(Fv(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=sw(n);e.asyncValidator!==null?n.setAsyncValidators(Fv(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();yu(e._rawValidators,i),yu(e._rawAsyncValidators,i)}function vu(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=iw(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=sw(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return yu(e._rawValidators,r),yu(e._rawAsyncValidators,r),t}function pS(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&lw(n,e)})}function mS(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&lw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function lw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gS(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function _S(n,e){n==null,tp(n,e)}function yS(n,e){return vu(n,e)}function uw(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function vS(n){return Object.getPrototypeOf(n.constructor)===wu}function wS(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dw(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Zr?t=s:vS(s)?r=s:i=s}),i||r||t||null}function bS(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jv(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $v(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ka=class extends Ws{constructor(e=null,t,r){super(Zf(t),ep(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eu(t)&&(t.nonNullable||t.initialValueIsDefault)&&($v(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$v(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ES=n=>n instanceof Ka;var IS={provide:$i,useExisting:Jn(()=>np)},qv=Promise.resolve(),np=(()=>{class n extends $i{constructor(t,r,i,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new Ka,this._registered=!1,this.name="",this.update=new Jt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dw(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ni(r);qv.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?cw(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Y(ji,9),Y(bu,10),Y(Xf,10),Y(Ks,10),Y(Ns,8),Y(Iu,8))}}static{this.\u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[er([IS]),Yt,Yn]})}}return n})(),Js=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),TS={provide:Ks,useExisting:Jn(()=>Qa),multi:!0},Qa=(()=>{class n extends wu{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&re("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[er([TS]),Yt]})}}return n})();var hw=new me("");var CS={provide:ji,useExisting:Jn(()=>qi)},qi=(()=>{class n extends ji{get submitted(){return Gr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=ya(()=>this._submittedReactive()),this._submittedReactive=fa(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Jt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Jf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bv(t.control||null,t,!1),bS(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),wS(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Wf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Kf(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(Bv(r||null,t),ES(i)&&(Jf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);_S(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&yS(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tp(this.form,this),this._oldForm&&vu(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(Y(bu,10),Y(Xf,10),Y(Iu,8))}}static{this.\u0275dir=He({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&re("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[er([CS]),Yt,Yn]})}}return n})();var AS={provide:$i,useExisting:Jn(()=>zi)},zi=(()=>{class n extends $i{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Jt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dw(this,s)}ngOnChanges(t){this._added||this._setUpControl(),uw(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return cw(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(Y(ji,13),Y(bu,10),Y(Xf,10),Y(Ks,10),Y(hw,8))}}static{this.\u0275dir=He({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[er([AS]),Yt,Yn]})}}return n})(),SS={provide:Ks,useExisting:Jn(()=>Cu),multi:!0};function fw(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function RS(n){return n.split(":")[0]}var Cu=(()=>{class n extends wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=fw(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=RS(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&re("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([SS]),Yt]})}}return n})(),Au=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(fw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(qr),Y(zr),Y(Cu,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),PS={provide:Ks,useExisting:Jn(()=>pw),multi:!0};function zv(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function xS(n){return n.split(":")[0]}var pw=(()=>{class n extends wu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let c=0;c<o.length;c++){let l=o[c],f=this._getOptionValue(l.value);i.push(f)}}else{let o=r.options;for(let c=0;c<o.length;c++){let l=o[c];if(l.selected){let f=this._getOptionValue(l.value);i.push(f)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=xS(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&re("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[er([PS]),Yt]})}}return n})(),Su=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(zv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Y(qr),Y(zr),Y(pw,9))}}static{this.\u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var DS=(()=>{class n{constructor(){this._validator=hu}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=He({type:n,features:[Yn]})}}return n})();var kS={provide:bu,useExisting:Jn(()=>Gi),multi:!0};var Gi=(()=>{class n extends DS{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ni,this.createValidator=t=>Kv}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Xn(n)))(i||n)}})()}static{this.\u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Dl("required",i._enabled?"":null)},inputs:{required:"required"},features:[er([kS]),Yt]})}}return n})();var mw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Oi({type:n})}static{this.\u0275inj=ki({})}}return n})(),Yf=class extends Ws{constructor(e,t,r){super(Zf(t),ep(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){aw(this,!1,e),e.forEach((r,i)=>{ow(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Gv(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Ys=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return Gv(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new _u(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Qf(i,r)}control(t,r,i){let s={};return this.useNonNullable?(Gv(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ka(t,ke(H({},s),{nonNullable:!0}))):new Ka(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new Yf(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ka)return t;if(t instanceof Ws)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Iu,useValue:t.callSetDisabledState??Tu}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Oi({type:n})}static{this.\u0275inj=ki({imports:[mw]})}}return n})(),ti=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Iu,useValue:t.callSetDisabledState??Tu}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Oi({type:n})}static{this.\u0275inj=ki({imports:[mw]})}}return n})();var _w=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},OS=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,l=i+2<n.length,f=l?n[i+2]:0,_=s>>2,g=(s&3)<<4|c>>4,C=(c&15)<<2|f>>6,k=f&63;l||(k=64,o||(C=64)),r.push(t[_],t[g],t[C],t[k])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_w(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let f=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||f==null||g==null)throw new ip;let C=s<<2|c>>4;if(r.push(C),f!==64){let k=c<<4&240|f>>2;if(r.push(k),g!==64){let F=f<<6&192|g;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ip=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NS=function(n){let e=_w(n);return yw.encodeByteArray(e,!0)},Ja=function(n){return NS(n).replace(/\./g,"")},op=function(n){try{return yw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var VS=()=>MS().__FIREBASE_DEFAULTS__,FS=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&op(n[1]);return e&&JSON.parse(e)},xu=()=>{try{return VS()||FS()||LS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ap=n=>{var e,t;return(t=(e=xu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Du=n=>{let e=ap(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},cp=()=>{var n;return(n=xu())===null||n===void 0?void 0:n.config},lp=n=>{var e;return(e=xu())===null||e===void 0?void 0:e[`_${n}`]};var Pu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ku(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ja(JSON.stringify(t)),Ja(JSON.stringify(o)),""].join(".")}function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function US(){var n;let e=(n=xu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bw(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Ew(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iw(){let n=ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Tw(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function up(){try{return typeof indexedDB=="object"}catch{return!1}}function Cw(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var BS="FirebaseError",St=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BS,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jS(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new St(i,c,r)}};function jS(n,e){return n.replace($S,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $S=/\{\$([^}]+)}/g;function Aw(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Hi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(gw(s)&&gw(o)){if(!Hi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function gw(n){return n!==null&&typeof n=="object"}function Ya(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eo(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Sw(n,e){let t=new sp(n,e);return t.subscribe.bind(t)}var sp=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");qS(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=rp),i.error===void 0&&(i.error=rp),i.complete===void 0&&(i.complete=rp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qS(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rp(){}var nV=4*60*60*1e3;function Me(n){return n&&n._delegate?n._delegate:n}var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wi="[DEFAULT]";var dp=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Pu;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GS(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zS(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zS(n){return n===Wi?void 0:n}function GS(n){return n.instantiationMode==="EAGER"}var Ou=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new dp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var HS=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),WS={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},KS=ye.INFO,QS={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},JS=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=QS[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ni=class{constructor(e){this.name=e,this._logLevel=KS,this._logHandler=JS,this._userLogHandler=null,HS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var YS=(n,e)=>e.some(t=>n instanceof t),Rw,Pw;function XS(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xw=new WeakMap,fp=new WeakMap,Dw=new WeakMap,hp=new WeakMap,mp=new WeakMap;function eR(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Dn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&xw.set(t,n)}).catch(()=>{}),mp.set(e,n),e}function tR(n){if(fp.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});fp.set(n,e)}var pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return fp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Dw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kw(n){pp=n(pp)}function nR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Nu(this),e,...t);return Dw.set(r,e.sort?e.sort():[e]),Dn(r)}:ZS().includes(n)?function(...e){return n.apply(Nu(this),e),Dn(xw.get(this))}:function(...e){return Dn(n.apply(Nu(this),e))}}function rR(n){return typeof n=="function"?nR(n):(n instanceof IDBTransaction&&tR(n),YS(n,XS())?new Proxy(n,pp):n)}function Dn(n){if(n instanceof IDBRequest)return eR(n);if(hp.has(n))return hp.get(n);let e=rR(n);return e!==n&&(hp.set(n,e),mp.set(e,n)),e}var Nu=n=>mp.get(n);function Nw(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Dn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Dn(o.result),l.oldVersion,l.newVersion,Dn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}var iR=["get","getKey","getAll","getAllKeys","count"],sR=["put","add","delete","clear"],gp=new Map;function Ow(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=sR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iR.includes(t)))return;let s=function(o,...c){return E(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),f=l.store;return r&&(f=f.index(c.shift())),(yield Promise.all([f[t](...c),i&&l.done]))[0]})};return gp.set(e,s),s}kw(n=>ke(H({},n),{get:(e,t,r)=>Ow(e,t)||n.get(e,t,r),has:(e,t)=>!!Ow(e,t)||n.has(e,t)}));var yp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oR(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function oR(n){let e=n.getComponent();return e?.type==="VERSION"}var vp="@firebase/app",Mw="0.10.13";var or=new ni("@firebase/app"),aR="@firebase/app-compat",cR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",dR="@firebase/app-check",hR="@firebase/auth",fR="@firebase/auth-compat",pR="@firebase/database",mR="@firebase/data-connect",gR="@firebase/database-compat",_R="@firebase/functions",yR="@firebase/functions-compat",vR="@firebase/installations",wR="@firebase/installations-compat",bR="@firebase/messaging",ER="@firebase/messaging-compat",IR="@firebase/performance",TR="@firebase/performance-compat",CR="@firebase/remote-config",AR="@firebase/remote-config-compat",SR="@firebase/storage",RR="@firebase/storage-compat",PR="@firebase/firestore",xR="@firebase/vertexai-preview",DR="@firebase/firestore-compat",kR="firebase",OR="10.14.1";var wp="[DEFAULT]",NR={[vp]:"fire-core",[aR]:"fire-core-compat",[lR]:"fire-analytics",[cR]:"fire-analytics-compat",[dR]:"fire-app-check",[uR]:"fire-app-check-compat",[hR]:"fire-auth",[fR]:"fire-auth-compat",[pR]:"fire-rtdb",[mR]:"fire-data-connect",[gR]:"fire-rtdb-compat",[_R]:"fire-fn",[yR]:"fire-fn-compat",[vR]:"fire-iid",[wR]:"fire-iid-compat",[bR]:"fire-fcm",[ER]:"fire-fcm-compat",[IR]:"fire-perf",[TR]:"fire-perf-compat",[CR]:"fire-rc",[AR]:"fire-rc-compat",[SR]:"fire-gcs",[RR]:"fire-gcs-compat",[PR]:"fire-fst",[DR]:"fire-fst-compat",[xR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};var Xa=new Map,MR=new Map,bp=new Map;function Vw(n,e){try{n.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function kn(n){let e=n.name;if(bp.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,n);for(let t of Xa.values())Vw(t,n);for(let t of MR.values())Vw(t,n);return!0}function Ki(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fn(n){return n.settings!==void 0}var VR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new sr("app","Firebase",VR);var Ep=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};var On=OR;function Cp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(t||(t=cp()),!t)throw ri.create("no-options");let s=Xa.get(i);if(s){if(Hi(t,s.options)&&Hi(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}let o=new Ou(i);for(let l of bp.values())o.addComponent(l);let c=new Ep(t,r,o);return Xa.set(i,c),c}function ii(n=wp){let e=Xa.get(n);if(!e&&n===wp&&cp())return Cp();if(!e)throw ri.create("no-app",{appName:n});return e}function Mu(){return Array.from(Xa.values())}function Le(n,e,t){var r;let i=(r=NR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(c.join(" "));return}kn(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var FR="firebase-heartbeat-database",LR=1,Za="firebase-heartbeat-store",_p=null;function Bw(){return _p||(_p=Nw(FR,LR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw ri.create("idb-open",{originalErrorMessage:n.message})})),_p}function UR(n){return E(this,null,function*(){try{let t=(yield Bw()).transaction(Za),r=yield t.objectStore(Za).get(jw(n));return yield t.done,r}catch(e){if(e instanceof St)or.warn(e.message);else{let t=ri.create("idb-get",{originalErrorMessage:e?.message});or.warn(t.message)}}})}function Fw(n,e){return E(this,null,function*(){try{let r=(yield Bw()).transaction(Za,"readwrite");yield r.objectStore(Za).put(e,jw(n)),yield r.done}catch(t){if(t instanceof St)or.warn(t.message);else{let r=ri.create("idb-set",{originalErrorMessage:t?.message});or.warn(r.message)}}})}function jw(n){return`${n.name}!${n.options.appId}`}var BR=1024,jR=30*24*60*60*1e3,Ip=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Tp(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=jR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Lw(),{heartbeatsToSend:r,unsentEntries:i}=$R(this._heartbeatsCache.heartbeats),s=Ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return or.warn(t),""}})}};function Lw(){return new Date().toISOString().substring(0,10)}function $R(n,e=BR){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uw(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Uw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Tp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return up()?Cw().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield UR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Uw(n){return Ja(JSON.stringify({version:2,heartbeats:n})).length}function qR(n){kn(new kt("platform-logger",e=>new yp(e),"PRIVATE")),kn(new kt("heartbeat",e=>new Ip(e),"PRIVATE")),Le(vp,Mw,n),Le(vp,Mw,"esm2017"),Le("fire-js","")}qR("");var zR="firebase",GR="10.14.1";Le(zR,GR,"app");var ar=new _a("ANGULARFIRE2_VERSION");function no(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ji=(n,e)=>{let t=e?[e]:Mu(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},si=class{constructor(){return Ji(HR)}},HR="app-check";function to(){}var Vu=class{zone;delegate;constructor(e,t=X_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Ap=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to)),t.pipe(at({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},oi=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Vu(Zone.current)),this.insideAngular=t.run(()=>new Vu(Zone.current,Y_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Ce(Xe))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fu(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function WR(n){return Fu().ngZone.runOutsideAngular(()=>n())}function Qi(n){return Fu().ngZone.run(()=>n())}function KR(n){return QR(Fu())(n)}function QR(n){return function(t){return t=t.lift(new Ap(n.ngZone)),t.pipe(Dh(n.outsideAngular),xh(n.insideAngular))}}var JR=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Qi(()=>n.apply(void 0,r))},et=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Qi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",to,{},to,to))),r[s]=JR(r[s],t));let i=WR(()=>n.apply(this,r));if(!e)if(i instanceof Ur){let s=Fu();return i.pipe(Dh(s.outsideAngular),xh(s.insideAngular))}else return Qi(()=>i);return i instanceof Ur?i.pipe(KR):i instanceof Promise?Qi(()=>new Promise((s,o)=>i.then(c=>Qi(()=>s(c)),c=>Qi(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Qi(()=>i)};var pn=class{constructor(e){return e}},cr=class{constructor(){return Mu()}};function YR(n){return n&&n.length===1?n[0]:new pn(ii())}var Sp=new me("angularfire2._apps"),XR={provide:pn,useFactory:YR,deps:[[new ct,Sp]]},ZR={provide:cr,deps:[[new ct,Sp]]};function e1(n){return(e,t)=>{let r=t.get(Zn);Le("angularfire",ar.full,"core"),Le("angularfire",ar.full,"app"),Le("angular",Sy.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new pn(i)}}function $w(n,...e){return Ct([XR,ZR,{provide:Sp,useFactory:e1(n),multi:!0,deps:[Xe,dn,oi,...e]}])}var qw=et(Cp,!0);function o0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var a0=o0,c0=new sr("auth","Firebase",o0());var qu=new ni("@firebase/auth");function t1(n,...e){qu.logLevel<=ye.WARN&&qu.warn(`Auth (${On}): ${n}`,...e)}function Uu(n,...e){qu.logLevel<=ye.ERROR&&qu.error(`Auth (${On}): ${n}`,...e)}function Mn(n,...e){throw Jp(n,...e)}function Yi(n,...e){return Jp(n,...e)}function l0(n,e,t){let r=Object.assign(Object.assign({},a0()),{[e]:t});return new sr("auth","Firebase",r).create(e,{appName:n.name})}function dr(n){return l0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return c0.create(n,...e)}function se(n,e,...t){if(!n)throw Jp(e,...t)}function lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Uu(e),new Error(e)}function ci(n,e){n||lr(e)}function Dp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function n1(){return zw()==="http:"||zw()==="https:"}function zw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function r1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n1()||bw()||"connection"in navigator)?navigator.onLine:!0}function i1(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Xi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=vw()||Ew()}get(){return r1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Yp(n,e){ci(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var zu=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var s1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o1=new Xi(3e4,6e4);function hr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function fr(s,o,c,l){return E(this,arguments,function*(n,e,t,r,i={}){return u0(n,i,()=>E(this,null,function*(){let f={},_={};r&&(e==="GET"?_=r:f={body:JSON.stringify(r)});let g=Ya(Object.assign({key:n.config.apiKey},_)).slice(1),C=yield n._getAdditionalHeaders();C["Content-Type"]="application/json",n.languageCode&&(C["X-Firebase-Locale"]=n.languageCode);let k=Object.assign({method:e,headers:C},f);return ww()||(k.referrerPolicy="no-referrer"),zu.fetch()(d0(n,n.config.apiHost,t,g),k)}))})}function u0(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},s1),e);try{let i=new kp(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Lu(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,f]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lu(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Lu(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Lu(n,"user-disabled",o);let _=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw l0(n,_,f);Mn(n,_)}}catch(i){if(i instanceof St)throw i;Mn(n,"network-request-failed",{message:String(i)})}})}function ac(s,o,c,l){return E(this,arguments,function*(n,e,t,r,i={}){let f=yield fr(n,e,t,r,i);return"mfaPendingCredential"in f&&Mn(n,"multi-factor-auth-required",{_serverResponse:f}),f})}function d0(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Yp(n.config,i):`${n.config.apiScheme}://${i}`}function a1(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var kp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),o1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lu(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Yi(n,e,r);return i.customData._tokenResponse=t,i}function Gw(n){return n!==void 0&&n.enterprise!==void 0}var Op=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function c1(n,e){return E(this,null,function*(){return fr(n,"GET","/v2/recaptchaConfig",hr(n,e))})}function l1(n,e){return E(this,null,function*(){return fr(n,"POST","/v1/accounts:delete",e)})}function h0(n,e){return E(this,null,function*(){return fr(n,"POST","/v1/accounts:lookup",e)})}function ec(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xp(n,e=!1){return E(this,null,function*(){let t=Me(n),r=yield t.getIdToken(e),i=Zp(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ec(Rp(i.auth_time)),issuedAtTime:ec(Rp(i.iat)),expirationTime:ec(Rp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Rp(n){return Number(n)*1e3}function Zp(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{let i=op(t);return i?JSON.parse(i):(Uu("Failed to decode base64 JWT payload"),null)}catch(i){return Uu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Hw(n){let e=Zp(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nc(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof St&&u1(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function u1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Np=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gu(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield nc(n,h0(t,{idToken:r}));se(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?f0(s.providerUserInfo):[],c=d1(n.providerData,o),l=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!c?.length,_=l?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new rc(s.createdAt,s.lastLoginAt),isAnonymous:_};Object.assign(n,g)})}function em(n){return E(this,null,function*(){let e=Me(n);yield Gu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function d1(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function f0(n){return n.map(e=>{var{providerId:t}=e,r=Ph(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function h1(n,e){return E(this,null,function*(){let t=yield u0(n,{},()=>E(this,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=d0(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",zu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function f1(n,e){return E(this,null,function*(){return fr(n,"POST","/v2/accounts:revokeToken",hr(n,e))})}var tc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=Hw(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield h1(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return lr("not implemented")}};function ai(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ro=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Np(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield nc(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Xp(this,e)}reload(){return em(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Gu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(fn(this.auth.app))return Promise.reject(dr(this.auth));let e=yield this.getIdToken();return yield nc(this,l1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,l,f,_;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,C=(i=t.email)!==null&&i!==void 0?i:void 0,k=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,F=(o=t.photoURL)!==null&&o!==void 0?o:void 0,U=(c=t.tenantId)!==null&&c!==void 0?c:void 0,M=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,J=(f=t.createdAt)!==null&&f!==void 0?f:void 0,ee=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:W,emailVerified:oe,isAnonymous:Ie,providerData:ue,stsTokenManager:P}=t;se(W&&P,e,"internal-error");let w=tc.fromJSON(this.name,P);se(typeof W=="string",e,"internal-error"),ai(g,e.name),ai(C,e.name),se(typeof oe=="boolean",e,"internal-error"),se(typeof Ie=="boolean",e,"internal-error"),ai(k,e.name),ai(F,e.name),ai(U,e.name),ai(M,e.name),ai(J,e.name),ai(ee,e.name);let I=new n({uid:W,auth:e,email:C,emailVerified:oe,displayName:g,isAnonymous:Ie,photoURL:F,phoneNumber:k,tenantId:U,stsTokenManager:w,createdAt:J,lastLoginAt:ee});return ue&&Array.isArray(ue)&&(I.providerData=ue.map(S=>Object.assign({},S))),M&&(I._redirectEventId=M),I}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new tc;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gu(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?f0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new tc;c.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,f),l})}};var Ww=new Map;function ur(n){ci(n instanceof Function,"Expected a class definition");let e=Ww.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ww.set(n,e),e)}var p1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Mp=p1;function Bu(n,e,t){return`firebase:${n}:${e}:${t}`}var Hu=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Bu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bu("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ro._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(ur(Mp),e,r);let i=(yield Promise.all(t.map(f=>E(this,null,function*(){if(yield f._isAvailable())return f})))).filter(f=>f),s=i[0]||ur(Mp),o=Bu(r,e.config.apiKey,e.name),c=null;for(let f of t)try{let _=yield f._get(o);if(_){let g=ro._fromJSON(e,_);f!==s&&(c=g),s=f;break}}catch{}let l=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(f=>E(this,null,function*(){if(f!==s)try{yield f._remove(o)}catch{}}))),new n(s,e,r))})}};function Kw(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(v0(e))return"Blackberry";if(w0(e))return"Webos";if(m0(e))return"Safari";if((e.includes("chrome/")||g0(e))&&!e.includes("edge/"))return"Chrome";if(y0(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function p0(n=ht()){return/firefox\//i.test(n)}function m0(n=ht()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g0(n=ht()){return/crios\//i.test(n)}function _0(n=ht()){return/iemobile/i.test(n)}function y0(n=ht()){return/android/i.test(n)}function v0(n=ht()){return/blackberry/i.test(n)}function w0(n=ht()){return/webos/i.test(n)}function tm(n=ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m1(n=ht()){var e;return tm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g1(){return Iw()&&document.documentMode===10}function b0(n=ht()){return tm(n)||y0(n)||w0(n)||v0(n)||/windows phone/i.test(n)||_0(n)}function E0(n,e=[]){let t;switch(n){case"Browser":t=Kw(ht());break;case"Worker":t=`${Kw(ht())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${On}/${r}`}var Vp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _1(t){return E(this,arguments,function*(n,e={}){return fr(n,"GET","/v2/passwordPolicy",hr(n,e))})}var y1=6,Fp=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:y1,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Lp=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wu(this),this.idTokenSubscription=new Wu(this),this.beforeStateQueue=new Vp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Hu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield h0(this,{idToken:e}),r=yield ro._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(fn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield Gu(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=i1()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(fn(this.app))return Promise.reject(dr(this));let t=e?Me(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return fn(this.app)?Promise.reject(dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(dr(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield _1(this),t=new Fp(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield f1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ur(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Hu.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&t1(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function es(n){return Me(n)}var Wu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sw(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ed={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v1(n){ed=n}function I0(n){return ed.loadJS(n)}function w1(){return ed.recaptchaEnterpriseScript}function b1(){return ed.gapiScript}function T0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var E1="recaptcha-enterprise",I1="NO_RECAPTCHA",Up=class{constructor(e){this.type=E1,this.auth=es(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>E(this,null,function*(){c1(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let f=new Op(l);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(l=>{c(l)})}))})}function i(s,o,c){let l=window.grecaptcha;Gw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(f=>{o(f)}).catch(()=>{o(I1)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&Gw(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=w1();l.length!==0&&(l+=c),I0(l).then(()=>{i(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})})}};function Qw(n,e,t,r=!1){return E(this,null,function*(){let i=new Up(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Bp(n,e,t,r){return E(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Qw(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Qw(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function nm(n,e){let t=Ki(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Hi(s,e??{}))return i;Mn(i,"already-initialized")}return t.initialize({options:e})}function T1(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ur);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function rm(n,e,t){let r=es(n);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=C0(e),{host:o,port:c}=C1(e),l=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||A1()}function C0(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C1(n){let e=C0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Jw(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Jw(o)}}}function Jw(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function A1(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ic=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function S1(n,e){return E(this,null,function*(){return fr(n,"POST","/v1/accounts:signUp",e)})}function R1(n,e){return E(this,null,function*(){return ac(n,"POST","/v1/accounts:signInWithPassword",hr(n,e))})}function P1(n,e){return E(this,null,function*(){return fr(n,"POST","/v1/accounts:sendOobCode",hr(n,e))})}function x1(n,e){return E(this,null,function*(){return P1(n,e)})}function D1(n,e){return E(this,null,function*(){return ac(n,"POST","/v1/accounts:signInWithEmailLink",hr(n,e))})}function k1(n,e){return E(this,null,function*(){return ac(n,"POST","/v1/accounts:signInWithEmailLink",hr(n,e))})}var sc=class n extends ic{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,t,"signInWithPassword",R1);case"emailLink":return D1(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,r,"signUpPassword",S1);case"emailLink":return k1(e,{idToken:t,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Pp(n,e){return E(this,null,function*(){return ac(n,"POST","/v1/accounts:signInWithIdp",hr(n,e))})}function O1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N1(n){let e=Zs(eo(n)).link,t=e?Zs(eo(e)).deep_link_id:null,r=Zs(eo(n)).deep_link_id;return(r?Zs(eo(r)).link:null)||r||t||e||n}var Ku=class n{constructor(e){var t,r,i,s,o,c;let l=Zs(eo(e)),f=(t=l.apiKey)!==null&&t!==void 0?t:null,_=(r=l.oobCode)!==null&&r!==void 0?r:null,g=O1((i=l.mode)!==null&&i!==void 0?i:null);se(f&&_&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=_,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=N1(e);try{return new n(t)}catch{return null}}};var A0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return sc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Ku.parseLink(r);return se(i,"argument-error"),sc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Qu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jp=class extends Qu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function M1(n,e){return E(this,null,function*(){return ac(n,"POST","/v1/accounts:signUp",hr(n,e))})}var io=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield ro._fromIdTokenResponse(e,r,i),o=Yw(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Yw(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Yw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var $p=class n extends St{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function S0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$p._fromErrorAndOperation(n,s,e,r):s})}function V1(n,e,t=!1){return E(this,null,function*(){let r=yield nc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return io._forOperation(n,"link",r)})}function F1(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(fn(r.app))return Promise.reject(dr(r));let i="reauthenticate";try{let s=yield nc(n,S0(r,i,e,n),t);se(s.idToken,r,"internal-error");let o=Zp(s.idToken);se(o,r,"internal-error");let{sub:c}=o;return se(n.uid===c,r,"user-mismatch"),io._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}})}function R0(n,e,t=!1){return E(this,null,function*(){if(fn(n.app))return Promise.reject(dr(n));let r="signIn",i=yield S0(n,r,e),s=yield io._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function im(n,e){return E(this,null,function*(){return R0(es(n),e)})}function L1(n,e,t){var r;se(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),se(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(se(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(se(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function P0(n){return E(this,null,function*(){let e=es(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function sm(n,e,t){return E(this,null,function*(){if(fn(n.app))return Promise.reject(dr(n));let r=es(n),o=yield Bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M1).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&P0(n),l}),c=yield io._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function om(n,e,t){return fn(n.app)?Promise.reject(dr(n)):im(Me(n),A0.credential(e,t)).catch(r=>E(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&P0(n),r}))}function am(n,e){return E(this,null,function*(){let t=Me(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&L1(t.auth,i,e);let{email:s}=yield x1(t.auth,i);s!==n.email&&(yield n.reload())})}function td(n,e,t,r){return Me(n).onIdTokenChanged(e,t,r)}function cm(n,e,t){return Me(n).beforeAuthStateChanged(e,t)}function nd(n,e,t,r){return Me(n).onAuthStateChanged(e,t,r)}function lm(n){return Me(n).signOut()}var Ju="__sak";var Yu=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var U1=1e3,B1=10,j1=(()=>{class n extends Yu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=b0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,l,f)=>{this.notifyListeners(c,f)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);g1()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,B1):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},U1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield Lr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield Lr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield Lr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),x0=j1;var $1=(()=>{class n extends Yu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),um=$1;function q1(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var z1=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(c).map(_=>E(this,null,function*(){return _(r.origin,o)})),f=yield q1(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function D0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var qp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let f=D0("",20);i.port1.start();let _=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let C=g;if(C.data.eventId===f)switch(C.data.status){case"ack":clearTimeout(_),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(C.data.response);break;default:clearTimeout(_),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Nn(){return window}function G1(n){Nn().location.href=n}function k0(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}function H1(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function W1(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function K1(){return k0()?self:null}var O0="firebaseLocalStorageDb",Q1=1,Xu="firebaseLocalStorage",N0="fbase_key",Zi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function rd(n,e){return n.transaction([Xu],e?"readwrite":"readonly").objectStore(Xu)}function J1(){let n=indexedDB.deleteDatabase(O0);return new Zi(n).toPromise()}function zp(){let n=indexedDB.open(O0,Q1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Xu,{keyPath:N0})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Xu)?e(r):(r.close(),yield J1(),e(yield zp()))}))})}function Xw(n,e,t){return E(this,null,function*(){let r=rd(n,!0).put({[N0]:e,value:t});return new Zi(r).toPromise()})}function Y1(n,e){return E(this,null,function*(){let t=rd(n,!1).get(e),r=yield new Zi(t).toPromise();return r===void 0?null:r.value})}function Zw(n,e){let t=rd(n,!0).delete(e);return new Zi(t).toPromise()}var X1=800,Z1=3,eP=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield zp(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Z1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return k0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=z1._getInstance(K1()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield H1(),!this.activeServiceWorker)return;this.sender=new qp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||W1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield zp();return yield Xw(t,Ju,"1"),yield Zw(t,Ju),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>Xw(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>Y1(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>Zw(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=rd(s,!1).getAll();return new Zi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),X1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),M0=eP;var QV=T0("rcb"),JV=new Xi(3e4,6e4);function tP(n,e){return e?ur(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var oc=class extends ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pp(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function nP(n){return R0(n.auth,new oc(n),n.bypassAuthState)}function rP(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),F1(t,new oc(n),n.bypassAuthState)}function iP(n){return E(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),V1(t,new oc(n),n.bypassAuthState)})}var Gp=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(f){this.reject(f)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nP;case"linkViaPopup":case"linkViaRedirect":return iP;case"reauthViaPopup":case"reauthViaRedirect":return rP;default:Mn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var YV=new Xi(2e3,1e4);var sP="pendingRedirect",ju=new Map,Hp=class n extends Gp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=ju.get(this.auth._key());if(!e){try{let r=(yield oP(this.resolver,this.auth))?yield Lr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ju.set(this.auth._key(),e)}return this.bypassAuthState||ju.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Lr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Lr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function oP(n,e){return E(this,null,function*(){let t=lP(e),r=cP(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function aP(n,e){ju.set(n._key(),e)}function cP(n){return ur(n._redirectPersistence)}function lP(n){return Bu(sP,n.config.apiKey,n.name)}function uP(n,e,t=!1){return E(this,null,function*(){if(fn(n.app))return Promise.reject(dr(n));let r=es(n),i=tP(r,e),o=yield new Hp(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var dP=10*60*1e3,Wp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!V0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dP&&this.cachedEventUids.clear(),this.cachedEventUids.has(e0(e))}saveEventToCache(e){this.cachedEventUids.add(e0(e)),this.lastProcessedEventTime=Date.now()}};function e0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function V0({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function hP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(n);default:return!1}}function fP(t){return E(this,arguments,function*(n,e={}){return fr(n,"GET","/v1/projects",e)})}var pP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mP=/^https?/;function gP(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield fP(n);for(let t of e)try{if(_P(t))return}catch{}Mn(n,"unauthorized-domain")})}function _P(n){let e=Dp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!mP.test(t))return!1;if(pP.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var yP=new Xi(3e4,6e4);function t0(){let n=Nn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vP(n){return new Promise((e,t)=>{var r,i,s;function o(){t0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t0(),t(Yi(n,"network-request-failed"))},timeout:yP.get()})}if(!((i=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)o();else{let c=T0("iframefcb");return Nn()[c]=()=>{gapi.load?o():t(Yi(n,"network-request-failed"))},I0(`${b1()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw $u=null,e})}var $u=null;function wP(n){return $u=$u||vP(n),$u}var bP=new Xi(5e3,15e3),EP="__/auth/iframe",IP="emulator/auth/iframe",TP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AP(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Yp(e,IP):`https://${n.config.authDomain}/${EP}`,r={apiKey:e.apiKey,appName:n.name,v:On},i=CP.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ya(r).slice(1)}`}function SP(n){return E(this,null,function*(){let e=yield wP(n),t=Nn().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:AP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TP,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Yi(n,"network-request-failed"),c=Nn().setTimeout(()=>{s(o)},bP.get());function l(){Nn().clearTimeout(c),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var RP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PP=500,xP=600,DP="_blank",kP="http://localhost",Zu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function OP(n,e,t,r=PP,i=xP){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",l=Object.assign(Object.assign({},RP),{width:r.toString(),height:i.toString(),top:s,left:o}),f=ht().toLowerCase();t&&(c=g0(f)?DP:t),p0(f)&&(e=e||kP,l.scrollbars="yes");let _=Object.entries(l).reduce((C,[k,F])=>`${C}${k}=${F},`,"");if(m1(f)&&c!=="_self")return NP(e||"",c),new Zu(null);let g=window.open(e||"",c,_);se(g,n,"popup-blocked");try{g.focus()}catch{}return new Zu(g)}function NP(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var MP="__/auth/handler",VP="emulator/auth/handler",FP=encodeURIComponent("fac");function n0(n,e,t,r,i,s){return E(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:On,eventId:i};if(e instanceof Qu){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Aw(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[_,g]of Object.entries(s||{}))o[_]=g}if(e instanceof jp){let _=e.getScopes().filter(g=>g!=="");_.length>0&&(o.scopes=_.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let _ of Object.keys(c))c[_]===void 0&&delete c[_];let l=yield n._getAppCheckToken(),f=l?`#${FP}=${encodeURIComponent(l)}`:"";return`${LP(n)}?${Ya(c).slice(1)}${f}`})}function LP({config:n}){return n.emulator?Yp(n,VP):`https://${n.authDomain}/${MP}`}var xp="webStorageSupport",Kp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=um,this._completeRedirectFn=uP,this._overrideRedirectResult=aP}_openPopup(e,t,r,i){return E(this,null,function*(){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield n0(e,t,r,Dp(),i);return OP(e,o,D0())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield n0(e,t,r,Dp(),i);return G1(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield SP(e),r=new Wp(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[xp];o!==void 0&&t(!!o),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return b0()||m0()||tm()}},F0=Kp;var r0="@firebase/auth",i0="1.7.9";var Qp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BP(n){kn(new kt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E0(n)},f=new Lp(r,i,s,l);return T1(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),kn(new kt("auth-internal",e=>{let t=es(e.getProvider("auth").getImmediate());return(r=>new Qp(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(r0,i0,UP(n)),Le(r0,i0,"esm2017")}var jP=5*60,$P=lp("authIdTokenMaxAge")||jP,s0=null,qP=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$P)return;let i=t?.token;s0!==i&&(s0=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dm(n=ii()){let e=Ki(n,"auth");if(e.isInitialized())return e.getImmediate();let t=nm(n,{popupRedirectResolver:F0,persistence:[M0,x0,um]}),r=lp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=qP(s.toString());cm(t,o,()=>o(t.currentUser)),td(t,c=>o(c))}}let i=ap("auth");return i&&rm(t,`http://${i}`),t}function zP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v1({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Yi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",zP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BP("Browser");function U0(n){return new Ur(function(e){var t=nd(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var B0="auth",ts=class{constructor(e){return e}},ns=class{constructor(){return Ji(B0)}};var hm=new me("angularfire2.auth-instances");function Dx(n,e){let t=no(B0,n,e);return t&&new ts(t)}function kx(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ts(r)}}var Ox={provide:ns,deps:[[new ct,hm]]},Nx={provide:ts,useFactory:Dx,deps:[[new ct,hm],pn]};function j0(n,...e){return Le("angularfire",ar.full,"auth"),Ct([Nx,Ox,{provide:hm,useFactory:kx(n),multi:!0,deps:[Xe,dn,oi,cr,[new ct,si],...e]}])}var $0=et(U0,!0);var q0=et(sm,!0);var z0=et(dm,!0);var G0=et(am,!0);var H0=et(om,!0);var id=et(lm,!0);var W0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K0={};var li,fm;(function(){var n;function e(P,w){function I(){}I.prototype=w.prototype,P.D=w.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(S,R,x){for(var T=Array(arguments.length-2),nn=2;nn<arguments.length;nn++)T[nn-2]=arguments[nn];return w.prototype[R].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,w,I){I||(I=0);var S=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)S[R]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(R=0;16>R;++R)S[R]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=P.g[0],I=P.g[1],R=P.g[2];var x=P.g[3],T=w+(x^I&(R^x))+S[0]+3614090360&4294967295;w=I+(T<<7&4294967295|T>>>25),T=x+(R^w&(I^R))+S[1]+3905402710&4294967295,x=w+(T<<12&4294967295|T>>>20),T=R+(I^x&(w^I))+S[2]+606105819&4294967295,R=x+(T<<17&4294967295|T>>>15),T=I+(w^R&(x^w))+S[3]+3250441966&4294967295,I=R+(T<<22&4294967295|T>>>10),T=w+(x^I&(R^x))+S[4]+4118548399&4294967295,w=I+(T<<7&4294967295|T>>>25),T=x+(R^w&(I^R))+S[5]+1200080426&4294967295,x=w+(T<<12&4294967295|T>>>20),T=R+(I^x&(w^I))+S[6]+2821735955&4294967295,R=x+(T<<17&4294967295|T>>>15),T=I+(w^R&(x^w))+S[7]+4249261313&4294967295,I=R+(T<<22&4294967295|T>>>10),T=w+(x^I&(R^x))+S[8]+1770035416&4294967295,w=I+(T<<7&4294967295|T>>>25),T=x+(R^w&(I^R))+S[9]+2336552879&4294967295,x=w+(T<<12&4294967295|T>>>20),T=R+(I^x&(w^I))+S[10]+4294925233&4294967295,R=x+(T<<17&4294967295|T>>>15),T=I+(w^R&(x^w))+S[11]+2304563134&4294967295,I=R+(T<<22&4294967295|T>>>10),T=w+(x^I&(R^x))+S[12]+1804603682&4294967295,w=I+(T<<7&4294967295|T>>>25),T=x+(R^w&(I^R))+S[13]+4254626195&4294967295,x=w+(T<<12&4294967295|T>>>20),T=R+(I^x&(w^I))+S[14]+2792965006&4294967295,R=x+(T<<17&4294967295|T>>>15),T=I+(w^R&(x^w))+S[15]+1236535329&4294967295,I=R+(T<<22&4294967295|T>>>10),T=w+(R^x&(I^R))+S[1]+4129170786&4294967295,w=I+(T<<5&4294967295|T>>>27),T=x+(I^R&(w^I))+S[6]+3225465664&4294967295,x=w+(T<<9&4294967295|T>>>23),T=R+(w^I&(x^w))+S[11]+643717713&4294967295,R=x+(T<<14&4294967295|T>>>18),T=I+(x^w&(R^x))+S[0]+3921069994&4294967295,I=R+(T<<20&4294967295|T>>>12),T=w+(R^x&(I^R))+S[5]+3593408605&4294967295,w=I+(T<<5&4294967295|T>>>27),T=x+(I^R&(w^I))+S[10]+38016083&4294967295,x=w+(T<<9&4294967295|T>>>23),T=R+(w^I&(x^w))+S[15]+3634488961&4294967295,R=x+(T<<14&4294967295|T>>>18),T=I+(x^w&(R^x))+S[4]+3889429448&4294967295,I=R+(T<<20&4294967295|T>>>12),T=w+(R^x&(I^R))+S[9]+568446438&4294967295,w=I+(T<<5&4294967295|T>>>27),T=x+(I^R&(w^I))+S[14]+3275163606&4294967295,x=w+(T<<9&4294967295|T>>>23),T=R+(w^I&(x^w))+S[3]+4107603335&4294967295,R=x+(T<<14&4294967295|T>>>18),T=I+(x^w&(R^x))+S[8]+1163531501&4294967295,I=R+(T<<20&4294967295|T>>>12),T=w+(R^x&(I^R))+S[13]+2850285829&4294967295,w=I+(T<<5&4294967295|T>>>27),T=x+(I^R&(w^I))+S[2]+4243563512&4294967295,x=w+(T<<9&4294967295|T>>>23),T=R+(w^I&(x^w))+S[7]+1735328473&4294967295,R=x+(T<<14&4294967295|T>>>18),T=I+(x^w&(R^x))+S[12]+2368359562&4294967295,I=R+(T<<20&4294967295|T>>>12),T=w+(I^R^x)+S[5]+4294588738&4294967295,w=I+(T<<4&4294967295|T>>>28),T=x+(w^I^R)+S[8]+2272392833&4294967295,x=w+(T<<11&4294967295|T>>>21),T=R+(x^w^I)+S[11]+1839030562&4294967295,R=x+(T<<16&4294967295|T>>>16),T=I+(R^x^w)+S[14]+4259657740&4294967295,I=R+(T<<23&4294967295|T>>>9),T=w+(I^R^x)+S[1]+2763975236&4294967295,w=I+(T<<4&4294967295|T>>>28),T=x+(w^I^R)+S[4]+1272893353&4294967295,x=w+(T<<11&4294967295|T>>>21),T=R+(x^w^I)+S[7]+4139469664&4294967295,R=x+(T<<16&4294967295|T>>>16),T=I+(R^x^w)+S[10]+3200236656&4294967295,I=R+(T<<23&4294967295|T>>>9),T=w+(I^R^x)+S[13]+681279174&4294967295,w=I+(T<<4&4294967295|T>>>28),T=x+(w^I^R)+S[0]+3936430074&4294967295,x=w+(T<<11&4294967295|T>>>21),T=R+(x^w^I)+S[3]+3572445317&4294967295,R=x+(T<<16&4294967295|T>>>16),T=I+(R^x^w)+S[6]+76029189&4294967295,I=R+(T<<23&4294967295|T>>>9),T=w+(I^R^x)+S[9]+3654602809&4294967295,w=I+(T<<4&4294967295|T>>>28),T=x+(w^I^R)+S[12]+3873151461&4294967295,x=w+(T<<11&4294967295|T>>>21),T=R+(x^w^I)+S[15]+530742520&4294967295,R=x+(T<<16&4294967295|T>>>16),T=I+(R^x^w)+S[2]+3299628645&4294967295,I=R+(T<<23&4294967295|T>>>9),T=w+(R^(I|~x))+S[0]+4096336452&4294967295,w=I+(T<<6&4294967295|T>>>26),T=x+(I^(w|~R))+S[7]+1126891415&4294967295,x=w+(T<<10&4294967295|T>>>22),T=R+(w^(x|~I))+S[14]+2878612391&4294967295,R=x+(T<<15&4294967295|T>>>17),T=I+(x^(R|~w))+S[5]+4237533241&4294967295,I=R+(T<<21&4294967295|T>>>11),T=w+(R^(I|~x))+S[12]+1700485571&4294967295,w=I+(T<<6&4294967295|T>>>26),T=x+(I^(w|~R))+S[3]+2399980690&4294967295,x=w+(T<<10&4294967295|T>>>22),T=R+(w^(x|~I))+S[10]+4293915773&4294967295,R=x+(T<<15&4294967295|T>>>17),T=I+(x^(R|~w))+S[1]+2240044497&4294967295,I=R+(T<<21&4294967295|T>>>11),T=w+(R^(I|~x))+S[8]+1873313359&4294967295,w=I+(T<<6&4294967295|T>>>26),T=x+(I^(w|~R))+S[15]+4264355552&4294967295,x=w+(T<<10&4294967295|T>>>22),T=R+(w^(x|~I))+S[6]+2734768916&4294967295,R=x+(T<<15&4294967295|T>>>17),T=I+(x^(R|~w))+S[13]+1309151649&4294967295,I=R+(T<<21&4294967295|T>>>11),T=w+(R^(I|~x))+S[4]+4149444226&4294967295,w=I+(T<<6&4294967295|T>>>26),T=x+(I^(w|~R))+S[11]+3174756917&4294967295,x=w+(T<<10&4294967295|T>>>22),T=R+(w^(x|~I))+S[2]+718787259&4294967295,R=x+(T<<15&4294967295|T>>>17),T=I+(x^(R|~w))+S[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,P.g[2]=P.g[2]+R&4294967295,P.g[3]=P.g[3]+x&4294967295}r.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var I=w-this.blockSize,S=this.B,R=this.h,x=0;x<w;){if(R==0)for(;x<=I;)i(this,P,x),x+=this.blockSize;if(typeof P=="string"){for(;x<w;)if(S[R++]=P.charCodeAt(x++),R==this.blockSize){i(this,S),R=0;break}}else for(;x<w;)if(S[R++]=P[x++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var I=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=I&255,I/=256;for(this.u(P),P=Array(16),w=I=0;4>w;++w)for(var S=0;32>S;S+=8)P[I++]=this.g[w]>>>S&255;return P};function s(P,w){var I=c;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=w(P)}function o(P,w){this.h=w;for(var I=[],S=!0,R=P.length-1;0<=R;R--){var x=P[R]|0;S&&x==w||(I[R]=x,S=!1)}this.g=I}var c={};function l(P){return-128<=P&&128>P?s(P,function(w){return new o([w|0],0>w?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return g;if(0>P)return M(f(-P));for(var w=[],I=1,S=0;P>=I;S++)w[S]=P/I|0,I*=4294967296;return new o(w,0)}function _(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return M(_(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=f(Math.pow(w,8)),S=g,R=0;R<P.length;R+=8){var x=Math.min(8,P.length-R),T=parseInt(P.substring(R,R+x),w);8>x?(x=f(Math.pow(w,x)),S=S.j(x).add(f(T))):(S=S.j(I),S=S.add(f(T)))}return S}var g=l(0),C=l(1),k=l(16777216);n=o.prototype,n.m=function(){if(U(this))return-M(this).m();for(var P=0,w=1,I=0;I<this.g.length;I++){var S=this.i(I);P+=(0<=S?S:4294967296+S)*w,w*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(F(this))return"0";if(U(this))return"-"+M(this).toString(P);for(var w=f(Math.pow(P,6)),I=this,S="";;){var R=oe(I,w).g;I=J(I,R.j(w));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=R,F(I))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function F(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function U(P){return P.h==-1}n.l=function(P){return P=J(this,P),U(P)?-1:F(P)?0:1};function M(P){for(var w=P.g.length,I=[],S=0;S<w;S++)I[S]=~P.g[S];return new o(I,~P.h).add(C)}n.abs=function(){return U(this)?M(this):this},n.add=function(P){for(var w=Math.max(this.g.length,P.g.length),I=[],S=0,R=0;R<=w;R++){var x=S+(this.i(R)&65535)+(P.i(R)&65535),T=(x>>>16)+(this.i(R)>>>16)+(P.i(R)>>>16);S=T>>>16,x&=65535,T&=65535,I[R]=T<<16|x}return new o(I,I[I.length-1]&-2147483648?-1:0)};function J(P,w){return P.add(M(w))}n.j=function(P){if(F(this)||F(P))return g;if(U(this))return U(P)?M(this).j(M(P)):M(M(this).j(P));if(U(P))return M(this.j(M(P)));if(0>this.l(k)&&0>P.l(k))return f(this.m()*P.m());for(var w=this.g.length+P.g.length,I=[],S=0;S<2*w;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<P.g.length;R++){var x=this.i(S)>>>16,T=this.i(S)&65535,nn=P.i(R)>>>16,wr=P.i(R)&65535;I[2*S+2*R]+=T*wr,ee(I,2*S+2*R),I[2*S+2*R+1]+=x*wr,ee(I,2*S+2*R+1),I[2*S+2*R+1]+=T*nn,ee(I,2*S+2*R+1),I[2*S+2*R+2]+=x*nn,ee(I,2*S+2*R+2)}for(S=0;S<w;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=w;S<2*w;S++)I[S]=0;return new o(I,0)};function ee(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function W(P,w){this.g=P,this.h=w}function oe(P,w){if(F(w))throw Error("division by zero");if(F(P))return new W(g,g);if(U(P))return w=oe(M(P),w),new W(M(w.g),M(w.h));if(U(w))return w=oe(P,M(w)),new W(M(w.g),w.h);if(30<P.g.length){if(U(P)||U(w))throw Error("slowDivide_ only works with positive integers.");for(var I=C,S=w;0>=S.l(P);)I=Ie(I),S=Ie(S);var R=ue(I,1),x=ue(S,1);for(S=ue(S,2),I=ue(I,2);!F(S);){var T=x.add(S);0>=T.l(P)&&(R=R.add(I),x=T),S=ue(S,1),I=ue(I,1)}return w=J(P,R.j(w)),new W(R,w)}for(R=g;0<=P.l(w);){for(I=Math.max(1,Math.floor(P.m()/w.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=f(I),T=x.j(w);U(T)||0<T.l(P);)I-=S,x=f(I),T=x.j(w);F(x)&&(x=C),R=R.add(x),P=J(P,T)}return new W(R,P)}n.A=function(P){return oe(this,P).h},n.and=function(P){for(var w=Math.max(this.g.length,P.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)&P.i(S);return new o(I,this.h&P.h)},n.or=function(P){for(var w=Math.max(this.g.length,P.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)|P.i(S);return new o(I,this.h|P.h)},n.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),I=[],S=0;S<w;S++)I[S]=this.i(S)^P.i(S);return new o(I,this.h^P.h)};function Ie(P){for(var w=P.g.length+1,I=[],S=0;S<w;S++)I[S]=P.i(S)<<1|P.i(S-1)>>>31;return new o(I,P.h)}function ue(P,w){var I=w>>5;w%=32;for(var S=P.g.length-I,R=[],x=0;x<S;x++)R[x]=0<w?P.i(x+I)>>>w|P.i(x+I+1)<<32-w:P.i(x+I);return new o(R,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fm=K0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=_,li=K0.Integer=o}).apply(typeof W0<"u"?W0:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var pm,Vx,so,mm,cc,od,gm,_m,ym;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var y=0;y<a.length-1;y++){var D=a[y];if(!(D in p))break e;p=p[D]}a=a[a.length-1],y=p[a],h=h(y),h!=y&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,y=!1,D={next:function(){if(!y&&p<a.length){var V=p++;return{value:h(V,a[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});var o=o||{},c=this||self;function l(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function f(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function _(a,h,p){return a.call.apply(a.bind,arguments)}function g(a,h,p){if(!a)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),a.apply(h,D)}}return function(){return a.apply(h,arguments)}}function C(a,h,p){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:g,C.apply(null,arguments)}function k(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),a.apply(this,y)}}function F(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(y,D,V){for(var z=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)z[Pe-2]=arguments[Pe];return h.prototype[D].apply(y,z)}}function U(a){let h=a.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=a[y];return p}return[]}function M(a,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(l(y)){let D=a.length||0,V=y.length||0;a.length=D+V;for(let z=0;z<V;z++)a[D+z]=y[z]}else a.push(y)}}class J{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function ee(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function oe(a){return oe[" "](a),a}oe[" "]=function(){};var Ie=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ue(a,h,p){for(let y in a)h.call(p,a[y],y,a)}function P(a,h){for(let p in a)h.call(void 0,a[p],p,a)}function w(a){let h={};for(let p in a)h[p]=a[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,h){let p,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(p in y)a[p]=y[p];for(let V=0;V<I.length;V++)p=I[V],Object.prototype.hasOwnProperty.call(y,p)&&(a[p]=y[p])}}function R(a){var h=1;a=a.split(":");let p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function x(a){c.setTimeout(()=>{throw a},0)}function T(){var a=Er;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class nn{constructor(){this.h=this.g=null}add(h,p){let y=wr.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var wr=new J(()=>new Vo,a=>a.reset());class Vo{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let br,Kn=!1,Er=new nn,Nt=()=>{let a=c.Promise.resolve(void 0);br=()=>{a.then(Ir)}};var Ir=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(p){x(p)}var h=wr;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Kn=!1};function wt(){this.s=this.s,this.C=this.C}wt.prototype.s=!1,wt.prototype.ma=function(){this.s||(this.s=!0,this.N())},wt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var Tr=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let p=()=>{};c.addEventListener("test",p,h),c.removeEventListener("test",p,h)}catch{}return a}();function rn(a,h){if(lt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,y=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(Ie){e:{try{oe(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Fc[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&rn.aa.h.call(this)}}F(rn,lt);var Fc={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),Fo=0;function ch(a,h,p,y,D){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=D,this.key=++Fo,this.da=this.fa=!1}function Cr(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ar(a){this.src=a,this.g={},this.h=0}Ar.prototype.add=function(a,h,p,y,D){var V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);var z=Lo(a,h,y,D);return-1<z?(h=a[z],p||(h.fa=!1)):(h=new ch(h,this.src,V,!!y,D),h.fa=p,a.push(h)),h};function Sr(a,h){var p=h.type;if(p in a.g){var y=a.g[p],D=Array.prototype.indexOf.call(y,h,void 0),V;(V=0<=D)&&Array.prototype.splice.call(y,D,1),V&&(Cr(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Lo(a,h,p,y){for(var D=0;D<a.length;++D){var V=a[D];if(!V.da&&V.listener==h&&V.capture==!!p&&V.ha==y)return D}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Mt={};function Lc(a,h,p,y,D){if(y&&y.once)return Uo(a,h,p,y,D);if(Array.isArray(h)){for(var V=0;V<h.length;V++)Lc(a,h[V],p,y,D);return null}return p=Ke(p),a&&a[wn]?a.K(h,p,f(y)?!!y.capture:!!y,D):bt(a,h,p,!1,y,D)}function bt(a,h,p,y,D,V){if(!h)throw Error("Invalid event type");var z=f(D)?!!D.capture:!!D,Pe=sn(a);if(Pe||(a[pt]=Pe=new Ar(a)),p=Pe.add(h,p,y,z,V),p.proxy)return p;if(y=gs(),p.proxy=y,y.src=a,y.listener=p,a.addEventListener)Tr||(D=z),D===void 0&&(D=!1),a.addEventListener(h.toString(),y,D);else if(a.attachEvent)a.attachEvent(Vt(h.toString()),y);else if(a.addListener&&a.removeListener)a.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gs(){function a(p){return h.call(a.src,a.listener,p)}let h=bn;return a}function Uo(a,h,p,y,D){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Uo(a,h[V],p,y,D);return null}return p=Ke(p),a&&a[wn]?a.L(h,p,f(y)?!!y.capture:!!y,D):bt(a,h,p,!0,y,D)}function Bo(a,h,p,y,D){if(Array.isArray(h))for(var V=0;V<h.length;V++)Bo(a,h[V],p,y,D);else y=f(y)?!!y.capture:!!y,p=Ke(p),a&&a[wn]?(a=a.i,h=String(h).toString(),h in a.g&&(V=a.g[h],p=Lo(V,p,y,D),-1<p&&(Cr(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete a.g[h],a.h--)))):a&&(a=sn(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Lo(h,p,y,D)),(p=-1<a?h[a]:null)&&ge(p))}function ge(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[wn])Sr(h.i,a);else{var p=a.type,y=a.proxy;h.removeEventListener?h.removeEventListener(p,y,a.capture):h.detachEvent?h.detachEvent(Vt(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=sn(h))?(Sr(p,a),p.h==0&&(p.src=null,h[pt]=null)):Cr(a)}}}function Vt(a){return a in Mt?Mt[a]:Mt[a]="on"+a}function bn(a,h){if(a.da)a=!0;else{h=new rn(h,this);var p=a.listener,y=a.ha||a.src;a.fa&&ge(a),a=p.call(y,h)}return a}function sn(a){return a=a[pt],a instanceof Ar?a:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(a){return typeof a=="function"?a:(a[$e]||(a[$e]=function(h){return a.handleEvent(h)}),a[$e])}function Qe(){wt.call(this),this.i=new Ar(this),this.M=this,this.F=null}F(Qe,wt),Qe.prototype[wn]=!0,Qe.prototype.removeEventListener=function(a,h,p,y){Bo(this,a,h,p,y)};function ut(a,h){var p,y=a.F;if(y)for(p=[];y;y=y.F)p.push(y);if(a=a.M,y=h.type||h,typeof h=="string")h=new lt(h,a);else if(h instanceof lt)h.target=h.target||a;else{var D=h;h=new lt(y,a),S(h,D)}if(D=!0,p)for(var V=p.length-1;0<=V;V--){var z=h.g=p[V];D=En(z,y,!0,h)&&D}if(z=h.g=a,D=En(z,y,!0,h)&&D,D=En(z,y,!1,h)&&D,p)for(V=0;V<p.length;V++)z=h.g=p[V],D=En(z,y,!1,h)&&D}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],y=0;y<p.length;y++)Cr(p[y]);delete a.g[h],a.h--}}this.F=null},Qe.prototype.K=function(a,h,p,y){return this.i.add(String(a),h,!1,p,y)},Qe.prototype.L=function(a,h,p,y){return this.i.add(String(a),h,!0,p,y)};function En(a,h,p,y){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,V=0;V<h.length;++V){var z=h[V];if(z&&!z.da&&z.capture==p){var Pe=z.listener,st=z.ha||z.src;z.fa&&Sr(a.i,z),D=Pe.call(st,y)!==!1&&D}}return D&&!y.defaultPrevented}function mt(a,h,p){if(typeof a=="function")p&&(a=C(a,p));else if(a&&typeof a.handleEvent=="function")a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function Uc(a){a.g=mt(()=>{a.g=null,a.i&&(a.i=!1,Uc(a))},a.l);let h=a.h;a.h=null,a.m.apply(null,h)}class Bc extends wt{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(a){wt.call(this),this.h=a,this.g={}}F(Rr,wt);var _s=[];function jc(a){ue(a.g,function(h,p){this.g.hasOwnProperty(p)&&ge(h)},a),a.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),jc(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jo=c.JSON.stringify,lh=c.JSON.parse,uh=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function on(){}on.prototype.h=null;function $c(a){return a.h||(a.h=a.i())}function qc(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $o(){lt.call(this,"d")}F($o,lt);function qo(){lt.call(this,"c")}F(qo,lt);var an={},zc=null;function ys(){return zc=zc||new Qe}an.La="serverreachability";function Gc(a){lt.call(this,an.La,a)}F(Gc,lt);function gi(a){let h=ys();ut(h,new Gc(h))}an.STAT_EVENT="statevent";function Hc(a,h){lt.call(this,an.STAT_EVENT,a),this.stat=h}F(Hc,lt);function it(a){let h=ys();ut(h,new Hc(h,a))}an.Ma="timingevent";function Wc(a,h){lt.call(this,an.Ma,a),this.size=h}F(Wc,lt);function _i(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function dh(a,h,p,y,D,V){a.info(function(){if(a.g)if(V)for(var z="",Pe=V.split("&"),st=0;st<Pe.length;st++){var we=Pe[st].split("=");if(1<we.length){var dt=we[0];we=we[1];var ot=dt.split("_");z=2<=ot.length&&ot[1]=="type"?z+(dt+"="+we+"&"):z+(dt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+h+`
`+p+`
`+z})}function hh(a,h,p,y,D,V,z){a.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+h+`
`+p+`
`+V+" "+z})}function Te(a,h,p,y){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ph(a,p)+(y?" "+y:"")})}function fh(a,h){a.info(function(){return"TIMEOUT: "+h})}yi.prototype.info=function(){};function ph(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var y=p[a];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<D.length;z++)D[z]=""}}}}return jo(p)}catch{return h}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zo;function ws(){}F(ws,on),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},zo=new ws;function Gt(a,h,p,y){this.j=a,this.i=h,this.l=p,this.R=y||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pr}function Pr(){this.i=null,this.g="",this.h=!1}var Go={},xr={};function Ve(a,h,p){a.L=1,a.v=Es(Ht(h)),a.m=p,a.P=!0,Qc(a,null)}function Qc(a,h){a.F=Date.now(),vi(a),a.A=Ht(a.v);var p=a.A,y=a.R;Array.isArray(y)||(y=[String(y)]),dl(p.i,"t",y),a.C=0,p=a.j.J,a.h=new Pr,a.g=oa(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Bc(C(a.Y,a,a.g),a.O)),h=a.U,p=a.g,y=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(_s[0]=D.toString()),D=_s);for(var V=0;V<D.length;V++){var z=Lc(p,D[V],y||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),gi(),dh(a.i,a.u,a.A,a.l,a.R,a.m)}Gt.prototype.ca=function(a){a=a.target;let h=this.M;h&&ln(a)==3?h.j():this.Y(a)},Gt.prototype.Y=function(a){try{if(a==this.g)e:{let ot=ln(this.g);var h=this.g.Ba();let Sn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||yl(this.g)))){this.J||ot!=4||h==7||(h==8||0>=Sn?gi(3):gi(2)),Ho(this);var p=this.g.Z();this.X=p;t:if(Jc(this)){var y=yl(this.g);a="";var D=y.length,V=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),wi(this);var z="";break t}this.h.i=new c.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,a+=this.h.i.decode(y[h],{stream:!(V&&h==D-1)});y.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,hh(this.i,this.u,this.A,this.l,this.R,ot,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,st=this.g;if((Pe=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Pe)){var we=Pe;break t}}we=null}if(p=we)Te(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wo(this,p);else{this.o=!1,this.s=3,it(12),In(this),wi(this);break e}}if(this.P){p=!0;let Ft;for(;!this.J&&this.C<z.length;)if(Ft=mh(this,z),Ft==xr){ot==4&&(this.s=4,it(14),p=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==Go){this.s=4,it(15),Te(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Te(this.i,this.l,Ft,null),Wo(this,Ft);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||z.length!=0||this.h.h||(this.s=1,it(16),p=!1),this.o=this.o&&p,!p)Te(this.i,this.l,z,"[Invalid Chunked Response]"),In(this),wi(this);else if(0<z.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Vr(dt),dt.M=!0,it(11))}}else Te(this.i,this.l,z,null),Wo(this,z);ot==4&&In(this),this.o&&!this.J&&(ot==4?na(this.j,this):(this.o=!1,vi(this)))}else Th(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),In(this),wi(this)}}}catch{}finally{}};function Jc(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function mh(a,h){var p=a.C,y=h.indexOf(`
`,p);return y==-1?xr:(p=Number(h.substring(p,y)),isNaN(p)?Go:(y+=1,y+p>h.length?xr:(h=h.slice(y,y+p),a.C=y+p,h)))}Gt.prototype.cancel=function(){this.J=!0,In(this)};function vi(a){a.S=Date.now()+a.I,Yc(a,a.I)}function Yc(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_i(C(a.ba,a),h)}function Ho(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Gt.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(fh(this.i,this.A),this.L!=2&&(gi(),it(17)),In(this),this.s=2,wi(this)):Yc(this,this.S-a)};function wi(a){a.j.G==0||a.J||na(a.j,a)}function In(a){Ho(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,jc(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Wo(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||Ko(p.h,a))){if(!a.K&&Ko(p.h,a)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)Ri(p),As(p);else break e;Si(p),it(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=_i(C(p.Za,p),6e3));if(1>=tl(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else An(p,11)}else if((a.K||p.g==a)&&Ri(p),!ee(h))for(D=p.Da.g.parse(h),h=0;h<D.length;h++){let we=D[h];if(p.T=we[0],we=we[1],p.G==2)if(we[0]=="c"){p.K=we[1],p.ia=we[2];let dt=we[3];dt!=null&&(p.la=dt,p.j.info("VER="+p.la));let ot=we[4];ot!=null&&(p.Aa=ot,p.j.info("SVER="+p.Aa));let Sn=we[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(y=1.5*Sn,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let Ft=a.g;if(Ft){let Rs=Ft.g?Ft.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var V=y.h;V.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Qo(V,V.h),V.h=null))}if(y.D){let ca=Ft.g?Ft.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(y.ya=ca,Oe(y.I,y.D,ca))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var z=a;if(y.qa=sa(y,y.J?y.ia:null,y.W),z.K){nl(y.h,z);var Pe=z,st=y.L;st&&(Pe.I=st),Pe.B&&(Ho(Pe),vi(Pe)),y.g=z}else ta(y);0<p.i.length&&Ss(p)}else we[0]!="stop"&&we[0]!="close"||An(p,7);else p.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?An(p,7):Cs(p):we[0]!="noop"&&p.l&&p.l.ta(we),p.v=0)}}gi(4)}catch{}}var Xc=class{constructor(a,h){this.g=a,this.map=h}};function Zc(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function tl(a){return a.h?1:a.g?a.g.size:0}function Ko(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Qo(a,h){a.g?a.g.add(h):a.h=h}function nl(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Zc.prototype.cancel=function(){if(this.i=rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function rl(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(let p of a.g.values())h=h.concat(p.D);return h}return U(a.i)}function il(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var h=[],p=a.length,y=0;y<p;y++)h.push(a[y]);return h}h=[],p=0;for(y in a)h[p++]=a[y];return h}function gh(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(let y in a)h[p++]=y;return h}}}function Jo(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=gh(a),y=il(a),D=y.length,V=0;V<D;V++)h.call(void 0,y[V],p&&p[V],a)}var sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var y=a[p].indexOf("="),D=null;if(0<=y){var V=a[p].substring(0,y);D=a[p].substring(y+1)}else V=a[p];h(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Rt(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Rt){this.h=a.h,bs(this,a.j),this.o=a.o,this.g=a.g,Dr(this,a.s),this.l=a.l;var h=a.i,p=new Ii;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Yo(this,p),this.m=a.m}else a&&(h=String(a).match(sl))?(this.h=!1,bs(this,h[1]||"",!0),this.o=bi(h[2]||""),this.g=bi(h[3]||"",!0),Dr(this,h[4]),this.l=bi(h[5]||"",!0),Yo(this,h[6]||"",!0),this.m=bi(h[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}Rt.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ei(h,ol,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ei(h,ol,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Ei(p,p.charAt(0)=="/"?vh:kr,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Ei(p,cl)),a.join("")};function Ht(a){return new Rt(a)}function bs(a,h,p){a.j=p?bi(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Dr(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Yo(a,h,p){h instanceof Ii?(a.i=h,wh(a.i,a.h)):(p||(h=Ei(h,al)),a.i=new Ii(h,a.h))}function Oe(a,h,p){a.i.set(h,p)}function Es(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bi(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ei(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,yh),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function yh(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ol=/[#\/\?@]/g,kr=/[#\?:]/g,vh=/[#\?]/g,al=/[#\?@]/g,cl=/#/g;function Ii(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Tn(a){a.g||(a.g=new Map,a.h=0,a.i&&_h(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=Ii.prototype,n.add=function(a,h){Tn(this),this.i=null,a=Or(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function ll(a,h){Tn(a),h=Or(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function ul(a,h){return Tn(a),h=Or(a,h),a.g.has(h)}n.forEach=function(a,h){Tn(this),this.g.forEach(function(p,y){p.forEach(function(D){a.call(h,D,y,this)},this)},this)},n.na=function(){Tn(this);let a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let D=a[y];for(let V=0;V<D.length;V++)p.push(h[y])}return p},n.V=function(a){Tn(this);let h=[];if(typeof a=="string")ul(this,a)&&(h=h.concat(this.g.get(Or(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},n.set=function(a,h){return Tn(this),this.i=null,a=Or(this,a),ul(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function dl(a,h,p){ll(a,h),0<p.length&&(a.i=null,a.g.set(Or(a,h),U(p)),a.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let V=encodeURIComponent(String(y)),z=this.V(y);for(y=0;y<z.length;y++){var D=V;z[y]!==""&&(D+="="+encodeURIComponent(String(z[y]))),a.push(D)}}return this.i=a.join("&")};function Or(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function wh(a,h){h&&!a.j&&(Tn(a),a.i=null,a.g.forEach(function(p,y){var D=y.toLowerCase();y!=D&&(ll(this,y),dl(this,D,p))},a)),a.j=h}function Nr(a,h){let p=new yi;if(c.Image){let y=new Image;y.onload=k(Cn,p,"TestLoadImage: loaded",!0,h,y),y.onerror=k(Cn,p,"TestLoadImage: error",!1,h,y),y.onabort=k(Cn,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=k(Cn,p,"TestLoadImage: timeout",!1,h,y),c.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=a}else h(!1)}function bh(a,h){let p=new yi,y=new AbortController,D=setTimeout(()=>{y.abort(),Cn(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:y.signal}).then(V=>{clearTimeout(D),V.ok?Cn(p,"TestPingServer: ok",!0,h):Cn(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),Cn(p,"TestPingServer: error",!1,h)})}function Cn(a,h,p,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(p)}catch{}}function hl(){this.g=new uh}function Eh(a,h,p){let y=p||"";try{Jo(a,function(D,V){let z=D;f(D)&&(z=jo(D)),h.push(y+V+"="+encodeURIComponent(z))})}catch(D){throw h.push(y+"type="+encodeURIComponent("_badmap")),D}}function Pt(a){this.l=a.Ub||null,this.j=a.eb||!1}F(Pt,on),Pt.prototype.g=function(){return new Is(this.l,this.j)},Pt.prototype.i=function(a){return function(){return a}}({});function Is(a,h){Qe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(Is,Qe),n=Is.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Ti(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cn(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?cn(this):Ti(this),this.readyState==3&&Xo(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,cn(this))},n.Qa=function(a){this.g&&(this.response=a,cn(this))},n.ga=function(){this.g&&cn(this)};function cn(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ti(a)}n.setRequestHeader=function(a,h){this.u.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function Ti(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Is.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function fl(a){let h="";return ue(a,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Zo(a,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=fl(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Oe(a,h,p))}function Fe(a){Qe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Fe,Qe);var Mr=/^https?$/i,Ih=["POST","PUT"];n=Fe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zo.g(),this.v=this.o?$c(this.o):$c(zo),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(V){pl(this,V);return}if(a=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)p.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let V of y.keys())p.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ih,h,void 0))||y||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[V,z]of p)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_l(this),this.u=!0,this.g.send(a),this.u=!1}catch(V){pl(this,V)}};function pl(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,ml(a),Ts(a)}function ml(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Ts(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?gl(this):this.bb())},n.bb=function(){gl(this)};function gl(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ln(a)!=4||a.Z()!=2)){if(a.u&&ln(a)==4)mt(a.Ea,0,a);else if(ut(a,"readystatechange"),ln(a)==4){a.h=!1;try{let z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=z===0){var D=String(a.D).match(sl)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),y=!Mr.test(D?D.toLowerCase():"")}p=y}if(p)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var V=2<ln(a)?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.Z()+"]",ml(a)}}finally{Ts(a)}}}}function Ts(a,h){if(a.g){_l(a);let p=a.g,y=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ut(a,"ready");try{p.onreadystatechange=y}catch{}}}function _l(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function ln(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),lh(h)}};function yl(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(a){let h={};a=(a.g&&2<=ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<a.length;y++){if(ee(a[y]))continue;var p=R(a[y]);let D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let V=h[D]||[];h[D]=V,V.push(p)}P(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Ai(a){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,a),this.cb=Ci("retryDelaySeedMs",1e4,a),this.Wa=Ci("forwardChannelMaxRetries",2,a),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Zc(a&&a.concurrentRequestLimit),this.Da=new hl,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ai.prototype,n.la=8,n.G=1,n.connect=function(a,h,p,y){it(0),this.W=a,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=sa(this,null,this.W),Ss(this)};function Cs(a){if(vl(a),a.G==3){var h=a.U++,p=Ht(a.I);if(Oe(p,"SID",a.K),Oe(p,"RID",h),Oe(p,"TYPE","terminate"),Qn(a,p),h=new Gt(a,a.j,h),h.L=2,h.v=Es(Ht(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=h.v,p=!0),p||(h.g=oa(h.j,null),h.g.ea(h.v)),h.F=Date.now(),vi(h)}ia(a)}function As(a){a.g&&(Vr(a),a.g.cancel(),a.g=null)}function vl(a){As(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ri(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ss(a){if(!el(a.h)&&!a.s){a.s=!0;var h=a.Ga;br||Nt(),Kn||(br(),Kn=!0),Er.add(h,a),a.B=0}}function wl(a,h){return tl(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_i(C(a.Ga,a,h),ra(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Gt(this,this.j,a),V=this.o;if(this.S&&(V?(V=w(V),S(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=ea(this,D,h),p=Ht(this.I),Oe(p,"RID",a),Oe(p,"CVER",22),this.D&&Oe(p,"X-HTTP-Session-Id",this.D),Qn(this,p),V&&(this.O?h="headers="+encodeURIComponent(String(fl(V)))+"&"+h:this.m&&Zo(p,this.m,V)),Qo(this.h,D),this.Ua&&Oe(p,"TYPE","init"),this.P?(Oe(p,"$req",h),Oe(p,"SID","null"),D.T=!0,Ve(D,p,null)):Ve(D,p,h),this.G=2}}else this.G==3&&(a?bl(this,a):this.i.length==0||el(this.h)||bl(this))};function bl(a,h){var p;h?p=h.l:p=a.U++;let y=Ht(a.I);Oe(y,"SID",a.K),Oe(y,"RID",p),Oe(y,"AID",a.T),Qn(a,y),a.m&&a.o&&Zo(y,a.m,a.o),p=new Gt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ea(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qo(a.h,p),Ve(p,y,h)}function Qn(a,h){a.H&&ue(a.H,function(p,y){Oe(h,y,p)}),a.l&&Jo({},function(p,y){Oe(h,y,p)})}function ea(a,h,p){p=Math.min(a.i.length,p);var y=a.l?C(a.l.Na,a.l,a):null;e:{var D=a.i;let V=-1;for(;;){let z=["count="+p];V==-1?0<p?(V=D[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Pe=!0;for(let st=0;st<p;st++){let we=D[st].g,dt=D[st].map;if(we-=V,0>we)V=Math.max(0,D[st].g-100),Pe=!1;else try{Eh(dt,z,"req"+we+"_")}catch{y&&y(dt)}}if(Pe){y=z.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,y}function ta(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;br||Nt(),Kn||(br(),Kn=!0),Er.add(h,a),a.v=0}}function Si(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_i(C(a.Fa,a),ra(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,El(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_i(C(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),As(this),El(this))};function Vr(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function El(a){a.g=new Gt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Ht(a.qa);Oe(h,"RID","rpc"),Oe(h,"SID",a.K),Oe(h,"AID",a.T),Oe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(h,"TO",a.ja),Oe(h,"TYPE","xmlhttp"),Qn(a,h),a.m&&a.o&&Zo(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Es(Ht(h)),p.m=null,p.P=!0,Qc(p,a)}n.Za=function(){this.C!=null&&(this.C=null,As(this),Si(this),it(19))};function Ri(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function na(a,h){var p=null;if(a.g==h){Ri(a),Vr(a),a.g=null;var y=2}else if(Ko(a.h,h))p=h.D,nl(a.h,h),y=1;else return;if(a.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var D=a.B;y=ys(),ut(y,new Wc(y,p)),Ss(a)}else ta(a);else if(D=h.s,D==3||D==0&&0<h.X||!(y==1&&wl(a,h)||y==2&&Si(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),D){case 1:An(a,5);break;case 4:An(a,10);break;case 3:An(a,6);break;default:An(a,2)}}}function ra(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function An(a,h){if(a.j.info("Error code "+h),h==2){var p=C(a.fb,a),y=a.Xa;let D=!y;y=new Rt(y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bs(y,"https"),Es(y),D?Nr(y.toString(),p):bh(y.toString(),p)}else it(2);a.G=0,a.l&&a.l.sa(h),ia(a),vl(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function ia(a){if(a.G=0,a.ka=[],a.l){let h=rl(a.h);(h.length!=0||a.i.length!=0)&&(M(a.ka,h),M(a.ka,a.i),a.h.i.length=0,U(a.i),a.i.length=0),a.l.ra()}}function sa(a,h,p){var y=p instanceof Rt?Ht(p):new Rt(p);if(y.g!="")h&&(y.g=h+"."+y.g),Dr(y,y.s);else{var D=c.location;y=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var V=new Rt(null);y&&bs(V,y),h&&(V.g=h),D&&Dr(V,D),p&&(V.l=p),y=V}return p=a.D,h=a.ya,p&&h&&Oe(y,p,h),Oe(y,"VER",a.la),Qn(a,y),y}function oa(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Fe(new Pt({eb:p})):new Fe(a.pa),h.Ha(a.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function aa(){}n=aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Pi(){}Pi.prototype.g=function(a,h){return new Je(a,h)};function Je(a,h){Qe.call(this),this.g=new Ai(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!ee(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!ee(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Fr(this)}F(Je,Qe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Cs(this.g)},Je.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=jo(a),a=p);h.i.push(new Xc(h.Ya++,a)),h.G==3&&Ss(h)},Je.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,Je.aa.N.call(this)};function Il(a){$o.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(let p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}F(Il,$o);function Tl(){qo.call(this),this.status=1}F(Tl,qo);function Fr(a){this.g=a}F(Fr,aa),Fr.prototype.ua=function(){ut(this.g,"a")},Fr.prototype.ta=function(a){ut(this.g,new Il(a))},Fr.prototype.sa=function(a){ut(this.g,new Tl)},Fr.prototype.ra=function(){ut(this.g,"b")},Pi.prototype.createWebChannel=Pi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,ym=pr.createWebChannelTransport=function(){return new Pi},_m=pr.getStatEventTarget=function(){return ys()},gm=pr.Event=an,od=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,cc=pr.ErrorCode=vs,Kc.COMPLETE="complete",mm=pr.EventType=Kc,qc.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,so=pr.WebChannel=qc,Vx=pr.FetchXmlHttpFactory=Pt,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,pm=pr.XhrIo=Fe}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});var Q0="@firebase/firestore";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var xo="10.14.0";var ss=new ni("@firebase/firestore");function lc(){return ss.logLevel}function X(n,...e){if(ss.logLevel<=ye.DEBUG){let t=e.map(s_);ss.debug(`Firestore (${xo}): ${n}`,...t)}}function mr(n,...e){if(ss.logLevel<=ye.ERROR){let t=e.map(s_);ss.error(`Firestore (${xo}): ${n}`,...t)}}function po(n,...e){if(ss.logLevel<=ye.WARN){let t=e.map(s_);ss.warn(`Firestore (${xo}): ${n}`,...t)}}function s_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function De(n,e){n||ce()}function le(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends St{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var dd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Im=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ft.UNAUTHENTICATED))}shutdown(){}},Tm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Cm=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){De(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),s=new Fn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>E(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},c=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new dd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new ft(e)}},Am=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Sm=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Am(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Pm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){De(this.o===void 0);let r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(De(typeof t.token=="string"),this.R=t.token,new Rm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Fx(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var hd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Fx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Re(n,e){return n<e?-1:n>e?1:0}function mo(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var yt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new yt(0,0))}static max(){return new n(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(),r===void 0?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},je=class n extends fd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Lx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class n extends fd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Lx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new Q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new Q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(je.fromString(e))}static fromName(e){return new n(je.fromString(e).popFirst(5))}static empty(){return new n(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new je(e.slice()))}};var xm=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};xm.UNKNOWN_ID=-1;function Ux(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new os(i,ie.empty(),e)}function Bx(n){return new os(n.readTime,n.key,-1)}var os=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(de.min(),ie.empty(),-1)}static max(){return new n(de.max(),ie.empty(),-1)}};function jx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:Re(n.largestBatchId,e.largestBatchId))}var $x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sc(n){return E(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==$x)throw n;X("LocalStore","Unexpectedly lost primary lease")})}var q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let f=l;t(e[f]).next(_=>{o[f]=_,++c,c===s&&r(o)},_=>i(_))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function qx(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rc(n){return n.name==="IndexedDbTransactionError"}var Pb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function jd(n){return n==null}function mc(n){return n===0&&1/n==-1/0}function zx(n){return typeof n=="number"&&Number.isInteger(n)&&!mc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Gx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XF=[...Gx,"documentOverlays"],Hx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Wx=Hx,Kx=[...Wx,"indexConfiguration","indexState","indexEntries"];var ZF=[...Kx,"globals"];function J0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xb(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var qe=class n{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lo(this.root,e,this.comparator,!0)}},lo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class n{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pd(this.data.getIterator())}getIteratorFrom(e){return new pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tn=class n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new n([])}unionWith(e){let t=new It($t.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var md=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new md("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tt.EMPTY_BYTE_STRING=new Tt("");var Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(De(!!n),typeof n=="string"){let e=0,t=Qx.exec(n);if(De(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hi(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}function o_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function a_(n){let e=n.mapValue.fields.__previous_value__;return o_(e)?a_(e):e}function gc(n){let e=gr(n.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}var km=class{constructor(e,t,r,i,s,o,c,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=f}},gd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function as(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?o_(n)?4:kb(n)?9007199254740991:Db(n)?10:11:ce()}function jn(n,e){if(n===e)return!0;let t=as(n);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gc(n).isEqual(gc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=gr(i.timestampValue),c=gr(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return hi(i.bytesValue).isEqual(hi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ue(i.doubleValue),c=Ue(s.doubleValue);return o===c?mc(o)===mc(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return mo(n.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(J0(o)!==J0(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!jn(o[l],c[l])))return!1;return!0}(n,e);default:return ce()}}function _c(n,e){return(n.values||[]).find(t=>jn(t,e))!==void 0}function go(n,e){if(n===e)return 0;let t=as(n),r=as(e);if(t!==r)return Re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Re(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ue(s.integerValue||s.doubleValue),l=Ue(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return Y0(n.timestampValue,e.timestampValue);case 4:return Y0(gc(n),gc(e));case 5:return Re(n.stringValue,e.stringValue);case 6:return function(s,o){let c=hi(s),l=hi(o);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let f=0;f<c.length&&f<l.length;f++){let _=Re(c[f],l[f]);if(_!==0)return _}return Re(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Re(Ue(s.latitude),Ue(o.latitude));return c!==0?c:Re(Ue(s.longitude),Ue(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return X0(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,l,f,_;let g=s.fields||{},C=o.fields||{},k=(c=g.value)===null||c===void 0?void 0:c.arrayValue,F=(l=C.value)===null||l===void 0?void 0:l.arrayValue,U=Re(((f=k?.values)===null||f===void 0?void 0:f.length)||0,((_=F?.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:X0(k,F)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ad.mapValue&&o===ad.mapValue)return 0;if(s===ad.mapValue)return 1;if(o===ad.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),f=o.fields||{},_=Object.keys(f);l.sort(),_.sort();for(let g=0;g<l.length&&g<_.length;++g){let C=Re(l[g],_[g]);if(C!==0)return C;let k=go(c[l[g]],f[_[g]]);if(k!==0)return k}return Re(l.length,_.length)}(n.mapValue,e.mapValue);default:throw ce()}}function Y0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Re(n,e);let t=gr(n),r=gr(e),i=Re(t.seconds,r.seconds);return i!==0?i:Re(t.nanos,r.nanos)}function X0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=go(t[i],r[i]);if(s)return s}return Re(t.length,r.length)}function _o(n){return Om(n)}function Om(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return hi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Om(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Om(t.fields[o])}`;return i+"}"}(n.mapValue):ce()}function Z0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nm(n){return!!n&&"integerValue"in n}function c_(n){return!!n&&"arrayValue"in n}function eb(n){return!!n&&"nullValue"in n}function tb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ld(n){return!!n&&"mapValue"in n}function Db(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function dc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return hs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dc(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=dc(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hs(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(dc(this.value))}};function Ob(n){let e=[];return hs(n.fields,(t,r)=>{let i=new $t([t]);if(ld(r)){let s=Ob(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new tn(e)}var mn=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,de.min(),de.min(),de.min(),jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,de.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,de.min(),de.min(),jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,de.min(),de.min(),jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yo=class{constructor(e,t){this.position=e,this.inclusive=t}};function nb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),t.key):r=go(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jn(n.position[t],e.position[t]))return!1;return!0}var vo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Jx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _d=class{},rt=class n extends _d{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Vm(e,t,r):t==="array-contains"?new Um(e,r):t==="in"?new Bm(e,r):t==="not-in"?new jm(e,r):t==="array-contains-any"?new $m(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Fm(e,r):new Lm(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(go(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends _d{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Nb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Nb(n){return n.op==="and"}function Mb(n){return Yx(n)&&Nb(n)}function Yx(n){for(let e of n.filters)if(e instanceof gn)return!1;return!0}function Mm(n){if(n instanceof rt)return n.field.canonicalString()+n.op.toString()+_o(n.value);if(Mb(n))return n.filters.map(e=>Mm(e)).join(",");{let e=n.filters.map(t=>Mm(t)).join(",");return`${n.op}(${e})`}}function Vb(n,e){return n instanceof rt?function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(n,e):n instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&Vb(o,i.filters[c]),!0):!1}(n,e):void ce()}function Fb(n){return n instanceof rt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(n):n instanceof gn?function(t){return t.op.toString()+" {"+t.getFilters().map(Fb).join(" ,")+"}"}(n):"Filter"}var Vm=class extends rt{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},Fm=class extends rt{constructor(e,t){super(e,"in",t),this.keys=Lb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Lm=class extends rt{constructor(e,t){super(e,"not-in",t),this.keys=Lb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Lb(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var Um=class extends rt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return c_(t)&&_c(t.arrayValue,this.value)}},Bm=class extends rt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_c(this.value.arrayValue,t)}},jm=class extends rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_c(this.value.arrayValue,t)}},$m=class extends rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!c_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var qm=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function ib(n,e=null,t=[],r=[],i=null,s=null,o=null){return new qm(n,e,t,r,i,s,o)}function l_(n){let e=le(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Mm(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>_o(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>_o(r)).join(",")),e.ue=t}return e.ue}function u_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Vb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rb(n.startAt,e.startAt)&&rb(n.endAt,e.endAt)}function zm(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var cs=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Xx(n,e,t,r,i,s,o,c){return new cs(n,e,t,r,i,s,o,c)}function Ub(n){return new cs(n)}function sb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bb(n){return n.collectionGroup!==null}function hc(n){let e=le(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new It($t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new vo(s,r))}),t.has($t.keyField().canonicalString())||e.ce.push(new vo($t.keyField(),r))}return e.ce}function Un(n){let e=le(n);return e.le||(e.le=Zx(e,hc(n))),e.le}function Zx(n,e){if(n.limitType==="F")return ib(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new vo(i.field,s)});let t=n.endAt?new yo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yo(n.startAt.position,n.startAt.inclusive):null;return ib(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gm(n,e){let t=n.filters.concat([e]);return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hm(n,e,t){return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $d(n,e){return u_(Un(n),Un(e))&&n.limitType===e.limitType}function jb(n){return`${l_(Un(n))}|lt:${n.limitType}`}function oo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Fb(i)).join(", ")}]`),jd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>_o(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>_o(i)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of hc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,l){let f=nb(o,c,l);return o.inclusive?f<=0:f<0}(r.startAt,hc(r),i)||r.endAt&&!function(o,c,l){let f=nb(o,c,l);return o.inclusive?f>=0:f>0}(r.endAt,hc(r),i))}(n,e)}function eD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function $b(n){return(e,t)=>{let r=!1;for(let i of hc(n)){let s=tD(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tD(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):function(s,o,c){let l=o.data.field(s),f=c.data.field(s);return l!==null&&f!==null?go(l,f):ce()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}var fi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return xb(this.inner)}size(){return this.innerSize}};var nD=new qe(ie.comparator);function _r(){return nD}var qb=new qe(ie.comparator);function uc(...n){let e=qb;for(let t of n)e=e.insert(t.key,t);return e}function zb(n){let e=qb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function rs(){return fc()}function Gb(){return fc()}function fc(){return new fi(n=>n.toString(),(n,e)=>n.isEqual(e))}var rD=new qe(ie.comparator),iD=new It(ie.comparator);function ve(...n){let e=iD;for(let t of n)e=e.add(t);return e}var sD=new It(Re);function oD(){return sD}function d_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function Hb(n){return{integerValue:""+n}}function aD(n,e){return zx(e)?Hb(e):d_(n,e)}var wo=class{constructor(){this._=void 0}};function cD(n,e,t){return n instanceof bo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&o_(s)&&(s=a_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ls?Kb(n,e):n instanceof us?Qb(n,e):function(i,s){let o=Wb(i,s),c=ob(o)+ob(i.Pe);return Nm(o)&&Nm(i.Pe)?Hb(c):d_(i.serializer,c)}(n,e)}function lD(n,e,t){return n instanceof ls?Kb(n,e):n instanceof us?Qb(n,e):t}function Wb(n,e){return n instanceof Eo?function(r){return Nm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var bo=class extends wo{},ls=class extends wo{constructor(e){super(),this.elements=e}};function Kb(n,e){let t=Jb(e);for(let r of n.elements)t.some(i=>jn(i,r))||t.push(r);return{arrayValue:{values:t}}}var us=class extends wo{constructor(e){super(),this.elements=e}};function Qb(n,e){let t=Jb(e);for(let r of n.elements)t=t.filter(i=>!jn(i,r));return{arrayValue:{values:t}}}var Eo=class extends wo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function ob(n){return Ue(n.integerValue||n.doubleValue)}function Jb(n){return c_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uD(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ls&&i instanceof ls||r instanceof us&&i instanceof us?mo(r.elements,i.elements,jn):r instanceof Eo&&i instanceof Eo?jn(r.Pe,i.Pe):r instanceof bo&&i instanceof bo}(n.transform,e.transform)}var Wm=class{constructor(e,t){this.version=e,this.transformResults=t}},ui=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ud(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Io=class{};function Yb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yd(n.key,ui.none()):new ds(n.key,n.data,ui.none());{let t=n.data,r=jt.empty(),i=new It($t.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $n(n.key,r,new tn(i.toArray()),ui.none())}}function dD(n,e,t){n instanceof ds?function(i,s,o){let c=i.value.clone(),l=cb(i.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof $n?function(i,s,o){if(!ud(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=cb(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Xb(i)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function pc(n,e,t,r){return n instanceof ds?function(s,o,c,l){if(!ud(s.precondition,o))return c;let f=s.value.clone(),_=lb(s.fieldTransforms,l,o);return f.setAll(_),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof $n?function(s,o,c,l){if(!ud(s.precondition,o))return c;let f=lb(s.fieldTransforms,l,o),_=o.data;return _.setAll(Xb(s)),_.setAll(f),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,o,c){return ud(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function hD(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=Wb(r.transform,i||null);s!=null&&(t===null&&(t=jt.empty()),t.set(r.field,s))}return t||null}function ab(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>uD(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ds=class extends Io{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},$n=class extends Io{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function Xb(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function cb(n,e,t){let r=new Map;De(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,lD(o,c,t[i]))}return r}function lb(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,cD(s,o,e))}return r}var yd=class extends Io{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Km=class extends Io{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Qm=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&dD(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=pc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Gb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let l=Yb(o,c);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ve())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(t,r)=>ab(t,r))&&mo(this.baseMutations,e.baseMutations,(t,r)=>ab(t,r))}},Jm=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){De(e.mutations.length===r.length);let i=function(){return rD}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Ym=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Xm=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var tt,Ee;function fD(n){switch(n){default:return ce();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Zb(n){if(n===void 0)return mr("GRPC error has no .code"),L.UNKNOWN;switch(n){case tt.OK:return L.OK;case tt.CANCELLED:return L.CANCELLED;case tt.UNKNOWN:return L.UNKNOWN;case tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case tt.INTERNAL:return L.INTERNAL;case tt.UNAVAILABLE:return L.UNAVAILABLE;case tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case tt.NOT_FOUND:return L.NOT_FOUND;case tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case tt.ABORTED:return L.ABORTED;case tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case tt.DATA_LOSS:return L.DATA_LOSS;default:return ce()}}(Ee=tt||(tt={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";var ub=null;function pD(){return new TextEncoder}var mD=new li([4294967295,4294967295],0);function db(n){let e=pD().encode(n),t=new fm;return t.update(e),new Uint8Array(t.digest())}function hb(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([t,r],0),new li([i,s],0)]}var Zm=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new is(`Invalid padding: ${t}`);if(r<0)throw new is(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new is(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new is(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=li.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(li.fromNumber(r)));return i.compare(mD)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=db(e),[r,i]=hb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=db(e),[r,i]=hb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},is=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var vd=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(de.min(),i,new qe(Re),_r(),ve())}},yc=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ve(),ve(),ve())}};var ho=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},wd=class{constructor(e,t){this.targetId=e,this.me=t}},bd=class{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ed=class{constructor(){this.fe=0,this.ge=pb(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),t=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new yc(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=pb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},eg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=fb(),this.Qe=new qe(Re)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(zm(s))if(r===0){let o=new ie(s.path);this.Ue(t,o,mn.newNoDocument(o,de.min()))}else De(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(t);let f=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,f)}ub?.et(function(_,g,C,k,F){var U,M,J,ee,W,oe;let Ie={localCacheCount:_,existenceFilterCount:g.count,databaseId:C.database,projectId:C.projectId},ue=g.unchangedNames;return ue&&(Ie.bloomFilter={applied:F===0,hashCount:(U=ue?.hashCount)!==null&&U!==void 0?U:0,bitmapLength:(ee=(J=(M=ue?.bits)===null||M===void 0?void 0:M.bitmap)===null||J===void 0?void 0:J.length)!==null&&ee!==void 0?ee:0,padding:(oe=(W=ue?.bits)===null||W===void 0?void 0:W.padding)!==null&&oe!==void 0?oe:0,mightContain:P=>{var w;return(w=k?.mightContain(P))!==null&&w!==void 0&&w}}),Ie}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=hi(r).toUint8Array()}catch(l){if(l instanceof md)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Zm(o,i,s)}catch(l){return po(l instanceof is?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&zm(c.target)){let l=new ie(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,mn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let f=this.Je(l);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new vd(e,t,this.Qe,this.ke,r);return this.ke=_r(),this.qe=fb(),this.Qe=new qe(Re),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ed,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(Re),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||X("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ed),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function fb(){return new qe(ie.comparator)}function pb(){return new qe(ie.comparator)}var gD={asc:"ASCENDING",desc:"DESCENDING"},_D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"},tg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ng(n,e){return n.useProto3Json||jd(e)?e:{value:e}}function Id(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vD(n,e){return Id(n,e.toTimestamp())}function Bn(n){return De(!!n),de.fromTimestamp(function(t){let r=gr(t);return new yt(r.seconds,r.nanos)}(n))}function h_(n,e){return rg(n,e).canonicalString()}function rg(n,e){let t=function(i){return new je(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function tE(n){let e=je.fromString(n);return De(oE(e)),e}function ig(n,e){return h_(n.databaseId,e.path)}function vm(n,e){let t=tE(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(rE(t))}function nE(n,e){return h_(n.databaseId,e)}function wD(n){let e=tE(n);return e.length===4?je.emptyPath():rE(e)}function sg(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rE(n){return De(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function mb(n,e,t){return{name:ig(n,e),fields:t.value.mapValue.fields}}function bD(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,_){return f.useProto3Json?(De(_===void 0||typeof _=="string"),Tt.fromBase64String(_||"")):(De(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Tt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(f){let _=f.code===void 0?L.UNKNOWN:Zb(f.code);return new Q(_,f.message||"")}(o);t=new bd(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=vm(n,r.document.name),s=Bn(r.document.updateTime),o=r.document.createTime?Bn(r.document.createTime):de.min(),c=new jt({mapValue:{fields:r.document.fields}}),l=mn.newFoundDocument(i,s,o,c),f=r.targetIds||[],_=r.removedTargetIds||[];t=new ho(f,_,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=vm(n,r.document),s=r.readTime?Bn(r.readTime):de.min(),o=mn.newNoDocument(i,s),c=r.removedTargetIds||[];t=new ho([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=vm(n,r.document),s=r.removedTargetIds||[];t=new ho([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Xm(i,s),c=r.targetId;t=new wd(c,o)}}return t}function ED(n,e){let t;if(e instanceof ds)t={update:mb(n,e.key,e.value)};else if(e instanceof yd)t={delete:ig(n,e.key)};else if(e instanceof $n)t={update:mb(n,e.key,e.data),updateMask:DD(e.fieldMask)};else{if(!(e instanceof Km))return ce();t={verify:ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof bo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ls)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof us)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Eo)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ce()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:vD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(n,e.precondition)),t}function ID(n,e){return n&&n.length>0?(De(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Bn(i.updateTime):Bn(s);return o.isEqual(de.min())&&(o=Bn(s)),new Wm(o,i.transformResults||[])}(t,e))):[]}function TD(n,e){return{documents:[nE(n,e.path)]}}function CD(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nE(n,i);let s=function(f){if(f.length!==0)return sE(gn.create(f,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(f){if(f.length!==0)return f.map(_=>function(C){return{field:ao(C.field),direction:RD(C.dir)}}(_))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=ng(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:t,parent:i}}function AD(n){let e=wD(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){De(r===1);let _=t.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let s=[];t.where&&(s=function(g){let C=iE(g);return C instanceof gn&&Mb(C)?C.getFilters():[C]}(t.where));let o=[];t.orderBy&&(o=function(g){return g.map(C=>function(F){return new vo(co(F.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(C))}(t.orderBy));let c=null;t.limit&&(c=function(g){let C;return C=typeof g=="object"?g.value:g,jd(C)?null:C}(t.limit));let l=null;t.startAt&&(l=function(g){let C=!!g.before,k=g.values||[];return new yo(k,C)}(t.startAt));let f=null;return t.endAt&&(f=function(g){let C=!g.before,k=g.values||[];return new yo(k,C)}(t.endAt)),Xx(e,i,o,s,c,"F",l,f)}function SD(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=co(t.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=co(t.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=co(t.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=co(t.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return rt.create(co(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return gn.create(t.compositeFilter.filters.map(r=>iE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function RD(n){return gD[n]}function PD(n){return _D[n]}function xD(n){return yD[n]}function ao(n){return{fieldPath:n.canonicalString()}}function co(n){return $t.fromServerFormat(n.fieldPath)}function sE(n){return n instanceof rt?function(t){if(t.op==="=="){if(tb(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NAN"}};if(eb(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tb(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NAN"}};if(eb(t.value))return{unaryFilter:{field:ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(t.field),op:PD(t.op),value:t.value}}}(n):n instanceof gn?function(t){let r=t.getFilters().map(i=>sE(i));return r.length===1?r[0]:{compositeFilter:{op:xD(t.op),filters:r}}}(n):ce()}function DD(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vc=class n{constructor(e,t,r,i,s=de.min(),o=de.min(),c=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var og=class{constructor(e){this.ct=e}};function kD(n){let e=AD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hm(e,e.limit,"L"):e}var Td=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),mc(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=gr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(hi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?kb(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Db(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ue(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ie.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Td.vt=new Td;var ag=class{constructor(){this.un=new cg}addToCollectionParentIndex(e,t){return this.un.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(os.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}},cg=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new It(je.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(je.comparator)).toArray()}};var tL=new Uint8Array(0);var Vn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var wc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var lg=class{constructor(){this.changes=new fi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ug=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dg=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&pc(r.mutation,i,tn.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ve()){let i=rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=uc();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=rs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ve()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=_r(),o=fc(),c=function(){return fc()}();return t.forEach((l,f)=>{let _=r.get(f.key);i.has(f.key)&&(_===void 0||_.mutation instanceof $n)?s=s.insert(f.key,f):_!==void 0?(o.set(f.key,_.mutation.getFieldMask()),pc(_.mutation,f,_.mutation.getFieldMask(),yt.now())):o.set(f.key,tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((f,_)=>o.set(f,_)),t.forEach((f,_)=>{var g;return c.set(f,new ug(_,(g=o.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){let r=fc(),i=new qe((o,c)=>o-c),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let f=t.get(l);if(f===null)return;let _=r.get(l)||tn.empty();_=c.applyToLocalView(f,_),r.set(l,_);let g=(i.get(c.batchId)||ve()).add(l);i=i.insert(c.batchId,g)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),f=l.key,_=l.value,g=Gb();_.forEach(C=>{if(!s.has(C)){let k=Yb(t.get(C),r.get(C));k!==null&&g.set(C,k),s=s.add(C)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,g))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):q.resolve(rs()),c=-1,l=s;return o.next(f=>q.forEach(f,(_,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(_)?q.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{l=l.insert(_,C)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,l,f,ve())).next(_=>({batchId:c,changes:zb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=uc();return this.indexManager.getCollectionParents(e,s).next(c=>q.forEach(c,l=>{let f=function(g,C){return new cs(C,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(_=>{_.forEach((g,C)=>{o=o.insert(g,C)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,f)=>{let _=f.getKey();o.get(_)===null&&(o=o.insert(_,mn.newInvalidDocument(_)))});let c=uc();return o.forEach((l,f)=>{let _=s.get(l);_!==void 0&&pc(_.mutation,f,tn.empty(),yt.now()),qd(t,f)&&(c=c.insert(l,f))}),c})}};var hg=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:kD(i.bundledQuery),readTime:Bn(i.readTime)}}(t)),q.resolve()}};var fg=class{constructor(){this.overlays=new qe(ie.comparator),this.Ir=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){let r=rs();return q.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),q.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){let i=rs(),s=t.length+1,o=new ie(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,f=l.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new qe((f,_)=>f-_),o=this.overlays.getIterator();for(;o.hasNext();){let f=o.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let _=s.get(f.largestBatchId);_===null&&(_=rs(),s=s.insert(f.largestBatchId,_)),_.set(f.getKey(),f)}}let c=rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((f,_)=>c.set(f,_)),!(c.size()>=i)););return q.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Ym(t,r));let s=this.Ir.get(t);s===void 0&&(s=ve(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var pg=class{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}};var bc=class{constructor(){this.Tr=new It(nt.Er),this.dr=new It(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new nt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new nt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ie(new je([])),r=new nt(t,e),i=new nt(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ie(new je([])),r=new nt(t,e),i=new nt(t,e+1),s=ve();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new nt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ie.comparator(e.key,t.key)||Re(e.wr,t.wr)}static Ar(e,t){return Re(e.wr,t.wr)||ie.comparator(e.key,t.key)}};var mg=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new It(nt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Qm(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new nt(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,t){return q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new nt(t,0),i=new nt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Re);return t.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;ie.isDocumentKey(s)||(s=s.child(""));let o=new nt(new ie(s),0),c=new It(Re);return this.br.forEachWhile(l=>{let f=l.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(l.wr)),!0)},o),q.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){De(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(t.mutations,i=>{let s=new nt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new nt(t,0),i=this.br.firstAfterOrEqual(r);return q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gg=class{constructor(e){this.Mr=e,this.docs=function(){return new qe(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=_r();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=_r(),o=t.path,c=new ie(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:f,value:{document:_}}=l.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||jx(Bx(_),r)<=0||(i.has(_.key)||qd(t,_))&&(s=s.insert(_.key,_.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ce()}Or(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _g(this)}getSize(e){return q.resolve(this.size)}},_g=class extends lg{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var yg=class{constructor(e){this.persistence=e,this.Nr=new fi(t=>l_(t),u_),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bc,this.targetCount=0,this.kr=wc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new wc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Kn(t),q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),q.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.Br.containsKey(t))}};var vg=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Pb(0),this.Kr=!1,this.Kr=!0,this.$r=new pg,this.referenceDelegate=e(this),this.Ur=new yg(this),this.indexManager=new ag,this.remoteDocumentCache=function(i){return new gg(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new og(t),this.Gr=new hg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new mg(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);let i=new wg(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},wg=class extends Dm{constructor(e){super(),this.currentSequenceNumber=e}},bg=class n{constructor(e){this.persistence=e,this.Jr=new bc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return q.or([()=>q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Eg=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ve(),i=ve();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Ig=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Tg=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Tw()?8:qx(ht())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Ig;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(lc()<=ye.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",oo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(lc()<=ye.DEBUG&&X("QueryEngine","Query:",oo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(lc()<=ye.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",oo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):q.resolve())}Yi(e,t){if(sb(t))return q.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Hm(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ve(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(l=>{let f=this.ts(t,c);return this.ns(t,f,o,l.readTime)?this.Yi(e,Hm(t,null,"F")):this.rs(e,f,t,l)}))})))}Zi(e,t,r,i){return sb(t)||i.isEqual(de.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?q.resolve(null):(lc()<=ye.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(t)),this.rs(e,o,t,Ux(i,-1)).next(c=>c))})}ts(e,t){let r=new It($b(e));return t.forEach((i,s)=>{qd(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return lc()<=ye.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",oo(t)),this.Ji.getDocumentsMatchingQuery(e,t,os.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Cg=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new qe(Re),this._s=new fi(s=>l_(s),u_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dg(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function OD(n,e,t,r){return new Cg(n,e,t,r)}function aE(n,e){return E(this,null,function*(){let t=le(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],l=ve();for(let f of i){o.push(f.batchId);for(let _ of f.mutations)l=l.add(_.key)}for(let f of s){c.push(f.batchId);for(let _ of f.mutations)l=l.add(_.key)}return t.localDocuments.getDocuments(r,l).next(f=>({hs:f,removedBatchIds:o,addedBatchIds:c}))})})})}function ND(n,e){let t=le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,f,_){let g=f.batch,C=g.keys(),k=q.resolve();return C.forEach(F=>{k=k.next(()=>_.getEntry(l,F)).next(U=>{let M=f.docVersions.get(F);De(M!==null),U.version.compareTo(M)<0&&(g.applyToRemoteDocument(U,f),U.isValidDocument()&&(U.setReadTime(f.commitVersion),_.addEntry(U)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(l,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let l=ve();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(l=l.add(c.batch.mutations[f].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function cE(n){let e=le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function MD(n,e){let t=le(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((_,g)=>{let C=i.get(g);if(!C)return;c.push(t.Ur.removeMatchingKeys(s,_.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(s,_.addedDocuments,g)));let k=C.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?k=k.withResumeToken(Tt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):_.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(_.resumeToken,r)),i=i.insert(g,k),function(U,M,J){return U.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(C,k,_)&&c.push(t.Ur.updateTargetData(s,k))});let l=_r(),f=ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,_))}),c.push(VD(s,o,e.documentUpdates).next(_=>{l=_.Ps,f=_.Is})),!r.isEqual(de.min())){let _=t.Ur.getLastRemoteSnapshotVersion(s).next(g=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(_)}return q.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,f)).next(()=>l)}).then(s=>(t.os=i,s))}function VD(n,e,t){let r=ve(),i=ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=_r();return t.forEach((c,l)=>{let f=s.get(c);l.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!f.isValidDocument()||l.version.compareTo(f.version)>0||l.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):X("LocalStore","Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function FD(n,e){let t=le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LD(n,e){let t=le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new vc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Ag(n,e,t){return E(this,null,function*(){let r=le(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rc(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function gb(n,e,t){let r=le(n),i=de.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,f,_){let g=le(l),C=g._s.get(_);return C!==void 0?q.resolve(g.os.get(C)):g.Ur.getTargetData(f,_)}(r,o,Un(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:de.min(),t?s:ve())).next(c=>(UD(r,eD(e),c),{documents:c,Ts:s})))}function UD(n,e,t){let r=n.us.get(e)||de.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Cd=class{constructor(){this.activeTargetIds=oD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sg=class{constructor(){this.so=new Cd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Rg=class{_o(e){}shutdown(){}};var Ad=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var cd=null;function wm(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}var BD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Pg=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Et="WebChannelConnection",xg=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=wm(),l=this.xo(t,r.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${c}:`,l,i);let f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,o),this.No(t,l,f,i).then(_=>(X("RestConnection",`Received RPC '${t}' ${c}: `,_),_),_=>{throw po("RestConnection",`RPC '${t}' ${c} failed with error: `,_,"url: ",l,"request:",i),_})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=BD[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=wm();return new Promise((o,c)=>{let l=new pm;l.setWithCredentials(!0),l.listenOnce(mm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cc.NO_ERROR:let _=l.getResponseJson();X(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(_)),o(_);break;case cc.TIMEOUT:X(Et,`RPC '${e}' ${s} timed out`),c(new Q(L.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:let g=l.getStatus();if(X(Et,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let C=l.getResponseJson();Array.isArray(C)&&(C=C[0]);let k=C?.error;if(k&&k.status&&k.message){let F=function(M){let J=M.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(J)>=0?J:L.UNKNOWN}(k.status);c(new Q(F,k.message))}else c(new Q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Q(L.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{X(Et,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);X(Et,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}Bo(e,t,r){let i=wm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ym(),c=_m(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(l.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let _=s.join("");X(Et,`Creating RPC '${e}' stream ${i}: ${_}`,l);let g=o.createWebChannel(_,l),C=!1,k=!1,F=new Pg({Io:M=>{k?X(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(C||(X(Et,`Opening RPC '${e}' stream ${i} transport.`),g.open(),C=!0),X(Et,`RPC '${e}' stream ${i} sending:`,M),g.send(M))},To:()=>g.close()}),U=(M,J,ee)=>{M.listen(J,W=>{try{ee(W)}catch(oe){setTimeout(()=>{throw oe},0)}})};return U(g,so.EventType.OPEN,()=>{k||(X(Et,`RPC '${e}' stream ${i} transport opened.`),F.yo())}),U(g,so.EventType.CLOSE,()=>{k||(k=!0,X(Et,`RPC '${e}' stream ${i} transport closed`),F.So())}),U(g,so.EventType.ERROR,M=>{k||(k=!0,po(Et,`RPC '${e}' stream ${i} transport errored:`,M),F.So(new Q(L.UNAVAILABLE,"The operation could not be completed")))}),U(g,so.EventType.MESSAGE,M=>{var J;if(!k){let ee=M.data[0];De(!!ee);let W=ee,oe=W.error||((J=W[0])===null||J===void 0?void 0:J.error);if(oe){X(Et,`RPC '${e}' stream ${i} received error:`,oe);let Ie=oe.status,ue=function(I){let S=tt[I];if(S!==void 0)return Zb(S)}(Ie),P=oe.message;ue===void 0&&(ue=L.INTERNAL,P="Unknown error status: "+Ie+" with message "+oe.message),k=!0,F.So(new Q(ue,P)),g.close()}else X(Et,`RPC '${e}' stream ${i} received:`,ee),F.bo(ee)}}),U(c,gm.STAT_EVENT,M=>{M.stat===od.PROXY?X(Et,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===od.NOPROXY&&X(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{F.wo()},0),F}};function bm(){return typeof document<"u"?document:null}function zd(n){return new tg(n,!0)}var Sd=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Rd=class{constructor(e,t,r,i,s,o,c,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new Q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Dg=class extends Rd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=bD(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Bn(o.readTime):de.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=sg(this.serializer),t.addTarget=function(s,o){let c,l=o.target;if(c=zm(l)?{documents:TD(s,l)}:{query:CD(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=eE(s,o.resumeToken);let f=ng(s,o.expectedCount);f!==null&&(c.expectedCount=f)}else if(o.snapshotVersion.compareTo(de.min())>0){c.readTime=Id(s,o.snapshotVersion.toTimestamp());let f=ng(s,o.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);let r=SD(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=sg(this.serializer),t.removeTarget=e,this.a_(t)}},kg=class extends Rd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return De(!!e.streamToken),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=ID(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=sg(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>ED(this.serializer,r))};this.a_(t)}};var Og=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,rg(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(L.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,rg(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(L.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ng=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mr(t),this.D_=!1):X("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Mg=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>E(this,null,function*(){fs(this)&&(X("RemoteStore","Restarting streams for network reachability change."),yield function(l){return E(this,null,function*(){let f=le(l);f.L_.add(4),yield Pc(f),f.q_.set("Unknown"),f.L_.delete(4),yield Gd(f)})}(this))}))}),this.q_=new Ng(r,i)}};function Gd(n){return E(this,null,function*(){if(fs(n))for(let e of n.B_)yield e(!0)})}function Pc(n){return E(this,null,function*(){for(let e of n.B_)yield e(!1)})}function lE(n,e){let t=le(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),g_(t)?m_(t):Do(t).r_()&&p_(t,e))}function f_(n,e){let t=le(n),r=Do(t);t.N_.delete(e),r.r_()&&uE(t,e),t.N_.size===0&&(r.r_()?r.o_():fs(t)&&t.q_.set("Unknown"))}function p_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(n).A_(e)}function uE(n,e){n.Q_.xe(e),Do(n).R_(e)}function m_(n){n.Q_=new eg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Do(n).start(),n.q_.v_()}function g_(n){return fs(n)&&!Do(n).n_()&&n.N_.size>0}function fs(n){return le(n).L_.size===0}function dE(n){n.Q_=void 0}function jD(n){return E(this,null,function*(){n.q_.set("Online")})}function $D(n){return E(this,null,function*(){n.N_.forEach((e,t)=>{p_(n,e)})})}function qD(n,e){return E(this,null,function*(){dE(n),g_(n)?(n.q_.M_(e),m_(n)):n.q_.set("Unknown")})}function zD(n,e,t){return E(this,null,function*(){if(n.q_.set("Online"),e instanceof bd&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Pd(n,r)}else if(e instanceof ho?n.Q_.Ke(e):e instanceof wd?n.Q_.He(e):n.Q_.We(e),!t.isEqual(de.min()))try{let r=yield cE(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((l,f)=>{if(l.resumeToken.approximateByteSize()>0){let _=s.N_.get(f);_&&s.N_.set(f,_.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,f)=>{let _=s.N_.get(l);if(!_)return;s.N_.set(l,_.withResumeToken(Tt.EMPTY_BYTE_STRING,_.snapshotVersion)),uE(s,l);let g=new vc(_.target,l,f,_.sequenceNumber);p_(s,g)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){X("RemoteStore","Failed to raise snapshot:",r),yield Pd(n,r)}})}function Pd(n,e,t){return E(this,null,function*(){if(!Rc(e))throw e;n.L_.add(1),yield Pc(n),n.q_.set("Offline"),t||(t=()=>cE(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){X("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Gd(n)}))})}function hE(n,e){return e().catch(t=>Pd(n,t,e))}function Hd(n){return E(this,null,function*(){let e=le(n),t=pi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GD(e);)try{let i=yield FD(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,HD(e,i)}catch(i){yield Pd(e,i)}fE(e)&&pE(e)})}function GD(n){return fs(n)&&n.O_.length<10}function HD(n,e){n.O_.push(e);let t=pi(n);t.r_()&&t.V_&&t.m_(e.mutations)}function fE(n){return fs(n)&&!pi(n).n_()&&n.O_.length>0}function pE(n){pi(n).start()}function WD(n){return E(this,null,function*(){pi(n).p_()})}function KD(n){return E(this,null,function*(){let e=pi(n);for(let t of n.O_)e.m_(t.mutations)})}function QD(n,e,t){return E(this,null,function*(){let r=n.O_.shift(),i=Jm.from(r,e,t);yield hE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hd(n)})}function JD(n,e){return E(this,null,function*(){e&&pi(n).V_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return fD(o)&&o!==L.ABORTED}(i.code)){let s=r.O_.shift();pi(r).s_(),yield hE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Hd(r)}})}(n,e)),fE(n)&&pE(n)})}function _b(n,e){return E(this,null,function*(){let t=le(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");let r=fs(t);t.L_.add(3),yield Pc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Gd(t)})}function YD(n,e){return E(this,null,function*(){let t=le(n);e?(t.L_.delete(2),yield Gd(t)):e||(t.L_.add(2),yield Pc(t),t.q_.set("Unknown"))})}function Do(n){return n.K_||(n.K_=function(t,r,i){let s=le(t);return s.w_(),new Dg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:jD.bind(null,n),Ro:$D.bind(null,n),mo:qD.bind(null,n),d_:zD.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.K_.s_(),g_(n)?m_(n):n.q_.set("Unknown")):(yield n.K_.stop(),dE(n))}))),n.K_}function pi(n){return n.U_||(n.U_=function(t,r,i){let s=le(t);return s.w_(),new kg(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WD.bind(null,n),mo:JD.bind(null,n),f_:KD.bind(null,n),g_:QD.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.U_.s_(),yield Hd(n)):(yield n.U_.stop(),n.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Vg=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function __(n,e){if(mr("AsyncQueue",`${e}: ${n}`),Rc(n))return new Q(L.UNAVAILABLE,`${e}: ${n}`);throw n}var xd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=uc(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dd=class{constructor(){this.W_=new qe(ie.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},To=class n{constructor(e,t,r,i,s,o,c,l,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,xd.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Fg=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Lg=class{constructor(){this.queries=yb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=le(t),s=i.queries;i.queries=yb(),s.forEach((o,c)=>{for(let l of c.j_)l.onError(r)})})(this,new Q(L.ABORTED,"Firestore shutting down"))}};function yb(){return new fi(n=>jb(n),$d)}function XD(n,e){return E(this,null,function*(){let t=le(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Fg,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=__(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&y_(t)})}function ZD(n,e){return E(this,null,function*(){let t=le(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function ek(n,e){let t=le(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&y_(t)}function tk(n,e,t){let r=le(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function y_(n){n.Y_.forEach(e=>{e.next()})}var Ug,vb;(vb=Ug||(Ug={})).ea="default",vb.Cache="cache";var Bg=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ug.Cache}};var kd=class{constructor(e){this.key=e}},Od=class{constructor(e){this.key=e}},jg=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=$b(e),this.Ra=new xd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Dd,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((_,g)=>{let C=i.get(_),k=qd(this.query,g)?g:null,F=!!C&&this.mutatedKeys.has(C.key),U=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations),M=!1;C&&k?C.data.isEqual(k.data)?F!==U&&(r.track({type:3,doc:k}),M=!0):this.ga(C,k)||(r.track({type:2,doc:k}),M=!0,(l&&this.Aa(k,l)>0||f&&this.Aa(k,f)<0)&&(c=!0)):!C&&k?(r.track({type:0,doc:k}),M=!0):C&&!k&&(r.track({type:1,doc:C}),M=!0,(l||f)&&(c=!0)),M&&(k?(o=o.add(k),s=U?s.add(_):s.delete(_)):(o=o.delete(_),s=s.delete(_)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let _=this.query.limitType==="F"?o.last():o.first();o=o.delete(_.key),s=s.delete(_.key),r.track({type:1,doc:_})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((_,g)=>function(k,F){let U=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return U(k)-U(F)}(_.type,g.type)||this.Aa(_.doc,g.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,f=l!==this.Ea;return this.Ea=l,o.length!==0||f?{snapshot:new To(this.query,e.Ra,s,o,e.mutatedKeys,l===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Od(r))}),this.da.forEach(r=>{e.has(r)||t.push(new kd(r))}),t}ba(e){this.Ta=e.Ts,this.da=ve();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return To.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$g=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},qg=class{constructor(e){this.key=e,this.va=!1}},zg=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fi(c=>jb(c),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(ie.comparator),this.Na=new Map,this.La=new bc,this.Ba={},this.ka=new Map,this.qa=wc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function nk(n,e,t=!0){return E(this,null,function*(){let r=wE(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield mE(r,e,t,!0),i})}function rk(n,e){return E(this,null,function*(){let t=wE(n);yield mE(t,e,!0,!1)})}function mE(n,e,t,r){return E(this,null,function*(){let i=yield LD(n.localStore,Un(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield ik(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&lE(n.remoteStore,i),c})}function ik(n,e,t,r,i){return E(this,null,function*(){n.Ka=(g,C,k)=>function(U,M,J,ee){return E(this,null,function*(){let W=M.view.ma(J);W.ns&&(W=yield gb(U.localStore,M.query,!1).then(({documents:P})=>M.view.ma(P,W)));let oe=ee&&ee.targetChanges.get(M.targetId),Ie=ee&&ee.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(W,U.isPrimaryClient,oe,Ie);return bb(U,M.targetId,ue.wa),ue.snapshot})}(n,g,C,k);let s=yield gb(n.localStore,e,!0),o=new jg(e,s.Ts),c=o.ma(s.documents),l=yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=o.applyChanges(c,n.isPrimaryClient,l);bb(n,t,f.wa);let _=new $g(e,t,o);return n.Fa.set(e,_),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),f.snapshot})}function sk(n,e,t){return E(this,null,function*(){let r=le(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&f_(r.remoteStore,i.targetId),Gg(r,i.targetId)}).catch(Sc))):(Gg(r,i.targetId),yield Ag(r.localStore,i.targetId,!0))})}function ok(n,e){return E(this,null,function*(){let t=le(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),f_(t.remoteStore,r.targetId))})}function ak(n,e,t){return E(this,null,function*(){let r=pk(n);try{let i=yield function(o,c){let l=le(o),f=yt.now(),_=c.reduce((k,F)=>k.add(F.key),ve()),g,C;return l.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=_r(),U=ve();return l.cs.getEntries(k,_).next(M=>{F=M,F.forEach((J,ee)=>{ee.isValidDocument()||(U=U.add(J))})}).next(()=>l.localDocuments.getOverlayedDocuments(k,F)).next(M=>{g=M;let J=[];for(let ee of c){let W=hD(ee,g.get(ee.key).overlayedDocument);W!=null&&J.push(new $n(ee.key,W,Ob(W.value.mapValue),ui.exists(!0)))}return l.mutationQueue.addMutationBatch(k,f,J,c)}).next(M=>{C=M;let J=M.applyToLocalDocumentSet(g,U);return l.documentOverlayCache.saveOverlays(k,M.batchId,J)})}).then(()=>({batchId:C.batchId,changes:zb(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,l){let f=o.Ba[o.currentUser.toKey()];f||(f=new qe(Re)),f=f.insert(c,l),o.Ba[o.currentUser.toKey()]=f}(r,i.batchId,t),yield xc(r,i.changes),yield Hd(r.remoteStore)}catch(i){let s=__(i,"Failed to persist write");t.reject(s)}})}function gE(n,e){return E(this,null,function*(){let t=le(n);try{let r=yield MD(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?De(o.va):i.removedDocuments.size>0&&(De(o.va),o.va=!1))}),yield xc(t,r,e)}catch(r){yield Sc(r)}})}function wb(n,e,t){let r=le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let l=le(o);l.onlineState=c;let f=!1;l.queries.forEach((_,g)=>{for(let C of g.j_)C.Z_(c)&&(f=!0)}),f&&y_(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ck(n,e,t){return E(this,null,function*(){let r=le(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new qe(ie.comparator);o=o.insert(s,mn.newNoDocument(s,de.min()));let c=ve().add(s),l=new vd(de.min(),new Map,new qe(Re),o,c);yield gE(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),v_(r)}else yield Ag(r.localStore,e,!1).then(()=>Gg(r,e,t)).catch(Sc)})}function lk(n,e){return E(this,null,function*(){let t=le(n),r=e.batch.batchId;try{let i=yield ND(t.localStore,e);yE(t,r,null),_E(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield xc(t,i)}catch(i){yield Sc(i)}})}function uk(n,e,t){return E(this,null,function*(){let r=le(n);try{let i=yield function(o,c){let l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let _;return l.mutationQueue.lookupMutationBatch(f,c).next(g=>(De(g!==null),_=g.keys(),l.mutationQueue.removeMutationBatch(f,g))).next(()=>l.mutationQueue.performConsistencyCheck(f)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(f,_,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,_)).next(()=>l.localDocuments.getDocuments(f,_))})}(r.localStore,e);yE(r,e,t),_E(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield xc(r,i)}catch(i){yield Sc(i)}})}function _E(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function yE(n,e,t){let r=le(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Gg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||vE(n,r)})}function vE(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(f_(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),v_(n))}function bb(n,e,t){for(let r of t)r instanceof kd?(n.La.addReference(r.key,e),dk(n,r)):r instanceof Od?(X("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||vE(n,r.key)):ce()}function dk(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(X("SyncEngine","New document in limbo: "+t),n.xa.add(r),v_(n))}function v_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ie(je.fromString(e)),r=n.qa.next();n.Na.set(r,new qg(t)),n.Oa=n.Oa.insert(t,r),lE(n.remoteStore,new vc(Un(Ub(t.path)),r,"TargetPurposeLimboResolution",Pb.oe))}}function xc(n,e,t){return E(this,null,function*(){let r=le(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,l)=>{o.push(r.Ka(l,e,t).then(f=>{var _;if((f||t)&&r.isPrimaryClient){let g=f?!f.fromCache:(_=t?.targetChanges.get(l.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(f){i.push(f);let g=Eg.Wi(l.targetId,f);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(l,f){return E(this,null,function*(){let _=le(l);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>q.forEach(f,C=>q.forEach(C.$i,k=>_.persistence.referenceDelegate.addReference(g,C.targetId,k)).next(()=>q.forEach(C.Ui,k=>_.persistence.referenceDelegate.removeReference(g,C.targetId,k)))))}catch(g){if(!Rc(g))throw g;X("LocalStore","Failed to update sequence numbers: "+g)}for(let g of f){let C=g.targetId;if(!g.fromCache){let k=_.os.get(C),F=k.snapshotVersion,U=k.withLastLimboFreeSnapshotVersion(F);_.os=_.os.insert(C,U)}}})}(r.localStore,s))})}function hk(n,e){return E(this,null,function*(){let t=le(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());let r=yield aE(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new Q(L.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xc(t,r.hs)}})}function fk(n,e){let t=le(n),r=t.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function wE(n){let e=le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ck.bind(null,e),e.Ca.d_=ek.bind(null,e.eventManager),e.Ca.$a=tk.bind(null,e.eventManager),e}function pk(n){let e=le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,e),e}var Eb=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=zd(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return OD(this.persistence,new Tg,t.initialUser,this.serializer)}Ga(t){return new vg(bg.Zr,this.serializer)}Wa(t){return new Sg}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var mk=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),yield YD(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Lg}()}createDatastore(t){let r=zd(t.databaseInfo.databaseId),i=function(o){return new xg(o)}(t.databaseInfo);return function(o,c,l,f){return new Og(o,c,l,f)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,l){return new Mg(i,s,o,c,l)}(this.localStore,this.datastore,t.asyncQueue,r=>wb(this.syncEngine,r,0),function(){return Ad.D()?new Ad:new Rg}())}createSyncEngine(t,r){return function(s,o,c,l,f,_,g){let C=new zg(s,o,c,l,f,_);return g&&(C.Qa=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(s){return E(this,null,function*(){let o=le(s);X("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Pc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Hg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Wg=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){X("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=__(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Em(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield aE(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Ib(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield gk(n);X("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_b(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_b(e.remoteStore,i)),n._onlineComponents=e})}function gk(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Em(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),yield Em(n,new Eb)}}else X("FirestoreClient","Using default OfflineComponentProvider"),yield Em(n,new Eb);return n._offlineComponents})}function bE(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ib(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),yield Ib(n,new mk))),n._onlineComponents})}function _k(n){return bE(n).then(e=>e.syncEngine)}function yk(n){return E(this,null,function*(){let e=yield bE(n),t=e.eventManager;return t.onListen=nk.bind(null,e.syncEngine),t.onUnlisten=sk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ok.bind(null,e.syncEngine),t})}function vk(n,e,t={}){let r=new Fn;return n.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,c,l,f){let _=new Hg({next:C=>{_.Za(),o.enqueueAndForget(()=>ZD(s,g)),C.fromCache&&l.source==="server"?f.reject(new Q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(C)},error:C=>f.reject(C)}),g=new Bg(c,_,{includeMetadataChanges:!0,_a:!0});return XD(s,g)}(yield yk(n),n.asyncQueue,e,t,r)})),r.promise}function EE(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Tb=new Map;function IE(n,e,t){if(!t)throw new Q(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wk(n,e,t,r){if(e===!0&&r===!0)throw new Q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cb(n){if(!ie.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ab(n){if(ie.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Wd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function Co(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Wd(n);throw new Q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Nd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ao=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Im;switch(r.type){case"firstParty":return new Sm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Tb.get(t);r&&(X("ComponentProvider","Removing Datastore"),Tb.delete(t),r.terminate())}(this),Promise.resolve()}};function TE(n,e,t,r={}){var i;let s=(n=Co(n,Ao))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,l;if(typeof r.mockUserToken=="string")c=r.mockUserToken,l=ft.MOCK_USER;else{c=ku(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ft(f)}n._authCredentials=new Tm(new dd(c,l))}}var So=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},di=class n extends So{constructor(e,t,r){super(e,t,Ub(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function CE(n,e,...t){if(n=Me(n),IE("collection","path",e),n instanceof Ao){let r=je.fromString(e,...t);return Ab(r),new di(n,null,r)}{if(!(n instanceof qt||n instanceof di))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return Ab(r),new di(n.firestore,null,r)}}function w_(n,e,...t){if(n=Me(n),arguments.length===1&&(e=hd.newId()),IE("doc","path",e),n instanceof Ao){let r=je.fromString(e,...t);return Cb(r),new qt(n,null,new ie(r))}{if(!(n instanceof qt||n instanceof di))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(je.fromString(e,...t));return Cb(r),new qt(n.firestore,n instanceof di?n.converter:null,new ie(r))}}var Md=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Sd(this,"async_queue_retry"),this.Vu=()=>{let r=bm();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=bm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=bm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Fn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw mr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Vg.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Ro=class extends Ao{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Md,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Md(e),this._firestoreClient=void 0,yield e}})}};function AE(n,e){let t=typeof n=="object"?n:ii(),r=typeof n=="string"?n:e||"(default)",i=Ki(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Du("firestore");s&&TE(i,...s)}return i}function SE(n){if(n._terminated)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bk(n),n._firestoreClient}function bk(n){var e,t,r;let i=n._freezeSettings(),s=function(c,l,f,_){return new km(c,l,f,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,EE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Wg(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var Ec=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Tt.fromBase64String(e))}catch(t){throw new Q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Po=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ic=class{constructor(e){this._methodName=e}};var Tc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var Cc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Ek=/^__.*__$/,Kg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $n(e,this.data,this.fieldMask,t,this.fieldTransforms):new ds(e,this.data,t,this.fieldTransforms)}},Vd=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $n(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function RE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var Qg=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ld(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(RE(this.Cu)&&Ek.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Jg=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zd(e)}Qu(e,t,r,i=!1){return new Qg({Cu:e,methodName:t,qu:r,path:$t.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function b_(n){let e=n._freezeSettings(),t=zd(n._databaseId);return new Jg(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ik(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);E_("Data must be an object, but it was:",o,r);let c=PE(r,o),l,f;if(s.merge)l=new tn(o.fieldMask),f=o.fieldTransforms;else if(s.mergeFields){let _=[];for(let g of s.mergeFields){let C=Yg(e,g,t);if(!o.contains(C))throw new Q(L.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);DE(_,C)||_.push(C)}l=new tn(_),f=o.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,f=o.fieldTransforms;return new Kg(new jt(c),l,f)}var Fd=class n extends Ic{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Tk(n,e,t,r){let i=n.Qu(1,e,t);E_("Data must be an object, but it was:",i,r);let s=[],o=jt.empty();hs(r,(l,f)=>{let _=I_(e,l,t);f=Me(f);let g=i.Nu(_);if(f instanceof Fd)s.push(_);else{let C=Dc(f,g);C!=null&&(s.push(_),o.set(_,C))}});let c=new tn(s);return new Vd(o,c,i.fieldTransforms)}function Ck(n,e,t,r,i,s){let o=n.Qu(1,e,t),c=[Yg(e,r,t)],l=[i];if(s.length%2!=0)throw new Q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<s.length;C+=2)c.push(Yg(e,s[C])),l.push(s[C+1]);let f=[],_=jt.empty();for(let C=c.length-1;C>=0;--C)if(!DE(f,c[C])){let k=c[C],F=l[C];F=Me(F);let U=o.Nu(k);if(F instanceof Fd)f.push(k);else{let M=Dc(F,U);M!=null&&(f.push(k),_.set(k,M))}}let g=new tn(f);return new Vd(_,g,o.fieldTransforms)}function Ak(n,e,t,r=!1){return Dc(t,n.Qu(r?4:3,e))}function Dc(n,e){if(xE(n=Me(n)))return E_("Unsupported field value:",e,n),PE(n,e);if(n instanceof Ic)return function(r,i){if(!RE(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let l=Dc(c,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=yt.fromDate(r);return{timestampValue:Id(i.serializer,s)}}if(r instanceof yt){let s=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Id(i.serializer,s)}}if(r instanceof Tc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:eE(i.serializer,r._byteString)};if(r instanceof qt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:h_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Cc)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return d_(c.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Wd(r)}`)}(n,e)}function PE(n,e){let t={};return xb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(n,(r,i)=>{let s=Dc(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function xE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Tc||n instanceof Ec||n instanceof qt||n instanceof Ic||n instanceof Cc)}function E_(n,e,t){if(!xE(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Wd(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function Yg(n,e,t){if((e=Me(e))instanceof Po)return e._internalPath;if(typeof e=="string")return I_(n,e);throw Ld("Field path arguments must be of type string or ",n,!1,void 0,t)}var Sk=new RegExp("[~\\*/\\[\\]]");function I_(n,e,t){if(e.search(Sk)>=0)throw Ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Po(...e.split("."))._internalPath}catch{throw Ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ld(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Q(L.INVALID_ARGUMENT,c+n+l)}function DE(n,e){return n.some(t=>t.isEqual(e))}var Ud=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(T_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Xg=class extends Ud{data(){return super.data()}};function T_(n,e){return typeof e=="string"?I_(n,e):e instanceof Po?e._internalPath:e._delegate._internalPath}function Rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ac=class{},Zg=class extends Ac{};function kE(n,e,...t){let r=[];e instanceof Ac&&r.push(e),r=r.concat(t),function(s){let o=s.filter(l=>l instanceof e_).length,c=s.filter(l=>l instanceof Bd).length;if(o>1||o>0&&c>0)throw new Q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Bd=class n extends Zg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return NE(e._query,t),new So(e.firestore,e.converter,Gm(e._query,t))}_parse(e){let t=b_(e.firestore);return function(s,o,c,l,f,_,g){let C;if(f.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Rb(g,_);let k=[];for(let F of g)k.push(Sb(l,s,F));C={arrayValue:{values:k}}}else C=Sb(l,s,g)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Rb(g,_),C=Ak(c,o,g,_==="in"||_==="not-in");return rt.create(f,_,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function OE(n,e,t){let r=e,i=T_("where",n);return Bd._create(i,r,t)}var e_=class n extends Ac{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:gn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let l of c)NE(o,l),o=Gm(o,l)}(e._query,t),new So(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Sb(n,e,t){if(typeof(t=Me(t))=="string"){if(t==="")throw new Q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(e)&&t.indexOf("/")!==-1)throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(je.fromString(t));if(!ie.isDocumentKey(r))throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Z0(n,new ie(r))}if(t instanceof qt)return Z0(n,t._key);throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(t)}.`)}function Rb(n,e){if(!Array.isArray(n)||n.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(n,e){let t=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var t_=class{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return hs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ue(o.doubleValue));return new Cc(s)}convertGeoPoint(e){return new Tc(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=a_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let t=gr(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=je.fromString(e);De(oE(r));let i=new gd(r.get(1),r.get(3)),s=new ie(r.popFirst(5));return i.isEqual(t)||mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Pk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},n_=class extends Ud{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(T_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},fo=class extends n_{data(e={}){return super.data(e)}},r_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fo(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let l=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new uo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),f=-1,_=-1;return c.type!==0&&(f=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:xk(c.type),doc:l,oldIndex:f,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function xk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var i_=class extends t_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function ME(n){n=Co(n,So);let e=Co(n.firestore,Ro),t=SE(e),r=new i_(e);return Rk(n._query),vk(t,n._query).then(i=>new r_(e,r,n,i))}function VE(n,e,t,...r){n=Co(n,qt);let i=Co(n.firestore,Ro),s=b_(i),o;return o=typeof(e=Me(e))=="string"||e instanceof Po?Ck(s,"updateDoc",n._key,e,t,r):Tk(s,"updateDoc",n._key,e),LE(i,[o.toMutation(n._key,ui.exists(!0))])}function FE(n,e){let t=Co(n.firestore,Ro),r=w_(n),i=Pk(n.converter,e);return LE(t,[Ik(b_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}function LE(n,e){return function(r,i){let s=new Fn;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return ak(yield _k(r),i,s)})),s.promise}(SE(n),e)}(function(e,t=!0){(function(i){xo=i})(On),kn(new kt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new Ro(new Cm(r.getProvider("auth-internal")),new Pm(r.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gd(f.options.projectId,_)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Le(Q0,"4.7.3",e),Le(Q0,"4.7.3","esm2017")})();var zt=class{constructor(e){return e}},UE="firestore",C_=class{constructor(){return Ji(UE)}};var A_=new me("angularfire2.firestore-instances");function Dk(n,e){let t=no(UE,n,e);return t&&new zt(t)}function kk(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new zt(r)}}var Ok={provide:C_,deps:[[new ct,A_]]},Nk={provide:zt,useFactory:Dk,deps:[[new ct,A_],pn]};function BE(n,...e){return Le("angularfire",ar.full,"fst"),Ct([Nk,Ok,{provide:A_,useFactory:kk(n),multi:!0,deps:[Xe,dn,oi,cr,[new ct,ns],[new ct,si],...e]}])}var ps=et(FE,!0);var _n=et(CE,!0);var jE=et(w_,!0);var Kd=et(ME,!0);var $E=et(AE,!0);var qE=et(kE,!0);var zE=et(VE,!0);var GE=et(OE,!0);var XE="firebasestorage.googleapis.com",ZE="storageBucket",Mk=2*60*1e3,Vk=10*60*1e3;var ze=class n extends St{constructor(e,t,r=0){super(S_(e),`Firebase Storage: ${t} (${S_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return S_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},We=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(We||{});function S_(n){return"storage/"+n}function O_(){let n="An unknown error occurred, please check the error payload for server response.";return new ze(We.UNKNOWN,n)}function Fk(n){return new ze(We.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Lk(n){return new ze(We.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Uk(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(We.UNAUTHENTICATED,n)}function Bk(){return new ze(We.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jk(n){return new ze(We.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function $k(){return new ze(We.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qk(){return new ze(We.CANCELED,"User canceled the upload/download.")}function zk(n){return new ze(We.INVALID_URL,"Invalid URL '"+n+"'.")}function Gk(n){return new ze(We.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Hk(){return new ze(We.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ZE+"' property when initializing the app?")}function Wk(){return new ze(We.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Kk(){return new ze(We.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Qk(n){return new ze(We.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function R_(n){return new ze(We.INVALID_ARGUMENT,n)}function eI(){return new ze(We.APP_DELETED,"The Firebase app was deleted.")}function Jk(n){return new ze(We.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(n,e){return new ze(We.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function kc(n){throw new ze(We.INTERNAL_ERROR,"Internal error: "+n)}var yn=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw Gk(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function f(oe){oe.path_=decodeURIComponent(oe.path)}let _="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",k=new RegExp(`^https?://${g}/${_}/b/${i}/o${C}`,"i"),F={bucket:1,path:3},U=t===XE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",J=new RegExp(`^https?://${U}/${i}/${M}`,"i"),W=[{regex:c,indices:l,postModify:s},{regex:k,indices:F,postModify:f},{regex:J,indices:{bucket:1,path:2},postModify:f}];for(let oe=0;oe<W.length;oe++){let Ie=W[oe],ue=Ie.regex.exec(e);if(ue){let P=ue[Ie.indices.bucket],w=ue[Ie.indices.path];w||(w=""),r=new n(P,w),Ie.postModify(r);break}}if(r==null)throw zk(e);return r}},P_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Yk(n,e,t){let r=1,i=null,s=null,o=!1,c=0;function l(){return c===2}let f=!1;function _(...M){f||(f=!0,e.apply(null,M))}function g(M){i=setTimeout(()=>{i=null,n(k,l())},M)}function C(){s&&clearTimeout(s)}function k(M,...J){if(f){C();return}if(M){C(),_.call(null,M,...J);return}if(l()||o){C(),_.call(null,M,...J);return}r<64&&(r*=2);let W;c===1?(c=2,W=0):W=(r+Math.random())*1e3,g(W)}let F=!1;function U(M){F||(F=!0,C(),!f&&(i!==null?(M||(c=2),clearTimeout(i),g(0)):M||(c=1)))}return g(0),s=setTimeout(()=>{o=!0,U(!0)},t),U}function Xk(n){n(!1)}function Zk(n){return n!==void 0}function eO(n){return typeof n=="object"&&!Array.isArray(n)}function N_(n){return typeof n=="string"||n instanceof String}function HE(n){return M_()&&n instanceof Blob}function M_(){return typeof Blob<"u"}function WE(n,e,t,r){if(r<e)throw R_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw R_(`Invalid value for '${n}'. Expected ${t} or less.`)}function V_(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function tI(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Oo=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Oo||{});function tO(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var x_=class{constructor(e,t,r,i,s,o,c,l,f,_,g,C=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=f,this.progressCallback_=_,this.connectionFactory_=g,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,F)=>{this.resolve_=k,this.reject_=F,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ko(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let l=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,f)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===Oo.NO_ERROR,l=s.getStatus();if(!c||tO(l,this.additionalRetryCodes_)&&this.retry){let _=s.getErrorCode()===Oo.ABORT;r(!1,new ko(!1,null,_));return}let f=this.successCodes_.indexOf(l)!==-1;r(!0,new ko(f,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());Zk(l)?s(l):s()}catch(l){o(l)}else if(c!==null){let l=O_();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(i.canceled){let l=this.appDelete_?eI():qk();o(l)}else{let l=$k();o(l)}};this.canceled_?t(!1,new ko(!1,null,!0)):this.backoffId_=Yk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Xk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ko=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function nO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function rO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function sO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function oO(n,e,t,r,i,s,o=!0){let c=tI(n.urlParams),l=n.url+c,f=Object.assign({},n.headers);return iO(f,e),nO(f,t),rO(f,s),sO(f,r),new x_(l,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function aO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function cO(...n){let e=aO();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(M_())return new Blob(n);throw new ze(We.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function uO(n){if(typeof atob>"u")throw Qk("base-64");return atob(n)}var vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Nc=class{constructor(e,t){this.data=e,this.contentType=t||null}};function nI(n,e){switch(n){case vn.RAW:return new Nc(rI(e));case vn.BASE64:case vn.BASE64URL:return new Nc(iI(n,e));case vn.DATA_URL:return new Nc(hO(e),fO(e))}throw O_()}function rI(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dO(n){let e;try{e=decodeURIComponent(n)}catch{throw Oc(vn.DATA_URL,"Malformed data URL.")}return rI(e)}function iI(n,e){switch(n){case vn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Oc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Oc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=uO(e)}catch(i){throw i.message.includes("polyfill")?i:Oc(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Yd=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Oc(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=pO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function hO(n){let e=new Yd(n);return e.base64?iI(vn.BASE64,e.rest):dO(e.rest)}function fO(n){return new Yd(n).contentType}function pO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var Xd=class n{constructor(e,t){let r=0,i="";HE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(HE(this.data_)){let r=this.data_,i=lO(r,e,t);return i===null?null:new n(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new n(r,!0)}}static getBlob(...e){if(M_()){let t=e.map(r=>r instanceof n?r.data_:r);return new n(cO.apply(null,t))}else{let t=e.map(o=>N_(o)?nI(vn.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let c=0;c<o.length;c++)i[s++]=o[c]}),new n(i,!0)}}uploadData(){return this.data_}};function sI(n){let e;try{e=JSON.parse(n)}catch{return null}return eO(e)?e:null}function mO(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function gO(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function oI(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function _O(n,e){return e}var vt=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||_O}},Jd=null;function yO(n){return!N_(n)||n.length<2?n:oI(n)}function aI(){if(Jd)return Jd;let n=[];n.push(new vt("bucket")),n.push(new vt("generation")),n.push(new vt("metageneration")),n.push(new vt("name","fullPath",!0));function e(s,o){return yO(o)}let t=new vt("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new vt("size");return i.xform=r,n.push(i),n.push(new vt("timeCreated")),n.push(new vt("updated")),n.push(new vt("md5Hash",null,!0)),n.push(new vt("cacheControl",null,!0)),n.push(new vt("contentDisposition",null,!0)),n.push(new vt("contentEncoding",null,!0)),n.push(new vt("contentLanguage",null,!0)),n.push(new vt("contentType",null,!0)),n.push(new vt("metadata","customMetadata",!0)),Jd=n,Jd}function vO(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new yn(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function wO(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return vO(r,n),r}function cI(n,e,t){let r=sI(e);return r===null?null:wO(n,r,t)}function bO(n,e,t,r){let i=sI(e);if(i===null||!N_(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(f=>{let _=n.bucket,g=n.fullPath,C="/b/"+o(_)+"/o/"+o(g),k=V_(C,t,r),F=tI({alt:"media",token:f});return k+F})[0]}function EO(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var Zd=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function lI(n){if(!n)throw O_()}function IO(n,e){function t(r,i){let s=cI(n,i,e);return lI(s!==null),s}return t}function TO(n,e){function t(r,i){let s=cI(n,i,e);return lI(s!==null),bO(s,i,n.host,n._protocol)}return t}function uI(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Bk():i=Uk():t.getStatus()===402?i=Lk(n.bucket):t.getStatus()===403?i=jk(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function CO(n){let e=uI(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Fk(n.path)),s.serverResponse=i.serverResponse,s}return t}function AO(n,e,t){let r=e.fullServerUrl(),i=V_(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,c=new Zd(i,s,TO(n,t),o);return c.errorHandler=CO(e),c}function SO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function RO(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=SO(null,e)),r}function PO(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let W="";for(let oe=0;oe<2;oe++)W=W+Math.random().toString().slice(2);return W}let l=c();o["Content-Type"]="multipart/related; boundary="+l;let f=RO(e,r,i),_=EO(f,t),g="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+l+`\r
Content-Type: `+f.contentType+`\r
\r
`,C=`\r
--`+l+"--",k=Xd.getBlob(g,r,C);if(k===null)throw Wk();let F={name:f.fullPath},U=V_(s,n.host,n._protocol),M="POST",J=n.maxUploadRetryTime,ee=new Zd(U,M,IO(n,t),J);return ee.urlParams=F,ee.headers=o,ee.body=k.uploadData(),ee.errorHandler=uI(e),ee}var TU=256*1024;var KE=null,D_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw kc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},k_=class extends D_{initXhr(){this.xhr_.responseType="text"}};function dI(){return KE?KE():new k_}var No=class n{constructor(e,t){this._service=e,t instanceof yn?this._location=t:this._location=yn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oI(this._location.path)}get storage(){return this._service}get parent(){let e=mO(this._location.path);if(e===null)return null;let t=new yn(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Jk(e)}};function xO(n,e,t){n._throwIfRoot("uploadBytes");let r=PO(n.storage,n._location,aI(),new Xd(e,!0),t);return n.storage.makeRequestWithTokens(r,dI).then(i=>({metadata:i,ref:n}))}function DO(n,e,t=vn.RAW,r){n._throwIfRoot("uploadString");let i=nI(t,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),xO(n,i.data,s)}function kO(n){n._throwIfRoot("getDownloadURL");let e=AO(n.storage,n._location,aI());return n.storage.makeRequestWithTokens(e,dI).then(t=>{if(t===null)throw Kk();return t})}function OO(n,e){let t=gO(n._location.path,e),r=new yn(n._location.bucket,t);return new No(n.storage,r)}function NO(n){return/^[A-Za-z]+:\/\//.test(n)}function MO(n,e){return new No(n,e)}function hI(n,e){if(n instanceof Mc){let t=n;if(t._bucket==null)throw Hk();let r=new No(t,t._bucket);return e!=null?hI(r,e):r}else return e!==void 0?OO(n,e):n}function VO(n,e){if(e&&NO(e)){if(n instanceof Mc)return MO(n,e);throw R_("To use ref(service, url), the first argument must be a Storage instance.")}else return hI(n,e)}function QE(n,e){let t=e?.[ZE];return t==null?null:yn.makeFromBucketSpec(t,n)}function FO(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:ku(i,n.app.options.projectId))}var Mc=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=XE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Mk,this._maxUploadRetryTime=Vk,this._requests=new Set,i!=null?this._bucket=yn.makeFromBucketSpec(i,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new No(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new P_(eI());{let o=oO(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},JE="@firebase/storage",YE="0.13.2";var fI="storage";function qn(n,e,t,r){return n=Me(n),DO(n,e,t,r)}function zn(n){return n=Me(n),kO(n)}function Gn(n,e){return n=Me(n),VO(n,e)}function yr(n=ii(),e){n=Me(n);let r=Ki(n,fI).getImmediate({identifier:e}),i=Du("storage");return i&&pI(r,...i),r}function pI(n,e,t,r={}){FO(n,e,t,r)}function LO(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Mc(t,r,i,e,On)}function UO(){kn(new kt(fI,LO,"PUBLIC").setMultipleInstances(!0)),Le(JE,YE,""),Le(JE,YE,"esm2017")}UO();var Vc=la(Mo());function BO(n,e){n&1&&(A(0,"div",1),te(1,"div",2),b())}var Wn=class n{loading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ye({type:n,selectors:[["app-spinner"]],inputs:{loading:"loading"},standalone:!0,features:[Ze],decls:1,vars:1,consts:[["class","spinner-overlay",4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"]],template:function(t,r){t&1&&K(0,BO,2,0,"div",0),t&2&&B("ngIf",r.loading)},dependencies:[Lt,Zt],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:8px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};var Ot=class n{constructor(e){this.auth=e}tipoUsuario;mailUsuario;nombreUsuario;login(e,t){return E(this,null,function*(){let i=(yield H0(this.auth,e,t)).user;if(i&&i.emailVerified)return i;if(e=="especialista@prueba.com"||e=="administrador@prueba.com"||e=="paciente@prueba.com")return i;throw yield id(this.auth),new Error("Por favor, verifica tu correo electr\xF3nico antes de iniciar sesi\xF3n.")})}register(e,t){return E(this,null,function*(){let i=(yield q0(this.auth,e,t)).user;return i&&(yield G0(i),yield id(this.auth)),i})}logout(){return id(this.auth)}isLoggedIn(){return $0(this.auth)}getUserEmail(){return this.isLoggedIn().pipe(he(e=>e?e.email:null))}static \u0275fac=function(t){return new(t||n)(Ce(ts))};static \u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"})};var vr=class{constructor(e){return e}},mI="storage",L_=class{constructor(){return Ji(mI)}};var U_=new me("angularfire2.storage-instances");function jO(n,e){let t=no(mI,n,e);return t&&new vr(t)}function $O(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vr(r)}}var qO={provide:L_,deps:[[new ct,U_]]},zO={provide:vr,useFactory:jO,deps:[[new ct,U_],pn]};function gI(n,...e){return Le("angularfire",ar.full,"gcs"),Ct([zO,qO,{provide:U_,useFactory:$O(n),multi:!0,deps:[Xe,dn,oi,cr,[new ct,ns],[new ct,si],...e]}])}var _I=et(yr,!0);function GO(n,e){n&1&&(A(0,"div",41),O(1," Se requiere un nombre v\xE1lido. "),b())}function HO(n,e){n&1&&(A(0,"div",41),O(1," Se requiere un apellido v\xE1lido. "),b())}function WO(n,e){n&1&&(A(0,"div",41),O(1," Ingrese una edad valida (mayor a 21 y menor a 65 a\xF1os). "),b())}function KO(n,e){n&1&&(A(0,"div",41),O(1," El documento es requerido y debe ser num\xE9rico (8 caracteres). "),b())}function QO(n,e){n&1&&(A(0,"p"),O(1,"El correo es requerido."),b())}function JO(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function YO(n,e){if(n&1&&(A(0,"div",41),K(1,QO,2,0,"p",33)(2,JO,2,0,"p",33),b()),n&2){let t,r,i=ne(2);j(),B("ngIf",(t=i.especialistaForm.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.especialistaForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function XO(n,e){n&1&&(A(0,"div",41),O(1," La contrase\xF1a es requerida y debe tener m\xEDnimo 6 caracteres. "),b())}function ZO(n,e){n&1&&(A(0,"div")(1,"small",41),O(2,"Debe seleccionar al menos una opci\xF3n."),b()())}function eN(n,e){n&1&&(A(0,"div",41),O(1," Ingrese una especialidad v\xE1lida. "),b())}function tN(n,e){if(n&1&&(A(0,"div",42)(1,"label",43),O(2,"Especialidad adicional:"),b(),te(3,"input",44),K(4,eN,2,0,"div",13),b()),n&2){let t,r=ne(2);j(4),B("ngIf",((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.invalid)&&(((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.touched)||((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.dirty)))}}function nN(n,e){n&1&&(A(0,"div",41),O(1," Debe seleccionar exactamente 1 im\xE1gen. "),b())}function rN(n,e){if(n&1){let t=Xt();A(0,"form",7),re("ngSubmit",function(){Ae(t);let i=ne();return Se(i.onSubmitEspecialista())}),A(1,"div",8)(2,"div",9)(3,"div",10)(4,"label",11),O(5,"Nombre/s:"),b(),te(6,"input",12),K(7,GO,2,0,"div",13),b(),A(8,"div",10)(9,"label",14),O(10,"Apellido:"),b(),te(11,"input",15),K(12,HO,2,0,"div",13),b(),A(13,"div",10)(14,"label",16),O(15,"Edad:"),b(),te(16,"input",17),K(17,WO,2,0,"div",13),b(),A(18,"div",10)(19,"label",18),O(20,"DNI:"),b(),te(21,"input",19),K(22,KO,2,0,"div",13),b()(),A(23,"div",20)(24,"div",10)(25,"label",21),O(26,"Email:"),b(),te(27,"input",22),K(28,YO,3,2,"div",13),b(),A(29,"div",10)(30,"label",23),O(31,"Contrase\xF1a:"),b(),te(32,"input",24),K(33,XO,2,0,"div",13),b(),A(34,"div",25)(35,"label",26),O(36,"Especialidad:"),b(),A(37,"label")(38,"input",27),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Pediatria"))}),b(),O(39,"Pediatria "),b(),A(40,"label")(41,"input",28),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Oftalmologia"))}),b(),O(42,"Oftalmologia "),b(),A(43,"label")(44,"input",29),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Cardiologia"))}),b(),O(45,"Cardiologia "),b(),A(46,"label")(47,"input",30),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Cirugia"))}),b(),O(48,"Cirugia "),b(),A(49,"label")(50,"input",31),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("General"))}),b(),O(51,"General "),b(),A(52,"label")(53,"input",32),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Otra"))}),b(),O(54,"Otra "),b(),K(55,ZO,3,0,"div",33),b(),K(56,tN,5,1,"div",34),A(57,"div",10)(58,"label",35),O(59,"Subir im\xE1gen de perfil:"),b(),A(60,"input",36),re("change",function(i){Ae(t);let s=ne();return Se(s.onFileChange(i))}),b(),K(61,nN,2,0,"div",13),b()()(),A(62,"div",37)(63,"button",38),O(64,"Registrarse"),b()(),A(65,"div",39),O(66," Ya posees una cuenta? "),A(67,"a",40),re("click",function(){Ae(t);let i=ne();return Se(i.goToLogin())}),O(68," Inicia sesi\xF3n"),b()()()}if(n&2){let t,r,i,s,o,c,l,f=ne();B("formGroup",f.especialistaForm),j(7),B("ngIf",((t=f.especialistaForm.get("nombre"))==null?null:t.invalid)&&(((t=f.especialistaForm.get("nombre"))==null?null:t.touched)||((t=f.especialistaForm.get("nombre"))==null?null:t.dirty))),j(5),B("ngIf",((r=f.especialistaForm.get("apellido"))==null?null:r.invalid)&&(((r=f.especialistaForm.get("apellido"))==null?null:r.touched)||((r=f.especialistaForm.get("apellido"))==null?null:r.dirty))),j(5),B("ngIf",((i=f.especialistaForm.get("edad"))==null?null:i.invalid)&&(((i=f.especialistaForm.get("edad"))==null?null:i.touched)||((i=f.especialistaForm.get("edad"))==null?null:i.dirty))),j(5),B("ngIf",((s=f.especialistaForm.get("dni"))==null?null:s.invalid)&&(((s=f.especialistaForm.get("dni"))==null?null:s.touched)||((s=f.especialistaForm.get("dni"))==null?null:s.dirty))),j(6),B("ngIf",((o=f.especialistaForm.get("email"))==null?null:o.invalid)&&((o=f.especialistaForm.get("email"))==null?null:o.touched)),j(5),B("ngIf",((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.invalid)&&(((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.touched)||((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.dirty))),j(22),B("ngIf",(l=f.especialistaForm.get("especialidad"))==null?null:l.invalid),j(),B("ngIf",f.otra),j(5),B("ngIf",f.imagenesInvalidEspecialista),j(2),B("disabled",f.especialistaForm.invalid)}}function iN(n,e){n&1&&(A(0,"div",41),O(1," Se requiere un nombre v\xE1lido. "),b())}function sN(n,e){n&1&&(A(0,"div",41),O(1," Se requiere un apellido v\xE1lido. "),b())}function oN(n,e){n&1&&(A(0,"div",41),O(1," Ingrese una edad valida (menor a 125 a\xF1os). "),b())}function aN(n,e){n&1&&(A(0,"div",41),O(1," El documento es requerido y debe ser num\xE9rico (8 caracteres). "),b())}function cN(n,e){n&1&&(A(0,"p"),O(1,"El correo es requerido."),b())}function lN(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function uN(n,e){if(n&1&&(A(0,"div",41),K(1,cN,2,0,"p",33)(2,lN,2,0,"p",33),b()),n&2){let t,r,i=ne(2);j(),B("ngIf",(t=i.usuarioForm.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.usuarioForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function dN(n,e){n&1&&(A(0,"div",41),O(1," La contrase\xF1a es requerida y debe tener m\xEDnimo 6 caracteres. "),b())}function hN(n,e){n&1&&(A(0,"div",41),O(1," Ingrese una obra social v\xE1lida. "),b())}function fN(n,e){n&1&&(A(0,"div",41),O(1," Debe seleccionar exactamente 2 im\xE1genes. "),b())}function pN(n,e){if(n&1){let t=Xt();A(0,"form",7),re("ngSubmit",function(){Ae(t);let i=ne();return Se(i.onSubmit())}),A(1,"div",8)(2,"div",9)(3,"div",10)(4,"label",11),O(5,"Nombre/s:"),b(),te(6,"input",12),K(7,iN,2,0,"div",13),b(),A(8,"div",10)(9,"label",14),O(10,"Apellido:"),b(),te(11,"input",15),K(12,sN,2,0,"div",13),b(),A(13,"div",10)(14,"label",16),O(15,"Edad:"),b(),te(16,"input",17),K(17,oN,2,0,"div",13),b(),A(18,"div",10)(19,"label",18),O(20,"DNI:"),b(),te(21,"input",19),K(22,aN,2,0,"div",13),b()(),A(23,"div",20)(24,"div",10)(25,"label",21),O(26,"Email:"),b(),te(27,"input",22),K(28,uN,3,2,"div",13),b(),A(29,"div",10)(30,"label",23),O(31,"Contrase\xF1a:"),b(),te(32,"input",24),K(33,dN,2,0,"div",13),b(),A(34,"div",10)(35,"label",45),O(36,"Obra Social:"),b(),te(37,"input",46),K(38,hN,2,0,"div",13),b(),A(39,"div",10)(40,"label",35),O(41,"Subir im\xE1genes (debe seleccionar 2): "),b(),A(42,"input",47),re("change",function(i){Ae(t);let s=ne();return Se(s.onFileChange(i))}),b(),K(43,fN,2,0,"div",13),b()()(),A(44,"div",37)(45,"button",38),O(46,"Registrarse"),b()(),A(47,"div",39),O(48," Ya posees una cuenta? "),A(49,"a",40),re("click",function(){Ae(t);let i=ne();return Se(i.goToLogin())}),O(50," Inicia sesi\xF3n"),b()()()}if(n&2){let t,r,i,s,o,c,l,f=ne();B("formGroup",f.usuarioForm),j(7),B("ngIf",((t=f.usuarioForm.get("nombre"))==null?null:t.invalid)&&(((t=f.usuarioForm.get("nombre"))==null?null:t.touched)||((t=f.usuarioForm.get("nombre"))==null?null:t.dirty))),j(5),B("ngIf",((r=f.usuarioForm.get("apellido"))==null?null:r.invalid)&&(((r=f.usuarioForm.get("apellido"))==null?null:r.touched)||((r=f.usuarioForm.get("apellido"))==null?null:r.dirty))),j(5),B("ngIf",((i=f.usuarioForm.get("edad"))==null?null:i.invalid)&&(((i=f.usuarioForm.get("edad"))==null?null:i.touched)||((i=f.usuarioForm.get("edad"))==null?null:i.dirty))),j(5),B("ngIf",((s=f.usuarioForm.get("dni"))==null?null:s.invalid)&&(((s=f.usuarioForm.get("dni"))==null?null:s.touched)||((s=f.usuarioForm.get("dni"))==null?null:s.dirty))),j(6),B("ngIf",((o=f.usuarioForm.get("email"))==null?null:o.invalid)&&((o=f.usuarioForm.get("email"))==null?null:o.touched)),j(5),B("ngIf",((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.invalid)&&(((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.touched)||((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.dirty))),j(5),B("ngIf",((l=f.usuarioForm.get("obrasocial"))==null?null:l.invalid)&&(((l=f.usuarioForm.get("obrasocial"))==null?null:l.touched)||((l=f.usuarioForm.get("obrasocial"))==null?null:l.dirty))),j(5),B("ngIf",f.imagenesInvalid),j(2),B("disabled",f.usuarioForm.invalid)}}var th=class n{constructor(e,t,r,i,s){this.firestore=e;this.router=t;this.authService=r;this.fb=i;this.storage=s}especialista=!1;otra=!1;especialidades=[];imagenesInvalid=!1;imagenesInvalidEspecialista=!1;loading=!1;usuarioForm;especialistaForm;ngOnInit(){this.usuarioForm=this.fb.group({nombre:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],dni:["",[$.required,$.pattern("^[0-9]*$"),$.maxLength(8),$.minLength(8)]],edad:[[],[$.required,$.pattern("^[0-9]*$"),$.max(125)]],email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]],obrasocial:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD10-9\\s]+$")]],imagenes:[null,this.imageValidator.bind(this)]}),this.especialistaForm=this.fb.group({nombre:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],dni:["",[$.required,$.pattern("^[0-9]*$"),$.maxLength(8),$.minLength(8)]],edad:[[],[$.required,$.pattern("^[0-9]*$"),$.min(21),$.max(65)]],email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]],especialidad:[[],[$.required]],especialidadadicional:[""],imagenes:[null,this.imageValidator.bind(this)]}),this.especialistaForm.get("especialidadadicional")?.clearValidators(),this.especialistaForm.get("especialidadadicional")?.updateValueAndValidity()}imageValidator(e){if(this.especialista){if(!e.value||e.value.length!==1)return{required:!0}}else if(!e.value||e.value.length!==2)return{required:!0};return null}onFileChange(e){let t=e.target.files;if(this.especialista&&t.length===1||!this.especialista&&t.length===2){let r=Array.from(t),i=[];r.forEach((s,o)=>{let c=new FileReader;c.onload=()=>{i.push({dataUrl:c.result}),i.length===r.length&&(this.especialista?(this.especialistaForm.patchValue({imagenes:i}),this.imagenesInvalidEspecialista=!1):(this.usuarioForm.patchValue({imagenes:i}),this.imagenesInvalid=!1))},c.readAsDataURL(s)})}else this.especialista?this.imagenesInvalidEspecialista=!0:this.imagenesInvalid=!0;this.especialistaForm.get("imagenes")?.updateValueAndValidity(),this.usuarioForm.get("imagenes")?.updateValueAndValidity()}toggleEspecialista(){this.usuarioForm.reset(),this.especialistaForm.reset(),this.otra=!1,this.especialista=!this.especialista}onCheckboxChange(e){let t=this.especialidades.indexOf(e);t===-1?(this.especialidades.push(e),e=="Otra"&&(this.otra=!this.otra,this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.setValidators([$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]))):(this.especialidades.splice(t,1),e=="Otra"&&(this.otra=!this.otra,this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.clearValidators())),this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.updateValueAndValidity()}onSubmit(){return E(this,null,function*(){this.loading=!0;let e=this.usuarioForm.get("nombre")?.value,t=this.usuarioForm.get("apellido")?.value,r=this.usuarioForm.get("dni")?.value,i=this.usuarioForm.get("edad")?.value,s=this.usuarioForm.get("email")?.value,o=this.usuarioForm.get("contrase\xF1a")?.value,c=this.usuarioForm.get("obrasocial")?.value;try{yield this.authService.register(s,o);let l=yr(),f=this.usuarioForm.get("imagenes")?.value,_=Gn(l,`usuarios/${s}_1`),g=Gn(l,`usuarios/${s}_2`);yield qn(_,f[0].dataUrl,"data_url");let C=yield zn(_);yield qn(g,f[1].dataUrl,"data_url");let k=yield zn(g),F=_n(this.firestore,"usuarios");yield ps(F,{email:s,dni:r,nombre:e,apellido:t,edad:i,obrasocial:c,foto1:C,foto2:k,tipo:"paciente"}),Vc.default.fire({title:"Usuario creado",text:"El usuario fue creado correctamente. Se envi\xF3 un email para validar la cuenta antes de poder ingresar",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.router.navigate(["login"]),this.loading=!1}catch{Vc.default.fire({title:"Error!",text:"El usuario ya se encuentra en uso",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1}})}onSubmitEspecialista(){return E(this,null,function*(){this.loading=!0;let e=this.especialistaForm.get("nombre")?.value,t=this.especialistaForm.get("apellido")?.value,r=this.especialistaForm.get("dni")?.value,i=this.especialistaForm.get("edad")?.value,s=this.especialistaForm.get("email")?.value,o=this.especialistaForm.get("contrase\xF1a")?.value,l=(this.especialistaForm.get("especialidad")?.value).map(f=>f==="Otra"?this.especialistaForm.get("especialidadadicional")?.value:f);try{yield this.authService.register(s,o);let f=yr(),_=this.especialistaForm.get("imagenes")?.value,g=Gn(f,`usuarios/${s}_1`);yield qn(g,_[0].dataUrl,"data_url");let C=yield zn(g),k=_n(this.firestore,"usuarios");yield ps(k,{email:s,dni:r,nombre:e,apellido:t,edad:i,especialidades:l,foto1:C,tipo:"especialista",estado:"pendiente"}),Vc.default.fire({title:"Usuario creado",text:"El usuario fue creado correctamente. Se envi\xF3 un email para validar la cuenta antes de poder ingresar. Tenga en cuenta que su usuario tambi\xE9n deber\xE1 ser aprobado por un administrador",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1,this.router.navigate(["login"])}catch{Vc.default.fire({title:"Error!",text:"El usuario ya se encuentra en uso",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1}})}goToLogin(){this.router.navigate(["login"])}static \u0275fac=function(t){return new(t||n)(Y(zt),Y(Dt),Y(Ot),Y(Ys),Y(vr))};static \u0275cmp=Ye({type:n,selectors:[["app-registro"]],standalone:!0,features:[Ze],decls:11,vars:3,consts:[[1,"wrapper"],[1,"signup-section"],[3,"loading"],[1,"toggle-group"],["for","clinic-staff"],["type","checkbox","id","clinic-staff","name","clinic-staff",3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"left-column"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","formControlName","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","id","apellido","name","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","name","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","name","dni","formControlName","dni","required",""],[1,"right-column"],["for","email"],["type","email","id","email","name","email","formControlName","email","required",""],["for","contrase\xF1a"],["type","password","id","contrase\xF1a","name","contrase\xF1a","formControlName","contrase\xF1a","required",""],["id","especialidad",1,"especialidad-form-group"],["for","especialidad"],["type","checkbox","value","Pediatria",3,"change"],["type","checkbox","value","Oftalmologia",3,"change"],["type","checkbox","value","Cardiologia",3,"change"],["type","checkbox","value","Cirugia",3,"change"],["type","checkbox","value","General",3,"change"],["type","checkbox","value","Otra",3,"change"],[4,"ngIf"],["class","form-group","style","margin-top: 42px;",4,"ngIf"],["for","imagenes"],["type","file","id","imagenes","name","imagenes","accept","image/*","required","",3,"change"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],[1,"a-container"],[1,"login-link",3,"click"],[1,"error"],[1,"form-group",2,"margin-top","42px"],["for","especialidadadicional"],["type","text","id","especialidadadicional","name","especialidadadicional","formControlName","especialidadadicional"],["for","obrasocial"],["type","text","id","obrasocial","name","obrasocial","formControlName","obrasocial","required",""],["type","file","id","imagenes","name","imagenes","accept","image/*","multiple","","required","",3,"change"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1),te(2,"app-spinner",2),A(3,"h1"),O(4,"Reg\xEDstrate"),b(),A(5,"div",3)(6,"label",4)(7,"input",5),re("click",function(){return r.toggleEspecialista()}),b(),O(8," \xBFEres personal de la cl\xEDnica? "),b()(),K(9,rN,69,11,"form",6)(10,pN,51,10,"form",6),b()()),t&2&&(j(2),B("loading",r.loading),j(7),B("ngIf",r.especialista),j(),B("ngIf",!r.especialista))},dependencies:[Lt,Zt,ti,Js,Zr,Qa,ei,Qs,Gi,qi,zi,Xs,Wn],styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:92.3vh;width:100vw;background-color:#292952;background-image:url("./media/background-O36KHK4D.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.signup-section[_ngcontent-%COMP%]{background-color:#e6edf7;padding:20px 40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;width:50%;min-width:50%;min-height:30%}.signup-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#686868;margin-bottom:20px;text-align:center}.form-grid[_ngcontent-%COMP%]{display:flex;gap:50px}.left-column[_ngcontent-%COMP%], .right-column[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.especialidad-form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;margin-bottom:20px}.especialidad-form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}label[_ngcontent-%COMP%]{font-size:1em;color:#666}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #718199;border-radius:5px;font-size:15px;background-color:#edf4ff}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.a-container[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:center;color:#686868}.login-link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline;margin-left:2px}.login-link[_ngcontent-%COMP%]:hover{text-decoration:none}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.4em;border:none;border-radius:5px;background-color:#3262ff;color:#fff;cursor:pointer;transition:background-color .3s;width:20%}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:disabled:hover{background-color:#ccc;color:#666;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#134aff}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:40px;height:20px;background-color:#ccc;border-radius:20px;position:relative;cursor:pointer;outline:none}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#3262ff}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:after{left:20px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;border-radius:50%;background-color:#fff;top:2px;transition:.3s}.error[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:5px}.imagenes[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff}']})};var B_=la(Mo());function mN(n,e){n&1&&(A(0,"p"),O(1,"Ingrese su correo."),b())}function gN(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function _N(n,e){if(n&1&&(A(0,"div",20),K(1,mN,2,0,"p",21)(2,gN,2,0,"p",21),b()),n&2){let t,r,i=ne();j(),B("ngIf",(t=i.form.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.form.get("email"))==null||r.errors==null?null:r.errors.email)}}function yN(n,e){n&1&&(A(0,"p"),O(1,"Ingrese su contrase\xF1a."),b())}function vN(n,e){n&1&&(A(0,"p"),O(1,"La contrase\xF1a es muy corta."),b())}function wN(n,e){if(n&1&&(A(0,"div",20),K(1,yN,2,0,"p",21)(2,vN,2,0,"p",21),b()),n&2){let t,r,i=ne();j(),B("ngIf",(t=i.form.get("contrase\xF1a"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.form.get("contrase\xF1a"))==null||r.errors==null?null:r.errors.minlength)}}var nh=class n{constructor(e,t,r,i){this.fb=e;this.router=t;this.auth=r;this.firestore=i}form;email1="paciente@prueba.com";email2="especialista@prueba.com";email3="administrador@prueba.com";password="test123";loading=!1;ngOnInit(){this.form=this.fb.group({email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]]})}onLogin(){return E(this,null,function*(){this.loading=!0;try{let e=yield this.auth.login(this.form.get("email")?.value,this.form.get("contrase\xF1a")?.value),t=_n(this.firestore,"usuarios"),r=qE(t,GE("email","==",e.email)),s=(yield Kd(r)).docs.map(c=>H({id:c.id},c.data()));this.auth.mailUsuario=s[0].email,this.auth.tipoUsuario=s[0].tipo,this.auth.nombreUsuario=s[0].nombre;let o=s[0].estado;switch(this.auth.tipoUsuario){case"paciente":this.router.navigate(["perfil"]);break;case"admin":this.router.navigate(["usuarios"]);break;case"especialista":if(o!="aprobado")throw this.auth.logout(),new Error("Su usuario debe ser aprobado por un administrador primero");this.router.navigate(["perfil"]);break;default:this.router.navigate(["perfil"])}this.loading=!1}catch(e){e instanceof Error&&(e.message=="Firebase: Error (auth/invalid-credential)."?(B_.default.fire({title:"Error!",text:"Usuario y/o contrase\xF1a incorrectos",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1):(B_.default.fire({title:"Error!",text:e.message,icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1))}})}goToRegister(){this.router.navigate(["registro"])}completarAccesoRapido(e,t){this.form.patchValue({email:e,contrase\u00F1a:t})}static \u0275fac=function(t){return new(t||n)(Y(Ys),Y(Dt),Y(Ot),Y(zt))};static \u0275cmp=Ye({type:n,selectors:[["app-login"]],standalone:!0,features:[Ze],decls:34,vars:5,consts:[[1,"wrapper"],[1,"signup-section"],[3,"loading"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","formControlName","email","required",""],["class","error",4,"ngIf"],["for","contrase\xF1a"],["type","password","id","contrase\xF1a","name","contrase\xF1a","formControlName","contrase\xF1a","required",""],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],[1,"quick-login-section"],[1,"quick-login-buttons"],[1,"quick-login-btn","paciente",3,"click"],[1,"quick-login-btn","especialista",3,"click"],[1,"quick-login-btn","administrador",3,"click"],[1,"a-container"],[1,"login-link",3,"click"],[1,"error"],[4,"ngIf"]],template:function(t,r){if(t&1&&(A(0,"div",0)(1,"div",1),te(2,"app-spinner",2),A(3,"h1"),O(4,"Iniciar sesi\xF3n"),b(),A(5,"form",3),re("ngSubmit",function(){return r.onLogin()}),A(6,"div",4)(7,"div",5)(8,"label",6),O(9,"Email:"),b(),te(10,"input",7),K(11,_N,3,2,"div",8),b(),A(12,"div",5)(13,"label",9),O(14,"Contrase\xF1a:"),b(),te(15,"input",10),K(16,wN,3,2,"div",8),b()(),A(17,"div",11)(18,"button",12),O(19,"Iniciar sesi\xF3n"),b()()(),A(20,"div",13)(21,"h3"),O(22,"Inicio de sesi\xF3n r\xE1pido"),b(),A(23,"div",14)(24,"button",15),re("click",function(){return r.completarAccesoRapido(r.email1,r.password)}),O(25,"Completar datos paciente"),b(),A(26,"button",16),re("click",function(){return r.completarAccesoRapido(r.email2,r.password)}),O(27,"Completar datos especialista"),b(),A(28,"button",17),re("click",function(){return r.completarAccesoRapido(r.email3,r.password)}),O(29,"Completar datos administrador"),b()()(),A(30,"div",18),O(31," No posees una cuenta a\xFAn? "),A(32,"a",19),re("click",function(){return r.goToRegister()}),O(33," Registrarse"),b()()()()),t&2){let i,s;j(2),B("loading",r.loading),j(3),B("formGroup",r.form),j(6),B("ngIf",((i=r.form.get("email"))==null?null:i.invalid)&&((i=r.form.get("email"))==null?null:i.touched)),j(5),B("ngIf",((s=r.form.get("contrase\xF1a"))==null?null:s.invalid)&&(((s=r.form.get("contrase\xF1a"))==null?null:s.touched)||((s=r.form.get("contrase\xF1a"))==null?null:s.dirty))),j(2),B("disabled",r.form.invalid)}},dependencies:[Lt,Zt,ti,Js,Zr,ei,Qs,Gi,qi,zi,Wn],styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:92.3vh;width:100vw;background-color:#292952;background-image:url("./media/background-O36KHK4D.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.signup-section[_ngcontent-%COMP%]{background-color:#e6edf7;padding:20px 40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;width:40%;min-width:300px;max-width:600px}.signup-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#686868;margin-bottom:20px;text-align:center}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-size:1em;color:#666}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #718199;border-radius:5px;font-size:15px;background-color:#edf4ff}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.a-container[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:center;color:#686868}.login-link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline;margin-left:2px}.login-link[_ngcontent-%COMP%]:hover{text-decoration:none}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.4em;border:none;border-radius:5px;background-color:#3262ff;color:#fff;cursor:pointer;transition:background-color .3s;width:auto;margin-top:10px}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#134aff}.error[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:5px}.quick-login-section[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.quick-login-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:#686868;margin-bottom:15px}.quick-login-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:10px}.quick-login-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s;color:#fff}.paciente[_ngcontent-%COMP%]{background-color:#db4437}.especialista[_ngcontent-%COMP%]{background-color:#4267b2}.administrador[_ngcontent-%COMP%]{background-color:#1da1f2}.quick-login-btn[_ngcontent-%COMP%]:hover{opacity:.9}']})};var rh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ye({type:n,selectors:[["app-perfil"]],standalone:!0,features:[Ze],decls:4,vars:0,consts:[[1,"wrapper"],[1,"perfil-section"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),O(3," Mi Perfil "),b()()())},styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:92.3vh;width:100vw;background-color:#292952;background-image:url("./media/background-O36KHK4D.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.perfil-section[_ngcontent-%COMP%]{background-color:#e6edf7;padding:20px 40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;width:85%;min-width:85%;min-height:700px}.perfil-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#686868;margin-bottom:20px;text-align:center}']})};var ms=la(Mo());function bN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un nombre v\xE1lido. "),b())}function EN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un apellido v\xE1lido. "),b())}function IN(n,e){n&1&&(A(0,"div",39),O(1," Ingrese una edad valida (mayor a 21 y menor a 65 a\xF1os). "),b())}function TN(n,e){n&1&&(A(0,"div",39),O(1," El documento es requerido y debe ser num\xE9rico (8 caracteres). "),b())}function CN(n,e){n&1&&(A(0,"p"),O(1,"El correo es requerido."),b())}function AN(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function SN(n,e){if(n&1&&(A(0,"div",39),K(1,CN,2,0,"p",33)(2,AN,2,0,"p",33),b()),n&2){let t,r,i=ne(2);j(),B("ngIf",(t=i.especialistaForm.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.especialistaForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function RN(n,e){n&1&&(A(0,"div",39),O(1," La contrase\xF1a es requerida y debe tener m\xEDnimo 6 caracteres. "),b())}function PN(n,e){n&1&&(A(0,"div")(1,"small",39),O(2,"Debe seleccionar al menos una opci\xF3n."),b()())}function xN(n,e){n&1&&(A(0,"div",39),O(1," Ingrese una especialidad v\xE1lida. "),b())}function DN(n,e){if(n&1&&(A(0,"div",40)(1,"label",41),O(2,"Especialidad adicional:"),b(),te(3,"input",42),K(4,xN,2,0,"div",13),b()),n&2){let t,r=ne(2);j(4),B("ngIf",((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.invalid)&&(((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.touched)||((t=r.especialistaForm.get("especialidadadicional"))==null?null:t.dirty)))}}function kN(n,e){n&1&&(A(0,"div",39),O(1," Debe seleccionar exactamente 1 im\xE1gen. "),b())}function ON(n,e){if(n&1){let t=Xt();A(0,"form",7),re("ngSubmit",function(){Ae(t);let i=ne();return Se(i.onSubmitEspecialista())}),A(1,"div",8)(2,"div",9)(3,"div",10)(4,"label",11),O(5,"Nombre/s:"),b(),te(6,"input",12),K(7,bN,2,0,"div",13),b(),A(8,"div",10)(9,"label",14),O(10,"Apellido:"),b(),te(11,"input",15),K(12,EN,2,0,"div",13),b(),A(13,"div",10)(14,"label",16),O(15,"Edad:"),b(),te(16,"input",17),K(17,IN,2,0,"div",13),b(),A(18,"div",10)(19,"label",18),O(20,"DNI:"),b(),te(21,"input",19),K(22,TN,2,0,"div",13),b()(),A(23,"div",20)(24,"div",10)(25,"label",21),O(26,"Email:"),b(),te(27,"input",22),K(28,SN,3,2,"div",13),b(),A(29,"div",10)(30,"label",23),O(31,"Contrase\xF1a:"),b(),te(32,"input",24),K(33,RN,2,0,"div",13),b(),A(34,"div",25)(35,"label",26),O(36,"Especialidad:"),b(),A(37,"label")(38,"input",27),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Pediatria"))}),b(),O(39,"Pediatria "),b(),A(40,"label")(41,"input",28),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Oftalmologia"))}),b(),O(42,"Oftalmologia "),b(),A(43,"label")(44,"input",29),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Cardiologia"))}),b(),O(45,"Cardiologia "),b(),A(46,"label")(47,"input",30),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Cirugia"))}),b(),O(48,"Cirugia "),b(),A(49,"label")(50,"input",31),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("General"))}),b(),O(51,"General "),b(),A(52,"label")(53,"input",32),re("change",function(){Ae(t);let i=ne();return Se(i.onCheckboxChange("Otra"))}),b(),O(54,"Otra "),b(),K(55,PN,3,0,"div",33),b(),K(56,DN,5,1,"div",34),A(57,"div",10)(58,"label",35),O(59,"Subir im\xE1gen de perfil:"),b(),A(60,"input",36),re("change",function(i){Ae(t);let s=ne();return Se(s.onFileChange(i))}),b(),K(61,kN,2,0,"div",13),b()()(),A(62,"div",37)(63,"button",38),O(64,"Crear Cuenta"),b()()()}if(n&2){let t,r,i,s,o,c,l,f=ne();B("formGroup",f.especialistaForm),j(7),B("ngIf",((t=f.especialistaForm.get("nombre"))==null?null:t.invalid)&&(((t=f.especialistaForm.get("nombre"))==null?null:t.touched)||((t=f.especialistaForm.get("nombre"))==null?null:t.dirty))),j(5),B("ngIf",((r=f.especialistaForm.get("apellido"))==null?null:r.invalid)&&(((r=f.especialistaForm.get("apellido"))==null?null:r.touched)||((r=f.especialistaForm.get("apellido"))==null?null:r.dirty))),j(5),B("ngIf",((i=f.especialistaForm.get("edad"))==null?null:i.invalid)&&(((i=f.especialistaForm.get("edad"))==null?null:i.touched)||((i=f.especialistaForm.get("edad"))==null?null:i.dirty))),j(5),B("ngIf",((s=f.especialistaForm.get("dni"))==null?null:s.invalid)&&(((s=f.especialistaForm.get("dni"))==null?null:s.touched)||((s=f.especialistaForm.get("dni"))==null?null:s.dirty))),j(6),B("ngIf",((o=f.especialistaForm.get("email"))==null?null:o.invalid)&&((o=f.especialistaForm.get("email"))==null?null:o.touched)),j(5),B("ngIf",((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.invalid)&&(((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.touched)||((c=f.especialistaForm.get("contrase\xF1a"))==null?null:c.dirty))),j(22),B("ngIf",(l=f.especialistaForm.get("especialidad"))==null?null:l.invalid),j(),B("ngIf",f.otra),j(5),B("ngIf",f.imagenesInvalidEspecialista),j(2),B("disabled",f.especialistaForm.invalid)}}function NN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un nombre v\xE1lido. "),b())}function MN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un apellido v\xE1lido. "),b())}function VN(n,e){n&1&&(A(0,"div",39),O(1," Ingrese una edad valida (menor a 125 a\xF1os). "),b())}function FN(n,e){n&1&&(A(0,"div",39),O(1," El documento es requerido y debe ser num\xE9rico (8 caracteres). "),b())}function LN(n,e){n&1&&(A(0,"p"),O(1,"El correo es requerido."),b())}function UN(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function BN(n,e){if(n&1&&(A(0,"div",39),K(1,LN,2,0,"p",33)(2,UN,2,0,"p",33),b()),n&2){let t,r,i=ne(2);j(),B("ngIf",(t=i.usuarioForm.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.usuarioForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function jN(n,e){n&1&&(A(0,"div",39),O(1," La contrase\xF1a es requerida y debe tener m\xEDnimo 6 caracteres. "),b())}function $N(n,e){n&1&&(A(0,"div",39),O(1," Ingrese una obra social v\xE1lida. "),b())}function qN(n,e){n&1&&(A(0,"div",39),O(1," Debe seleccionar exactamente 2 im\xE1genes. "),b())}function zN(n,e){if(n&1){let t=Xt();A(0,"form",7),re("ngSubmit",function(){Ae(t);let i=ne();return Se(i.onSubmit())}),A(1,"div",8)(2,"div",9)(3,"div",10)(4,"label",11),O(5,"Nombre/s:"),b(),te(6,"input",12),K(7,NN,2,0,"div",13),b(),A(8,"div",10)(9,"label",14),O(10,"Apellido:"),b(),te(11,"input",15),K(12,MN,2,0,"div",13),b(),A(13,"div",10)(14,"label",16),O(15,"Edad:"),b(),te(16,"input",17),K(17,VN,2,0,"div",13),b(),A(18,"div",10)(19,"label",18),O(20,"DNI:"),b(),te(21,"input",19),K(22,FN,2,0,"div",13),b()(),A(23,"div",20)(24,"div",10)(25,"label",21),O(26,"Email:"),b(),te(27,"input",22),K(28,BN,3,2,"div",13),b(),A(29,"div",10)(30,"label",23),O(31,"Contrase\xF1a:"),b(),te(32,"input",24),K(33,jN,2,0,"div",13),b(),A(34,"div",10)(35,"label",43),O(36,"Obra Social:"),b(),te(37,"input",44),K(38,$N,2,0,"div",13),b(),A(39,"div",10)(40,"label",35),O(41,"Subir im\xE1genes (debe seleccionar 2): "),b(),A(42,"input",45),re("change",function(i){Ae(t);let s=ne();return Se(s.onFileChange(i))}),b(),K(43,qN,2,0,"div",13),b()()(),A(44,"div",37)(45,"button",38),O(46,"Crear Cuenta"),b()()()}if(n&2){let t,r,i,s,o,c,l,f=ne();B("formGroup",f.usuarioForm),j(7),B("ngIf",((t=f.usuarioForm.get("nombre"))==null?null:t.invalid)&&(((t=f.usuarioForm.get("nombre"))==null?null:t.touched)||((t=f.usuarioForm.get("nombre"))==null?null:t.dirty))),j(5),B("ngIf",((r=f.usuarioForm.get("apellido"))==null?null:r.invalid)&&(((r=f.usuarioForm.get("apellido"))==null?null:r.touched)||((r=f.usuarioForm.get("apellido"))==null?null:r.dirty))),j(5),B("ngIf",((i=f.usuarioForm.get("edad"))==null?null:i.invalid)&&(((i=f.usuarioForm.get("edad"))==null?null:i.touched)||((i=f.usuarioForm.get("edad"))==null?null:i.dirty))),j(5),B("ngIf",((s=f.usuarioForm.get("dni"))==null?null:s.invalid)&&(((s=f.usuarioForm.get("dni"))==null?null:s.touched)||((s=f.usuarioForm.get("dni"))==null?null:s.dirty))),j(6),B("ngIf",((o=f.usuarioForm.get("email"))==null?null:o.invalid)&&((o=f.usuarioForm.get("email"))==null?null:o.touched)),j(5),B("ngIf",((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.invalid)&&(((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.touched)||((c=f.usuarioForm.get("contrase\xF1a"))==null?null:c.dirty))),j(5),B("ngIf",((l=f.usuarioForm.get("obrasocial"))==null?null:l.invalid)&&(((l=f.usuarioForm.get("obrasocial"))==null?null:l.touched)||((l=f.usuarioForm.get("obrasocial"))==null?null:l.dirty))),j(5),B("ngIf",f.imagenesInvalid),j(2),B("disabled",f.usuarioForm.invalid)}}function GN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un nombre v\xE1lido. "),b())}function HN(n,e){n&1&&(A(0,"div",39),O(1," Se requiere un apellido v\xE1lido. "),b())}function WN(n,e){n&1&&(A(0,"div",39),O(1," Ingrese una edad valida (mayor a 21 y menor a 65 a\xF1os). "),b())}function KN(n,e){n&1&&(A(0,"div",39),O(1," El documento es requerido y debe ser num\xE9rico (8 caracteres). "),b())}function QN(n,e){n&1&&(A(0,"p"),O(1,"El correo es requerido."),b())}function JN(n,e){n&1&&(A(0,"p"),O(1,"El formato del correo no es v\xE1lido."),b())}function YN(n,e){if(n&1&&(A(0,"div",39),K(1,QN,2,0,"p",33)(2,JN,2,0,"p",33),b()),n&2){let t,r,i=ne(2);j(),B("ngIf",(t=i.adminForm.get("email"))==null||t.errors==null?null:t.errors.required),j(),B("ngIf",(r=i.adminForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function XN(n,e){n&1&&(A(0,"div",39),O(1," La contrase\xF1a es requerida y debe tener m\xEDnimo 6 caracteres. "),b())}function ZN(n,e){n&1&&(A(0,"div",39),O(1," Debe seleccionar exactamente 1 im\xE1gen. "),b())}function eM(n,e){if(n&1){let t=Xt();A(0,"form",7),re("ngSubmit",function(){Ae(t);let i=ne();return Se(i.onSubmitAdministrador())}),A(1,"div",8)(2,"div",9)(3,"div",10)(4,"label",11),O(5,"Nombre/s:"),b(),te(6,"input",12),K(7,GN,2,0,"div",13),b(),A(8,"div",10)(9,"label",14),O(10,"Apellido:"),b(),te(11,"input",15),K(12,HN,2,0,"div",13),b(),A(13,"div",10)(14,"label",16),O(15,"Edad:"),b(),te(16,"input",17),K(17,WN,2,0,"div",13),b(),A(18,"div",10)(19,"label",18),O(20,"DNI:"),b(),te(21,"input",19),K(22,KN,2,0,"div",13),b()(),A(23,"div",20)(24,"div",10)(25,"label",21),O(26,"Email:"),b(),te(27,"input",22),K(28,YN,3,2,"div",13),b(),A(29,"div",10)(30,"label",23),O(31,"Contrase\xF1a:"),b(),te(32,"input",24),K(33,XN,2,0,"div",13),b(),A(34,"div",10)(35,"label",35),O(36,"Subir im\xE1gen de perfil:"),b(),A(37,"input",36),re("change",function(i){Ae(t);let s=ne();return Se(s.onFileChange(i))}),b(),K(38,ZN,2,0,"div",13),b()()(),A(39,"div",37)(40,"button",38),O(41,"Crear Cuenta"),b()()()}if(n&2){let t,r,i,s,o,c,l=ne();B("formGroup",l.adminForm),j(7),B("ngIf",((t=l.adminForm.get("nombre"))==null?null:t.invalid)&&(((t=l.adminForm.get("nombre"))==null?null:t.touched)||((t=l.adminForm.get("nombre"))==null?null:t.dirty))),j(5),B("ngIf",((r=l.adminForm.get("apellido"))==null?null:r.invalid)&&(((r=l.adminForm.get("apellido"))==null?null:r.touched)||((r=l.adminForm.get("apellido"))==null?null:r.dirty))),j(5),B("ngIf",((i=l.adminForm.get("edad"))==null?null:i.invalid)&&(((i=l.adminForm.get("edad"))==null?null:i.touched)||((i=l.adminForm.get("edad"))==null?null:i.dirty))),j(5),B("ngIf",((s=l.adminForm.get("dni"))==null?null:s.invalid)&&(((s=l.adminForm.get("dni"))==null?null:s.touched)||((s=l.adminForm.get("dni"))==null?null:s.dirty))),j(6),B("ngIf",((o=l.adminForm.get("email"))==null?null:o.invalid)&&((o=l.adminForm.get("email"))==null?null:o.touched)),j(5),B("ngIf",((c=l.adminForm.get("contrase\xF1a"))==null?null:c.invalid)&&(((c=l.adminForm.get("contrase\xF1a"))==null?null:c.touched)||((c=l.adminForm.get("contrase\xF1a"))==null?null:c.dirty))),j(5),B("ngIf",l.imagenesInvalidAdministrador),j(2),B("disabled",l.adminForm.invalid)}}var ih=class n{constructor(e,t,r,i,s){this.firestore=e;this.router=t;this.authService=r;this.fb=i;this.storage=s}especialista=!1;otra=!1;especialidades=[];imagenesInvalid=!1;imagenesInvalidEspecialista=!1;imagenesInvalidAdministrador=!1;selectedUserType="paciente";usuarioForm;especialistaForm;adminForm;loading=!1;ngOnInit(){this.usuarioForm=this.fb.group({nombre:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],dni:["",[$.required,$.pattern("^[0-9]*$"),$.maxLength(8),$.minLength(8)]],edad:[[],[$.required,$.pattern("^[0-9]*$"),$.max(125)]],email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]],obrasocial:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD10-9\\s]+$")]],imagenes:[null,this.imageValidator.bind(this)]}),this.especialistaForm=this.fb.group({nombre:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],dni:["",[$.required,$.pattern("^[0-9]*$"),$.maxLength(8),$.minLength(8)]],edad:[[],[$.required,$.pattern("^[0-9]*$"),$.min(21),$.max(65)]],email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]],especialidad:[[],[$.required]],especialidadadicional:[""],imagenes:[null,this.imageValidator.bind(this)]}),this.adminForm=this.fb.group({nombre:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],apellido:["",[$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]],dni:["",[$.required,$.pattern("^[0-9]*$"),$.maxLength(8),$.minLength(8)]],edad:[[],[$.required,$.pattern("^[0-9]*$"),$.min(21),$.max(65)]],email:["",[$.required,$.email]],contrase\u00F1a:["",[$.required,$.minLength(6)]],imagenes:[null,this.imageValidator.bind(this)]}),this.especialistaForm.get("especialidadadicional")?.clearValidators(),this.especialistaForm.get("especialidadadicional")?.updateValueAndValidity()}imageValidator(e){if(this.selectedUserType=="especialista"){if(!e.value||e.value.length!==1)return{required:!0}}else if(this.selectedUserType=="administrador"){if(!e.value||e.value.length!==1)return{required:!0}}else if(!e.value||e.value.length!==2)return{required:!0};return null}onFileChange(e){let t=e.target.files;if((this.selectedUserType=="especialista"||this.selectedUserType=="administrador")&&t.length===1||this.selectedUserType!="especialista"&&t.length===2){let r=Array.from(t),i=[];r.forEach((s,o)=>{let c=new FileReader;c.onload=()=>{i.push({dataUrl:c.result}),i.length===r.length&&(this.selectedUserType=="especialista"?(this.especialistaForm.patchValue({imagenes:i}),this.imagenesInvalidEspecialista=!1):this.selectedUserType=="paciente"?(this.usuarioForm.patchValue({imagenes:i}),this.imagenesInvalid=!1):(this.adminForm.patchValue({imagenes:i}),this.imagenesInvalidAdministrador=!1))},c.readAsDataURL(s)})}else this.selectedUserType=="especialista"?this.imagenesInvalidEspecialista=!0:this.selectedUserType=="paciente"?this.imagenesInvalid=!0:this.imagenesInvalidAdministrador=!0;this.especialistaForm.get("imagenes")?.updateValueAndValidity(),this.usuarioForm.get("imagenes")?.updateValueAndValidity(),this.adminForm.get("imagenes")?.updateValueAndValidity()}onCheckboxChange(e){let t=this.especialidades.indexOf(e);t===-1?(this.especialidades.push(e),e=="Otra"&&(this.otra=!this.otra,this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.setValidators([$.required,$.pattern("^(?!\\s*$)[a-zA-Z\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA\xF1\xD1\\s]+$")]))):(this.especialidades.splice(t,1),e=="Otra"&&(this.otra=!this.otra,this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.clearValidators())),this.especialistaForm.patchValue({especialidad:this.especialidades}),this.especialistaForm.get("especialidadadicional")?.updateValueAndValidity()}onSubmit(){return E(this,null,function*(){this.loading=!0;let e=this.usuarioForm.get("nombre")?.value,t=this.usuarioForm.get("apellido")?.value,r=this.usuarioForm.get("dni")?.value,i=this.usuarioForm.get("edad")?.value,s=this.usuarioForm.get("email")?.value,o=this.usuarioForm.get("contrase\xF1a")?.value,c=this.usuarioForm.get("obrasocial")?.value;try{yield this.authService.register(s,o);let l=yr(),f=this.usuarioForm.get("imagenes")?.value,_=Gn(l,`usuarios/${s}_1`),g=Gn(l,`usuarios/${s}_2`);yield qn(_,f[0].dataUrl,"data_url");let C=yield zn(_);yield qn(g,f[1].dataUrl,"data_url");let k=yield zn(g),F=_n(this.firestore,"usuarios");yield ps(F,{email:s,dni:r,nombre:e,apellido:t,edad:i,obrasocial:c,foto1:C,foto2:k,tipo:"paciente"}),ms.default.fire({title:"Usuario creado",text:"El usuario fue creado correctamente. Se envi\xF3 un email para que el usuario valide la cuenta antes de poder ingresar",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.router.navigate(["login"]),this.loading=!1}catch{ms.default.fire({title:"Error!",text:"El usuario ya se encuentra en uso",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1}})}onSubmitEspecialista(){return E(this,null,function*(){this.loading=!0;let e=this.especialistaForm.get("nombre")?.value,t=this.especialistaForm.get("apellido")?.value,r=this.especialistaForm.get("dni")?.value,i=this.especialistaForm.get("edad")?.value,s=this.especialistaForm.get("email")?.value,o=this.especialistaForm.get("contrase\xF1a")?.value,l=(this.especialistaForm.get("especialidad")?.value).map(f=>f==="Otra"?this.especialistaForm.get("especialidadadicional")?.value:f);try{yield this.authService.register(s,o);let f=yr(),_=this.especialistaForm.get("imagenes")?.value,g=Gn(f,`usuarios/${s}_1`);yield qn(g,_[0].dataUrl,"data_url");let C=yield zn(g),k=_n(this.firestore,"usuarios");yield ps(k,{email:s,dni:r,nombre:e,apellido:t,edad:i,especialidades:l,foto1:C,tipo:"especialista",estado:"aprobado"}),ms.default.fire({title:"Usuario creado",text:"El usuario fue creado correctamente. Se envi\xF3 un email para que el usuario valide la cuenta antes de poder ingresar.",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1,this.router.navigate(["login"])}catch{ms.default.fire({title:"Error!",text:"El usuario ya se encuentra en uso",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1}})}goToLogin(){this.router.navigate(["login"])}onUserTypeChange(e){let t=e.target;this.selectedUserType=t.value,console.log("Tipo de usuario seleccionado:",this.selectedUserType)}onSubmitAdministrador(){return E(this,null,function*(){this.loading=!0;let e=this.adminForm.get("nombre")?.value,t=this.adminForm.get("apellido")?.value,r=this.adminForm.get("dni")?.value,i=this.adminForm.get("edad")?.value,s=this.adminForm.get("email")?.value,o=this.adminForm.get("contrase\xF1a")?.value;try{yield this.authService.register(s,o);let c=yr(),l=this.adminForm.get("imagenes")?.value,f=Gn(c,`usuarios/${s}_1`);yield qn(f,l[0].dataUrl,"data_url");let _=yield zn(f),g=_n(this.firestore,"usuarios");yield ps(g,{email:s,dni:r,nombre:e,apellido:t,edad:i,foto1:_,tipo:"admin",estado:""}),ms.default.fire({title:"Usuario creado",text:"El usuario fue creado correctamente. Se envi\xF3 un email para que el usuario valide la cuenta antes de poder ingresar",icon:"success",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1,this.router.navigate(["login"])}catch{ms.default.fire({title:"Error!",text:"El usuario ya se encuentra en uso",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),this.loading=!1}})}static \u0275fac=function(t){return new(t||n)(Y(zt),Y(Dt),Y(Ot),Y(Ys),Y(vr))};static \u0275cmp=Ye({type:n,selectors:[["app-alta"]],standalone:!0,features:[Ze],decls:13,vars:4,consts:[[3,"loading"],["for","userType"],["id","userType",2,"margin-left","4px","font-size","medium",3,"change"],["value","administrador"],["value","especialista"],["value","paciente","selected",""],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-grid"],[1,"left-column"],[1,"form-group"],["for","nombre"],["type","text","id","nombre","name","nombre","formControlName","nombre","required",""],["class","error",4,"ngIf"],["for","apellido"],["type","text","id","apellido","name","apellido","formControlName","apellido","required",""],["for","edad"],["type","number","id","edad","name","edad","formControlName","edad","required",""],["for","dni"],["type","text","id","dni","name","dni","formControlName","dni","required",""],[1,"right-column"],["for","email"],["type","email","id","email","name","email","formControlName","email","required",""],["for","contrase\xF1a"],["type","password","id","contrase\xF1a","name","contrase\xF1a","formControlName","contrase\xF1a","required",""],["id","especialidad",1,"especialidad-form-group"],["for","especialidad"],["type","checkbox","value","Pediatria",3,"change"],["type","checkbox","value","Oftalmologia",3,"change"],["type","checkbox","value","Cardiologia",3,"change"],["type","checkbox","value","Cirugia",3,"change"],["type","checkbox","value","General",3,"change"],["type","checkbox","value","Otra",3,"change"],[4,"ngIf"],["class","form-group","style","margin-top: 42px;",4,"ngIf"],["for","imagenes"],["type","file","id","imagenes","name","imagenes","accept","image/*","required","",3,"change"],[1,"button-container"],["type","submit",1,"submit-btn",3,"disabled"],[1,"error"],[1,"form-group",2,"margin-top","42px"],["for","especialidadadicional"],["type","text","id","especialidadadicional","name","especialidadadicional","formControlName","especialidadadicional"],["for","obrasocial"],["type","text","id","obrasocial","name","obrasocial","formControlName","obrasocial","required",""],["type","file","id","imagenes","name","imagenes","accept","image/*","multiple","","required","",3,"change"]],template:function(t,r){t&1&&(te(0,"app-spinner",0),A(1,"label",1),O(2,"Tipo de usuario:"),b(),A(3,"select",2),re("change",function(s){return r.onUserTypeChange(s)}),A(4,"option",3),O(5,"Administrador"),b(),A(6,"option",4),O(7,"Especialista"),b(),A(8,"option",5),O(9,"Paciente"),b()(),K(10,ON,65,11,"form",6)(11,zN,47,10,"form",6)(12,eM,42,9,"form",6)),t&2&&(B("loading",r.loading),j(10),B("ngIf",r.selectedUserType=="especialista"),j(),B("ngIf",r.selectedUserType=="paciente"),j(),B("ngIf",r.selectedUserType=="administrador"))},dependencies:[Lt,Zt,ti,Js,Au,Su,Zr,Qa,ei,Qs,Gi,qi,zi,Xs,Wn],styles:['@charset "UTF-8";.signup-section[_ngcontent-%COMP%]{background-color:#e6edf7;padding:20px 40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;width:50%;min-width:50%;min-height:30%}.signup-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#686868;margin-bottom:20px;text-align:center}.form-grid[_ngcontent-%COMP%]{display:flex;gap:50px}.left-column[_ngcontent-%COMP%], .right-column[_ngcontent-%COMP%]{flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.especialidad-form-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;margin-bottom:20px}.especialidad-form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:10px}label[_ngcontent-%COMP%]{font-size:1em;color:#666}input[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #718199;border-radius:5px;font-size:15px;background-color:#edf4ff}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.a-container[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:center;color:#686868}.login-link[_ngcontent-%COMP%]{color:#007bff;cursor:pointer;text-decoration:underline;margin-left:2px}.login-link[_ngcontent-%COMP%]:hover{text-decoration:none}.submit-btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.4em;border:none;border-radius:5px;background-color:#3262ff;color:#fff;cursor:pointer;transition:background-color .3s;width:20%}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:disabled:hover{background-color:#ccc;color:#666;cursor:not-allowed}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#134aff}.toggle-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:40px;height:20px;background-color:#ccc;border-radius:20px;position:relative;cursor:pointer;outline:none}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#3262ff}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:after{left:20px}.toggle-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;border-radius:50%;background-color:#fff;top:2px;transition:.3s}.error[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:5px}.imagenes[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff}']})};var vI=n=>({"active-tab":n});function tM(n,e){n&1&&(A(0,"div"),te(1,"app-alta"),b())}function nM(n,e){n&1&&(pa(0),A(1,"th"),O(2,"Activo"),b(),ma())}function rM(n,e){n&1&&(pa(0),A(1,"th"),O(2,"Obra Social"),b(),ma())}function iM(n,e){if(n&1){let t=Xt();pa(0),A(1,"input",15),re("change",function(i){Ae(t);let s=ne().$implicit,o=ne(3);return Se(o.toggleEstado(s,i))}),b(),ma()}if(n&2){let t=ne().$implicit;j(),B("checked",t.estado==="aprobado")}}function sM(n,e){if(n&1&&(pa(0),A(1,"td"),O(2),b(),ma()),n&2){let t=ne().$implicit;j(2),ga(t.obrasocial)}}function oM(n,e){if(n&1&&(A(0,"tr")(1,"td"),O(2),b(),A(3,"td"),O(4),b(),A(5,"td"),O(6),b(),A(7,"td"),O(8),b(),K(9,iM,2,1,"ng-container",7)(10,sM,3,1,"ng-container",7),b()),n&2){let t=e.$implicit,r=ne(3);j(2),Iy("",t.nombre," ",t.apellido,""),j(2),ga(t.dni),j(2),ga(t.edad),j(2),ga(t.email),j(),B("ngIf",r.selectedUserType=="especialista"),j(),B("ngIf",r.selectedUserType=="paciente")}}function aM(n,e){if(n&1&&(A(0,"div")(1,"table")(2,"thead")(3,"tr")(4,"th"),O(5,"Nombre Completo"),b(),A(6,"th"),O(7,"DNI"),b(),A(8,"th"),O(9,"Edad"),b(),A(10,"th"),O(11,"Email"),b(),K(12,nM,3,0,"ng-container",7)(13,rM,3,0,"ng-container",7),b()(),A(14,"tbody"),K(15,oM,11,7,"tr",14),b()()()),n&2){let t=ne(2);j(12),B("ngIf",t.selectedUserType=="especialista"),j(),B("ngIf",t.selectedUserType=="paciente"),j(2),B("ngForOf",t.usuariosFiltrados)}}function cM(n,e){if(n&1){let t=Xt();A(0,"div")(1,"div",8)(2,"label",9),O(3,"Filtrar por tipo de usuario:"),b(),A(4,"select",10),Ay("ngModelChange",function(i){Ae(t);let s=ne();return Cy(s.selectedUserType,i)||(s.selectedUserType=i),Se(i)}),re("change",function(){Ae(t);let i=ne();return Se(i.filterUsers())}),A(5,"option",11),O(6,"Administrador"),b(),A(7,"option",12),O(8,"Especialista"),b(),A(9,"option",13),O(10,"Paciente"),b()()(),K(11,aM,16,3,"div",7),b()}if(n&2){let t=ne();j(4),Ty("ngModel",t.selectedUserType),j(7),B("ngIf",t.usuarios.length>0)}}var sh=class n{constructor(e){this.firestore=e}activeTab="listado";usuarios=[];usuariosFiltrados=[];selectedUserType="especialista";loading=!1;ngOnInit(){return E(this,null,function*(){yield this.obtenerUsuarios(),this.filterUsers()})}obtenerUsuarios(){return E(this,null,function*(){this.loading=!0;let e=_n(this.firestore,"usuarios"),t=yield Kd(e);this.usuarios=t.docs.map(r=>H({id:r.id},r.data())),this.loading=!1})}filterUsers(){this.usuariosFiltrados=this.usuarios.filter(e=>e.tipo===this.selectedUserType)}toggleEstado(e,t){return E(this,null,function*(){let r=t.target.checked?"aprobado":"pendiente";try{let i=jE(this.firestore,`usuarios/${e.id}`);yield zE(i,{estado:r}),e.estado=r,console.log(`Usuario ${e.nombre} actualizado a estado: ${r}`)}catch(i){console.error("Error actualizando el estado:",i)}})}static \u0275fac=function(t){return new(t||n)(Y(zt))};static \u0275cmp=Ye({type:n,selectors:[["app-usuarios"]],standalone:!0,features:[Ze],decls:14,vars:9,consts:[[1,"wrapper"],[1,"usuarios-section"],[3,"loading"],[1,"tabs-container"],[1,"tabs"],[3,"click","ngClass"],[1,"tab-content"],[4,"ngIf"],[1,"filter-container"],["for","userType"],["id","userType",2,"margin-left","4px","font-size","medium",3,"ngModelChange","change","ngModel"],["value","admin"],["value","especialista"],["value","paciente"],[4,"ngFor","ngForOf"],["type","checkbox",1,"checkboxActivo",3,"change","checked"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),O(3," Usuarios "),b(),te(4,"app-spinner",2),A(5,"div",3)(6,"div",4)(7,"button",5),re("click",function(){return r.activeTab="alta"}),O(8,"Alta Usuarios"),b(),A(9,"button",5),re("click",function(){return r.activeTab="listado"}),O(10,"Listado Usuarios"),b()(),A(11,"div",6),K(12,tM,2,0,"div",7)(13,cM,12,2,"div",7),b()()()()),t&2&&(j(4),B("loading",r.loading),j(3),B("ngClass",zh(5,vI,r.activeTab==="alta")),j(2),B("ngClass",zh(7,vI,r.activeTab==="listado")),j(3),B("ngIf",r.activeTab==="alta"),j(),B("ngIf",r.activeTab==="listado"))},dependencies:[Lt,ky,Oy,Zt,ti,Au,Su,Cu,ei,Xs,np,ih,Wn],styles:['@charset "UTF-8";.wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:92.3vh;width:100vw;background-color:#292952;background-image:url("./media/background-O36KHK4D.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}.usuarios-section[_ngcontent-%COMP%]{background-color:#e6edf7;padding:20px 40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;width:92%;min-width:85%;min-height:700px}.usuarios-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;color:#686868;margin-bottom:20px;text-align:center}.tabs-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.tabs[_ngcontent-%COMP%]   button.active-tab[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6d8efa;border:none;padding:10px 20px;cursor:pointer;font-weight:700;color:#fcfcfc;border-radius:4px;margin:0 5px;font-size:15px;transition:background-color .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#3262ff;color:#fff}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#3262ff;color:#fff;font-weight:700}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.no-users-message[_ngcontent-%COMP%]{text-align:center;color:#777;font-size:16px;margin-top:20px}.filter-container[_ngcontent-%COMP%]{margin-bottom:1rem}.checkboxActivo[_ngcontent-%COMP%]{margin-top:14px;margin-left:20px}']})};var wI=la(Mo()),bI=(n,e)=>Z(Ot).getUserEmail().pipe(he(r=>r==="administrador@prueba.com"?(console.log("Puede pasar"),!0):(console.log("No puede pasar"),wI.default.fire({title:"Error!",text:"Debe iniciar sesi\xF3n como administrador para acceder a esta p\xE1gina",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),!1)));var EI=la(Mo()),II=(n,e)=>{let t=Z(Ot),r=Z(Dt);return t.isLoggedIn().pipe(he(i=>i?(console.log("Puede pasar"),!0):(console.log("No puede pasar"),EI.default.fire({title:"Error!",text:"Debe iniciar sesi\xF3n para acceder a esta p\xE1gina",icon:"error",confirmButtonColor:"#4CAF50",background:"#f2f2f2",heightAuto:!1}),!1)))};var TI=[{path:"",redirectTo:"/bienvenida",pathMatch:"full"},{path:"bienvenida",component:uu},{path:"registro",component:th},{path:"login",component:nh},{path:"perfil",component:rh,canActivate:[II]},{path:"usuarios",component:sh,canActivate:[bI]},{path:"**",redirectTo:"/bienvenida",pathMatch:"full"}];var CI={production:!1,firebaseConfig:{apiKey:"AIzaSyCwWDG1cU4cQb61olWScGill6G6z9wtJL0",authDomain:"sala-juegos-f7ba1.firebaseapp.com",projectId:"sala-juegos-f7ba1",storageBucket:"sala-juegos-f7ba1.appspot.com",messagingSenderId:"791990352942",appId:"1:791990352942:web:139b9d34b45f98c12033bf"}};var lM="@",uM=(()=>{class n{constructor(t,r,i,s,o){this.doc=t,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=Z(my,{optional:!0}),this.loadingSchedulerFn=Z(dM,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-LZJWLMFO.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new Ne(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new j_(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(t,r);s.use(c),this.scheduler?.notify(10)}).catch(o=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(r){jh()}}static{this.\u0275prov=_e({token:n,factory:n.\u0275fac})}}return n})(),j_=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(lM)}},dM=new me("");function AI(n="animations"){return $h("NgAsyncAnimations"),Ct([{provide:xl,useFactory:(e,t,r)=>new uM(e,t,r,n),deps:[xt,zl,Xe]},{provide:fy,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var SI={providers:[Ry({eventCoalescing:!0}),Vv(TI),$w(()=>qw(CI.firebaseConfig)),j0(()=>z0()),BE(()=>$E()),gI(()=>_I()),Gy(),AI()]};function hM(n,e){n&1&&(A(0,"a",6),O(1,"Inicio"),b())}function fM(n,e){n&1&&(A(0,"a",7),O(1,"Usuarios"),b())}function pM(n,e){n&1&&(A(0,"a",8),O(1,"Mi Perfil"),b())}function mM(n,e){if(n&1){let t=Xt();A(0,"a",9),re("click",function(){Ae(t);let i=ne();return Se(i.logout())}),O(1,"Cerrar Sesi\xF3n"),b()}}var oh=class n{constructor(e){this.auth=e}isLoggedIn=!1;userEmail;ngOnInit(){this.auth.isLoggedIn().pipe(he(e=>({loggedIn:!!e,email:e?e.email:null}))).subscribe(({loggedIn:e,email:t})=>{this.isLoggedIn=e,this.userEmail=t})}logout(){this.auth.logout(),this.auth.mailUsuario="",this.auth.tipoUsuario="",this.auth.nombreUsuario=""}static \u0275fac=function(t){return new(t||n)(Y(Ot))};static \u0275cmp=Ye({type:n,selectors:[["app-header"]],standalone:!0,features:[Ze],decls:13,vars:4,consts:[[1,"navbar"],["src","icon.png","alt","Icono",1,"icon-photo"],["routerLink","home","routerLinkActive","active-route",4,"ngIf"],["routerLink","usuarios",4,"ngIf"],["routerLink","perfil","routerLinkActive","active-route",4,"ngIf"],["routerLink","/login","routerLinkActive","active-route",3,"click",4,"ngIf"],["routerLink","home","routerLinkActive","active-route"],["routerLink","usuarios"],["routerLink","perfil","routerLinkActive","active-route"],["routerLink","/login","routerLinkActive","active-route",3,"click"]],template:function(t,r){t&1&&(A(0,"header")(1,"nav",0)(2,"ul")(3,"li"),te(4,"img",1),b(),A(5,"li"),K(6,hM,2,0,"a",2),b(),A(7,"li"),K(8,fM,2,0,"a",3),b(),A(9,"li"),K(10,pM,2,0,"a",4),b(),A(11,"li"),K(12,mM,2,0,"a",5),b()()()()),t&2&&(j(6),B("ngIf",!r.isLoggedIn),j(2),B("ngIf",r.auth.tipoUsuario=="admin"),j(2),B("ngIf",r.isLoggedIn),j(2),B("ngIf",r.isLoggedIn))},dependencies:[ou,Mv,Lt,Zt],styles:['@charset "UTF-8";nav[_ngcontent-%COMP%]   a.active-route[_ngcontent-%COMP%]{font-weight:700}header[_ngcontent-%COMP%]{padding:0 30px;box-shadow:0 4px 6px #0000001a;top:0;position:sticky;z-index:1000;display:flex;justify-content:flex-start;align-items:center;min-height:70px;background-color:#fff;border-radius:15px}nav[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;align-items:center;list-style-type:none;padding:0;margin:0 0 0 auto;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:20px;display:flex;align-items:center;height:100%}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:400;font-size:18px;padding:8px 15px;border-radius:5px;transition:background-color .3s,color .3s}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#007bff}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;font-weight:600}.icon-photo[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;object-fit:cover;display:block}']})};var ah=class n{title="tp-clinica-online";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ye({type:n,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:2,vars:0,template:function(t,r){t&1&&te(0,"app-header")(1,"router-outlet")},dependencies:[Bf,oh]})};Xy(ah,SI).catch(n=>console.error(n));
